"use strict";(self.webpackChunkadmin2=self.webpackChunkadmin2||[]).push([[310],{5310:(Dt,x,p)=>{p.r(x),p.d(x,{SettingsModule:()=>Yt});var u=p(9808),R=p(2461),h=p(440),A=p(7579),c=p(2722),U=p(5698),S=p(5330);class r{constructor(s,e,i,o,l){this.changed=s,this.loading=e,this.values=i,this.defaultOptions=o,this.defaultValues=l}}var t=p(7587);let _=(()=>{class n{constructor(){}static createDate(e){return"object"==typeof e&&e.date?new Date(e.date):null}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();var G=p(8958),f=p(4332),Z=p(1480),N=p(845),v=p(5787),T=p(3787),L=p(3724),M=p(6198),E=p(2925);const O=["filesWidget"];function w(n,s){1&n&&t._UZ(0,"i",14)}function y(n,s){1&n&&t._UZ(0,"i",14)}function J(n,s){1&n&&t._UZ(0,"i",14)}function q(n,s){1&n&&t._UZ(0,"i",15)}function P(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",16),t._UZ(1,"app-file-widget",17,18),t.TgZ(3,"div",19)(4,"button",20),t.NdJ("click",function(o){return t.CHM(e),t.oxw().skipStepHandler(o)}),t.ALo(5,"translate"),t.qZA()()()}2&n&&(t.xp6(1),t.Q6J("hasPreviewImage",!1)("allowMultiple",!1)("allowedExtensions",".zip"),t.xp6(3),t.Q6J("label",t.lcZ(5,4,"SKIP")))}function Y(n,s){if(1&n&&(t.TgZ(0,"div")(1,"div",21),t._uU(2),t.ALo(3,"translate"),t.TgZ(4,"span"),t._uU(5),t.qZA(),t._UZ(6,"br"),t._uU(7),t.ALo(8,"translate"),t.TgZ(9,"b",22),t._uU(10),t.qZA()(),t.TgZ(11,"p-accordion")(12,"p-accordionTab",23),t.ALo(13,"translate"),t.TgZ(14,"pre",24),t._uU(15),t.qZA()()()()),2&n){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,6,"CURRENT_VERSION"),": "),t.xp6(3),t.Oqu(e.currentVersion),t.xp6(2),t.hij(" ",t.lcZ(8,8,"NEW_VERSION"),": "),t.xp6(3),t.Oqu(e.version),t.xp6(2),t.Q6J("header",t.lcZ(13,10,"CHANGELOG")),t.xp6(3),t.Oqu(e.changelogContent)}}function D(n,s){if(1&n&&(t.TgZ(0,"div",25),t._UZ(1,"ngb-progressbar",26),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("striped",!0)("animated",!0)("value",e.updatePercent)("showValue",!0)}}function k(n,s){if(1&n&&(t.TgZ(0,"div",27),t._UZ(1,"p-message",28),t.ALo(2,"translate"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("closable",!0)("text",t.lcZ(2,2,e.errorMessage))}}function H(n,s){1&n&&(t.TgZ(0,"div",29),t._UZ(1,"p-progressSpinner"),t.qZA())}const Q=function(n){return{"no-events loading":n}},C=function(n){return{"text-400":n}};let V=(()=>{class n{constructor(e,i,o,l){this.ref=e,this.config=i,this.dataService=o,this.appSettings=l,this.loading=!1,this.destroyed$=new A.x,this.stepNumber=1,this.updatePercent=0,this.isUpdateStarted=!1,this.isCollapsed=!0}ngOnInit(){this.currentVersion=this.appSettings.settings.version}nextStepHandler(e){switch(e&&e.preventDefault(),this.errorMessage="",this.stepNumber){case 1:if(0===this.filesWidget.filesRaw.length)return void(this.errorMessage="PLEASE_SELECT_FILE");this.isUpdateStarted=!1;const i=new FormData;i.append("file",this.filesWidget.filesRaw[0]),this.loading=!0,this.dataService.postFormData(i,"admin/system_update/upload").pipe((0,c.R)(this.destroyed$)).subscribe({next:o=>{this.loading=!1,this.stepNumber=2},error:o=>{o.error&&(this.errorMessage=o.error),this.loading=!1}});break;case 2:this.loading=!0,this.dataService.runAction("admin/system_update/pre_update").pipe((0,c.R)(this.destroyed$)).subscribe({next:o=>{this.stepNumber=3,this.version=o.version||"",this.changelogContent=o.changelogContent||"",this.loading=!1},error:o=>{o.error&&(this.errorMessage=o.error),this.loading=!1}});break;case 3:this.updateRunStep("vendors")}}skipStepHandler(e){e&&e.preventDefault(),this.errorMessage="",this.stepNumber++}updateRunStep(e){const i=["vendor","src","template","config"],o=i.indexOf(e);0===o&&(this.loading=!0,this.isUpdateStarted=!0,this.updatePercent=0),this.dataService.runAction(`admin/system_update/execute/${e}`).pipe((0,c.R)(this.destroyed$)).subscribe({next:l=>{this.updatePercent=(o+1)/i.length*100,100===this.updatePercent?(this.stepNumber=4,setTimeout(this.onUpdateComplete.bind(this),1e3)):this.updateRunStep(i[o+1])},error:l=>{l.error&&(this.errorMessage=l.error),this.loading=!1,this.isUpdateStarted=!1,this.updatePercent=0}})}closeModal(e){this.ref.close(e)}onUpdateComplete(){this.loading=!1,this.closeModal("completed")}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(S.E7),t.Y36(S.S),t.Y36(f.g),t.Y36(Z.d))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-modal-system-update"]],viewQuery:function(e,i){if(1&e&&t.Gf(O,5),2&e){let o;t.iGM(o=t.CRH())&&(i.filesWidget=o.first)}},decls:29,vars:38,consts:[[3,"ngClass"],[1,"mb-3",3,"ngClass"],["class","pi pi-check-circle mr-2 text-green-500",4,"ngIf","ngIfElse"],["iconCircleTemplate",""],["class","show-on-hover-parent",4,"ngIf"],[4,"ngIf"],["class","py-4",4,"ngIf"],["class","pt-3 mb-3",4,"ngIf"],[1,"text-center","pt-3"],[1,"grid"],[1,"col-12","md:col-6","pb-0"],["pButton","","pRipple","","type","button","icon","pi pi-arrow-right",1,"p-button-success","p-button-raised","w-full","mb-2","md:mb-0",3,"label","click"],["pButton","","pRipple","","type","button",1,"p-button-secondary","p-button-raised","w-full",3,"label","click"],["class","loading-overlay",4,"ngIf"],[1,"pi","pi-check-circle","mr-2","text-green-500"],[1,"pi","pi-circle","mr-2"],[1,"show-on-hover-parent"],["fieldName","file",3,"hasPreviewImage","allowMultiple","allowedExtensions"],["filesWidget",""],[1,"absolute","pos-left10","pos-bottom10","show-on-hover"],["pButton","","pRipple","","type","button",1,"p-button-outlined","p-button-sm","px-2","py-1",3,"label","click"],[1,"text-green-500","mb-2"],[1,"big"],[3,"header"],[1,"max-height400","mb-0"],[1,"py-4"],["type","info","textType","white",3,"striped","animated","value","showValue"],[1,"pt-3","mb-3"],["styleClass","block w-full text-left","severity","error",3,"closable","text"],[1,"loading-overlay"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0)(1,"div")(2,"div",1),t.YNc(3,w,1,0,"i",2),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",1),t.YNc(7,y,1,0,"i",2),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"div",1),t.YNc(11,J,1,0,"i",2),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.YNc(14,q,1,0,"ng-template",null,3,t.W1O),t.qZA(),t.YNc(16,P,6,6,"div",4),t.YNc(17,Y,16,12,"div",5),t.YNc(18,D,2,4,"div",6),t.YNc(19,k,3,4,"div",7),t.qZA(),t.TgZ(20,"div",8)(21,"div",9)(22,"div",10)(23,"button",11),t.NdJ("click",function(l){return i.nextStepHandler(l)}),t.ALo(24,"translate"),t.qZA()(),t.TgZ(25,"div",10)(26,"button",12),t.NdJ("click",function(){return i.closeModal("close")}),t.ALo(27,"translate"),t.qZA()()()(),t.YNc(28,H,2,0,"div",13)),2&e){const o=t.MAs(15);t.Q6J("ngClass",t.VKq(30,Q,i.loading)),t.xp6(2),t.Q6J("ngClass",t.VKq(32,C,1!=i.stepNumber)),t.xp6(1),t.Q6J("ngIf",i.stepNumber>1)("ngIfElse",o),t.xp6(1),t.hij(" ",t.lcZ(5,20,"SYSTEM_UPDATE_STEP1_DESCRIPTION")," "),t.xp6(2),t.Q6J("ngClass",t.VKq(34,C,2!=i.stepNumber)),t.xp6(1),t.Q6J("ngIf",i.stepNumber>2)("ngIfElse",o),t.xp6(1),t.hij(" ",t.lcZ(9,22,"SYSTEM_UPDATE_STEP2_DESCRIPTION")," "),t.xp6(2),t.Q6J("ngClass",t.VKq(36,C,3!=i.stepNumber)),t.xp6(1),t.Q6J("ngIf",i.stepNumber>3)("ngIfElse",o),t.xp6(1),t.hij(" ",t.lcZ(13,24,"SYSTEM_UPDATE_STEP3_DESCRIPTION")," "),t.xp6(4),t.Q6J("ngIf",1==i.stepNumber),t.xp6(1),t.Q6J("ngIf",3==i.stepNumber&&!i.isUpdateStarted),t.xp6(1),t.Q6J("ngIf",i.isUpdateStarted),t.xp6(1),t.Q6J("ngIf",i.errorMessage),t.xp6(4),t.Q6J("label",t.lcZ(24,26,"CONTINUE")),t.xp6(3),t.Q6J("label",t.lcZ(27,28,"CLOSE")),t.xp6(2),t.Q6J("ngIf",i.loading)}},directives:[u.mk,u.O5,G.E,N.Hq,v.H,T.UQ,T.US,L.q,M.G],pipes:[E.X$],encapsulation:2}),n})();var I=p(9783),g=p(5050),F=p(4119),d=p(3075),$=p(1424),j=p(6888),B=p(1874);let K=(()=>{class n{transform(e,i){if(i&&Array.isArray(e)){const o=Object.keys(i);return e.filter(l=>o.reduce((a,m)=>a&&l[m].indexOf(i[m])>-1,!0))}return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"filter",type:n,pure:!1}),n})();function z(n,s){1&n&&(t.TgZ(0,"tr")(1,"th"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"th"),t._uU(5),t.ALo(6,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,2,"PARAMETER")),t.xp6(3),t.Oqu(t.lcZ(6,4,"VALUE")))}function W(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",51),t.NdJ("click",function(o){t.CHM(e);const l=t.oxw().$implicit;return t.oxw().onRowEditInit(l,o)}),t.ALo(1,"translate"),t.qZA()}2&n&&t.Q6J("pTooltip",t.lcZ(1,1,"EDIT"))}function X(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",52),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit;return t.oxw().onRowEditSave(o)}),t.ALo(1,"translate"),t.qZA()}2&n&&t.Q6J("pTooltip",t.lcZ(1,1,"SAVE"))}function tt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",53),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(),l=o.$implicit,a=o.rowIndex;return t.oxw().onRowEditCancel(l,a)}),t.ALo(1,"translate"),t.qZA()}2&n&&t.Q6J("pTooltip",t.lcZ(1,1,"CANCEL"))}function et(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"input",54),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw().$implicit.value=o}),t.qZA()}if(2&n){const e=t.oxw().$implicit;t.Q6J("ngModel",e.value)}}const nt=function(n){return{"text-password":n}};function it(n,s){if(1&n&&(t.TgZ(0,"div",55),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit,i=t.oxw();t.Q6J("title",e.value)("ngClass",t.VKq(3,nt,"password"==i.getFieldTypeByName(e))),t.xp6(1),t.hij(" ",e.value," ")}}function ot(n,s){if(1&n&&(t.TgZ(0,"tr",35)(1,"td",36)(2,"div",37)(3,"div",38)(4,"div",39)(5,"span",40),t._uU(6),t.qZA()()(),t.TgZ(7,"div",41),t.ALo(8,"translate"),t._uU(9),t.ALo(10,"translate"),t.qZA()()(),t.TgZ(11,"td",42)(12,"div",43)(13,"div",44),t.YNc(14,W,2,3,"button",45),t.YNc(15,X,2,3,"button",46),t.YNc(16,tt,2,3,"button",47),t.qZA(),t.TgZ(17,"p-cellEditor",48),t.YNc(18,et,1,1,"ng-template",49),t.YNc(19,it,2,5,"ng-template",50),t.qZA()()()()),2&n){const e=s.$implicit,i=s.editing;t.Q6J("pEditableRow",e),t.xp6(6),t.Oqu(e.name),t.xp6(1),t.Q6J("title",t.lcZ(8,9,e.name)),t.xp6(2),t.hij(" ",t.lcZ(10,11,e.name)," "),t.xp6(4),t.ekj("pos-top10",!i),t.xp6(1),t.Q6J("ngIf",!i),t.xp6(1),t.Q6J("ngIf",i),t.xp6(1),t.Q6J("ngIf",i)}}function st(n,s){1&n&&(t.TgZ(0,"tr")(1,"th",56),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"th",56),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th",57),t._uU(8),t.ALo(9,"translate"),t.qZA(),t._UZ(10,"th",57),t.qZA()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,3,"NAME")),t.xp6(3),t.Oqu(t.lcZ(6,5,"MAIL_TEMPLATE")),t.xp6(3),t.Oqu(t.lcZ(9,7,"COLOR")))}function lt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"input",58),t.NdJ("ngModelChange",function(o){return t.CHM(e).$implicit.name=o})("ngModelChange",function(){return t.CHM(e),t.oxw().onValueChanged("SETTINGS_ORDER_STATUSES")}),t.qZA()(),t.TgZ(3,"td")(4,"input",58),t.NdJ("ngModelChange",function(o){return t.CHM(e).$implicit.options.template.value=o})("ngModelChange",function(){return t.CHM(e),t.oxw().onValueChanged("SETTINGS_ORDER_STATUSES")}),t.qZA()(),t.TgZ(5,"td")(6,"p-colorPicker",59),t.NdJ("ngModelChange",function(o){return t.CHM(e).$implicit.options.color.value=o})("ngModelChange",function(){return t.CHM(e),t.oxw().onValueChanged("SETTINGS_ORDER_STATUSES")}),t.qZA()(),t.TgZ(7,"td")(8,"button",60),t.NdJ("click",function(){const l=t.CHM(e).rowIndex;return t.oxw().deleteSetting("SETTINGS_ORDER_STATUSES",l)}),t.ALo(9,"translate"),t.qZA()()()}if(2&n){const e=s.$implicit;t.xp6(2),t.Q6J("ngModel",e.name),t.xp6(2),t.Q6J("ngModel",e.options.template.value),t.xp6(2),t.Q6J("appendTo","body")("ngModel",e.options.color.value),t.xp6(2),t.Q6J("pTooltip",t.lcZ(9,5,"DELETE"))}}function at(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",39)(1,"button",65),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).saveSettings("SETTINGS_ORDER_STATUSES")}),t.ALo(2,"translate"),t.qZA(),t._uU(3," \xa0 "),t.TgZ(4,"button",66),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).resetSettingsForm("SETTINGS_ORDER_STATUSES")}),t.ALo(5,"translate"),t.qZA()()}2&n&&(t.xp6(1),t.s9C("pTooltip",t.lcZ(2,2,"SAVE")),t.xp6(3),t.s9C("pTooltip",t.lcZ(5,4,"FORM_RESET")))}function pt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td",61)(2,"div",62),t.YNc(3,at,6,6,"div",63),t.qZA(),t.TgZ(4,"button",64),t.NdJ("click",function(){return t.CHM(e),t.oxw().addSetting("SETTINGS_ORDER_STATUSES")}),t.ALo(5,"translate"),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",e.settings.SETTINGS_ORDER_STATUSES.changed),t.xp6(1),t.Q6J("label",t.lcZ(5,2,"ADD"))}}function _t(n,s){1&n&&(t.TgZ(0,"tr")(1,"th",56),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"th",67),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th",67),t._uU(8),t.ALo(9,"translate"),t.qZA(),t._UZ(10,"th",57),t.qZA()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,3,"NAME")),t.xp6(3),t.Oqu(t.lcZ(6,5,"PRICE")),t.xp6(3),t.Oqu(t.lcZ(9,7,"MAX_PRICE")))}function rt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"input",58),t.NdJ("ngModelChange",function(o){return t.CHM(e).$implicit.name=o})("ngModelChange",function(){return t.CHM(e),t.oxw().onValueChanged("SETTINGS_DELIVERY")}),t.qZA()(),t.TgZ(3,"td",68)(4,"input",69),t.NdJ("ngModelChange",function(o){return t.CHM(e).$implicit.options.price.value=o})("ngModelChange",function(){return t.CHM(e),t.oxw().onValueChanged("SETTINGS_DELIVERY")}),t.qZA()(),t.TgZ(5,"td",68)(6,"input",69),t.NdJ("ngModelChange",function(o){return t.CHM(e).$implicit.options.priceLimit.value=o})("ngModelChange",function(){return t.CHM(e),t.oxw().onValueChanged("SETTINGS_DELIVERY")}),t.qZA()(),t.TgZ(7,"td")(8,"button",60),t.NdJ("click",function(){const l=t.CHM(e).rowIndex;return t.oxw().deleteSetting("SETTINGS_DELIVERY",l)}),t.ALo(9,"translate"),t.qZA()()()}if(2&n){const e=s.$implicit;t.xp6(2),t.Q6J("ngModel",e.name),t.xp6(2),t.Q6J("ngModel",e.options.price.value),t.xp6(2),t.Q6J("ngModel",e.options.priceLimit.value),t.xp6(2),t.Q6J("pTooltip",t.lcZ(9,4,"DELETE"))}}function ct(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",39)(1,"button",65),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).saveSettings("SETTINGS_DELIVERY")}),t.ALo(2,"translate"),t.qZA(),t._uU(3," \xa0 "),t.TgZ(4,"button",66),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).resetSettingsForm("SETTINGS_DELIVERY")}),t.ALo(5,"translate"),t.qZA()()}2&n&&(t.xp6(1),t.s9C("pTooltip",t.lcZ(2,2,"SAVE")),t.xp6(3),t.s9C("pTooltip",t.lcZ(5,4,"FORM_RESET")))}function gt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td",61)(2,"div",62),t.YNc(3,ct,6,6,"div",63),t.qZA(),t.TgZ(4,"button",64),t.NdJ("click",function(){return t.CHM(e),t.oxw().addSetting("SETTINGS_DELIVERY")}),t.ALo(5,"translate"),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",e.settings.SETTINGS_DELIVERY.changed),t.xp6(1),t.Q6J("label",t.lcZ(5,2,"ADD"))}}function ut(n,s){1&n&&(t.TgZ(0,"tr")(1,"th",70),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"th",70),t._uU(5),t.ALo(6,"translate"),t.qZA(),t._UZ(7,"th",57),t.qZA()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,2,"NAME")),t.xp6(3),t.Oqu(t.lcZ(6,4,"VALUE")))}function dt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"input",58),t.NdJ("ngModelChange",function(o){return t.CHM(e).$implicit.name=o})("ngModelChange",function(){return t.CHM(e),t.oxw().onValueChanged("SETTINGS_PAYMENT")}),t.qZA()(),t.TgZ(3,"td")(4,"input",58),t.NdJ("ngModelChange",function(o){return t.CHM(e).$implicit.options.value.value=o})("ngModelChange",function(){return t.CHM(e),t.oxw().onValueChanged("SETTINGS_PAYMENT")}),t.qZA()(),t.TgZ(5,"td")(6,"button",60),t.NdJ("click",function(){const l=t.CHM(e).rowIndex;return t.oxw().deleteSetting("SETTINGS_PAYMENT",l)}),t.ALo(7,"translate"),t.qZA()()()}if(2&n){const e=s.$implicit;t.xp6(2),t.Q6J("ngModel",e.name),t.xp6(2),t.Q6J("ngModel",e.options.value.value),t.xp6(2),t.Q6J("pTooltip",t.lcZ(7,3,"DELETE"))}}function St(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",39)(1,"button",65),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).saveSettings("SETTINGS_PAYMENT")}),t.ALo(2,"translate"),t.qZA(),t._uU(3," \xa0 "),t.TgZ(4,"button",66),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).resetSettingsForm("SETTINGS_PAYMENT")}),t.ALo(5,"translate"),t.qZA()()}2&n&&(t.xp6(1),t.s9C("pTooltip",t.lcZ(2,2,"SAVE")),t.xp6(3),t.s9C("pTooltip",t.lcZ(5,4,"FORM_RESET")))}function Tt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td",71)(2,"div",62),t.YNc(3,St,6,6,"div",63),t.qZA(),t.TgZ(4,"button",64),t.NdJ("click",function(){return t.CHM(e),t.oxw().addSetting("SETTINGS_PAYMENT")}),t.ALo(5,"translate"),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",e.settings.SETTINGS_PAYMENT.changed),t.xp6(1),t.Q6J("label",t.lcZ(5,2,"ADD"))}}function mt(n,s){1&n&&(t.TgZ(0,"tr")(1,"th",70),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"th",70),t._uU(5),t.ALo(6,"translate"),t.qZA(),t._UZ(7,"th",57),t.qZA()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,2,"CURRENCY")),t.xp6(3),t.Oqu(t.lcZ(6,4,"VALUE")))}function Et(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"input",58),t.NdJ("ngModelChange",function(o){return t.CHM(e).$implicit.name=o})("ngModelChange",function(){return t.CHM(e),t.oxw().onValueChanged("SETTINGS_CURRENCY")}),t.qZA()(),t.TgZ(3,"td")(4,"input",72),t.NdJ("ngModelChange",function(o){return t.CHM(e).$implicit.options.value.value=o})("ngModelChange",function(){return t.CHM(e),t.oxw().onValueChanged("SETTINGS_CURRENCY")}),t.qZA()(),t.TgZ(5,"td")(6,"button",60),t.NdJ("click",function(){const l=t.CHM(e).rowIndex;return t.oxw().deleteSetting("SETTINGS_CURRENCY",l)}),t.ALo(7,"translate"),t.qZA()()()}if(2&n){const e=s.$implicit;t.xp6(2),t.Q6J("ngModel",e.name),t.xp6(2),t.Q6J("ngModel",e.options.value.value),t.xp6(2),t.Q6J("pTooltip",t.lcZ(7,3,"DELETE"))}}function Ct(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",39)(1,"button",65),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).saveSettings("SETTINGS_CURRENCY")}),t.ALo(2,"translate"),t.qZA(),t._uU(3," \xa0 "),t.TgZ(4,"button",66),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).resetSettingsForm("SETTINGS_CURRENCY")}),t.ALo(5,"translate"),t.qZA()()}2&n&&(t.xp6(1),t.s9C("pTooltip",t.lcZ(2,2,"SAVE")),t.xp6(3),t.s9C("pTooltip",t.lcZ(5,4,"FORM_RESET")))}function xt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td",71)(2,"div",62),t.YNc(3,Ct,6,6,"div",63),t.qZA(),t.TgZ(4,"button",64),t.NdJ("click",function(){return t.CHM(e),t.oxw().addSetting("SETTINGS_CURRENCY")}),t.ALo(5,"translate"),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",e.settings.SETTINGS_CURRENCY.changed),t.xp6(1),t.Q6J("label",t.lcZ(5,2,"ADD"))}}function ht(n,s){1&n&&(t.TgZ(0,"tr")(1,"th",73),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"th",73),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th",73),t._uU(8),t.ALo(9,"translate"),t.qZA(),t._UZ(10,"th",57),t.qZA()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,3,"PROMO_CODE")),t.xp6(3),t.Oqu(t.lcZ(6,5,"VALUE")),t.xp6(3),t.Oqu(t.lcZ(9,7,"QUANTITY")))}function At(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"input",58),t.NdJ("ngModelChange",function(o){return t.CHM(e).$implicit.name=o})("ngModelChange",function(){return t.CHM(e),t.oxw().onValueChanged("SETTINGS_PROMOCODES")}),t.qZA()(),t.TgZ(3,"td")(4,"input",58),t.NdJ("ngModelChange",function(o){return t.CHM(e).$implicit.options.value.value=o})("ngModelChange",function(){return t.CHM(e),t.oxw().onValueChanged("SETTINGS_PROMOCODES")}),t.qZA()(),t.TgZ(5,"td")(6,"input",72),t.NdJ("ngModelChange",function(o){return t.CHM(e).$implicit.options.quantity.value=o})("ngModelChange",function(){return t.CHM(e),t.oxw().onValueChanged("SETTINGS_PROMOCODES")}),t.qZA()(),t.TgZ(7,"td")(8,"button",60),t.NdJ("click",function(){const l=t.CHM(e).rowIndex;return t.oxw().deleteSetting("SETTINGS_PROMOCODES",l)}),t.ALo(9,"translate"),t.qZA()()()}if(2&n){const e=s.$implicit;t.xp6(2),t.Q6J("ngModel",e.name),t.xp6(2),t.Q6J("ngModel",e.options.value.value),t.xp6(2),t.Q6J("ngModel",e.options.quantity.value),t.xp6(2),t.Q6J("pTooltip",t.lcZ(9,4,"DELETE"))}}function ft(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",39)(1,"button",65),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).saveSettings("SETTINGS_PROMOCODES")}),t.ALo(2,"translate"),t.qZA(),t._uU(3," \xa0 "),t.TgZ(4,"button",66),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).resetSettingsForm("SETTINGS_PROMOCODES")}),t.ALo(5,"translate"),t.qZA()()}2&n&&(t.xp6(1),t.s9C("pTooltip",t.lcZ(2,2,"SAVE")),t.xp6(3),t.s9C("pTooltip",t.lcZ(5,4,"FORM_RESET")))}function Zt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td",61)(2,"div",62),t.YNc(3,ft,6,6,"div",63),t.qZA(),t.TgZ(4,"button",64),t.NdJ("click",function(){return t.CHM(e),t.oxw().addSetting("SETTINGS_PROMOCODES")}),t.ALo(5,"translate"),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",e.settings.SETTINGS_PROMOCODES.changed),t.xp6(1),t.Q6J("label",t.lcZ(5,2,"ADD"))}}function Nt(n,s){1&n&&(t.TgZ(0,"tr")(1,"th",70),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"th",70),t._uU(5),t.ALo(6,"translate"),t.qZA(),t._UZ(7,"th",57),t.qZA()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,2,"LANGUAGE")),t.xp6(3),t.Oqu(t.lcZ(6,4,"LOCALE")))}function vt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"input",58),t.NdJ("ngModelChange",function(o){return t.CHM(e).$implicit.name=o})("ngModelChange",function(){return t.CHM(e),t.oxw().onValueChanged("SETTINGS_LANGUAGES")}),t.qZA()(),t.TgZ(3,"td")(4,"input",58),t.NdJ("ngModelChange",function(o){return t.CHM(e).$implicit.options.value.value=o})("ngModelChange",function(){return t.CHM(e),t.oxw().onValueChanged("SETTINGS_LANGUAGES")}),t.qZA()(),t.TgZ(5,"td")(6,"button",60),t.NdJ("click",function(){const l=t.CHM(e).rowIndex;return t.oxw().deleteSetting("SETTINGS_LANGUAGES",l)}),t.ALo(7,"translate"),t.qZA()()()}if(2&n){const e=s.$implicit;t.xp6(2),t.Q6J("ngModel",e.name),t.xp6(2),t.Q6J("ngModel",e.options.value.value),t.xp6(2),t.Q6J("pTooltip",t.lcZ(7,3,"DELETE"))}}function Mt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",39)(1,"button",65),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).saveSettings("SETTINGS_LANGUAGES")}),t.ALo(2,"translate"),t.qZA(),t._uU(3," \xa0 "),t.TgZ(4,"button",66),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).resetSettingsForm("SETTINGS_LANGUAGES")}),t.ALo(5,"translate"),t.qZA()()}2&n&&(t.xp6(1),t.s9C("pTooltip",t.lcZ(2,2,"SAVE")),t.xp6(3),t.s9C("pTooltip",t.lcZ(5,4,"FORM_RESET")))}function It(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td",71)(2,"div",62),t.YNc(3,Mt,6,6,"div",63),t.qZA(),t.TgZ(4,"button",64),t.NdJ("click",function(){return t.CHM(e),t.oxw().addSetting("SETTINGS_LANGUAGES")}),t.ALo(5,"translate"),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",e.settings.SETTINGS_LANGUAGES.changed),t.xp6(1),t.Q6J("label",t.lcZ(5,2,"ADD"))}}function bt(n,s){1&n&&(t.TgZ(0,"tr")(1,"th",70),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"th",70),t._uU(5),t.ALo(6,"translate"),t.qZA(),t._UZ(7,"th",57),t.qZA()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,2,"SYSTEM_NAME")),t.xp6(3),t.Oqu(t.lcZ(6,4,"NAME")))}function Rt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"input",58),t.NdJ("ngModelChange",function(o){return t.CHM(e).$implicit.name=o})("ngModelChange",function(){return t.CHM(e),t.oxw().onValueChanged("SETTINGS_USER_GROUPS")}),t.qZA()(),t.TgZ(3,"td")(4,"input",58),t.NdJ("ngModelChange",function(o){return t.CHM(e).$implicit.options.value.value=o})("ngModelChange",function(){return t.CHM(e),t.oxw().onValueChanged("SETTINGS_USER_GROUPS")}),t.qZA()(),t.TgZ(5,"td")(6,"button",60),t.NdJ("click",function(){const l=t.CHM(e).rowIndex;return t.oxw().deleteSetting("SETTINGS_USER_GROUPS",l)}),t.ALo(7,"translate"),t.qZA()()()}if(2&n){const e=s.$implicit;t.xp6(2),t.Q6J("ngModel",e.name),t.xp6(2),t.Q6J("ngModel",e.options.value.value),t.xp6(2),t.Q6J("pTooltip",t.lcZ(7,3,"DELETE"))}}function Ut(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",39)(1,"button",65),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).saveSettings("SETTINGS_USER_GROUPS")}),t.ALo(2,"translate"),t.qZA(),t._uU(3," \xa0 "),t.TgZ(4,"button",66),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).resetSettingsForm("SETTINGS_USER_GROUPS")}),t.ALo(5,"translate"),t.qZA()()}2&n&&(t.xp6(1),t.s9C("pTooltip",t.lcZ(2,2,"SAVE")),t.xp6(3),t.s9C("pTooltip",t.lcZ(5,4,"FORM_RESET")))}function Gt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td",71)(2,"div",62),t.YNc(3,Ut,6,6,"div",63),t.qZA(),t.TgZ(4,"button",64),t.NdJ("click",function(){return t.CHM(e),t.oxw().addSetting("SETTINGS_USER_GROUPS")}),t.ALo(5,"translate"),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",e.settings.SETTINGS_USER_GROUPS.changed),t.xp6(1),t.Q6J("label",t.lcZ(5,2,"ADD"))}}function Lt(n,s){1&n&&(t.TgZ(0,"div",74),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"NOTHING_FOUND"),". "))}function Ot(n,s){1&n&&(t.TgZ(0,"tr")(1,"th",77),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"th",56),t._uU(5),t.ALo(6,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,2,"NAME")),t.xp6(3),t.Oqu(t.lcZ(6,4,"VERSION")))}function wt(n,s){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA()()),2&n){const e=s.$implicit;t.xp6(2),t.hij(" ",e.name," "),t.xp6(2),t.hij(" ",e.version," ")}}const b=function(n){return{name:n}};function yt(n,s){if(1&n&&(t.TgZ(0,"div")(1,"div",75)(2,"p-table",76),t.ALo(3,"filter"),t.YNc(4,Ot,7,6,"ng-template",14),t.YNc(5,wt,5,2,"ng-template",15),t.qZA()()()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("value",t.xi3(3,3,e.composerPackages,t.VKq(6,b,e.composerPackageNameFilter)))("scrollable",!0)("loading",e.settings.SETTINGS_COMPOSER_PACKAGES.loading)}}function Jt(n,s){1&n&&(t.TgZ(0,"div",78),t._UZ(1,"p-progressSpinner"),t.qZA())}const qt=[{path:"",component:(()=>{class n{constructor(e,i,o,l,a){this.messageService=e,this.settingsService=i,this.appSettings=o,this.dialogService=l,this.translateService=a,this.loading=!1,this.baseUrl="",this.scrollHeight=600,this.composerPackages=[],this.composerPackageName="",this.composerPackageVersion="",this.composerPackageNameFilter="",this.settingsCloned={},this.settings={SETTINGS_MAIN:new r(!1,!0,[],null),SETTINGS_ORDER_STATUSES:new r(!1,!0,[],{template:{value:"userEmailStatus",type:"text"},color:{value:"#00aeff",type:"text"}}),SETTINGS_DELIVERY:new r(!1,!0,[],{price:{value:0,type:"number"},priceLimit:{value:0,type:"number"}}),SETTINGS_PROMOCODES:new r(!1,!0,[],{value:{value:"",type:"text"},quantity:{value:0,type:"number"}}),SETTINGS_PAYMENT:new r(!1,!0,[],{value:{value:"",type:"text"}}),SETTINGS_CURRENCY:new r(!1,!0,[],{value:{value:1,type:"number"}}),SETTINGS_LANGUAGES:new r(!1,!0,[],{value:{value:"",type:"text"}}),SETTINGS_USER_GROUPS:new r(!1,!0,[],{value:{value:"",type:"text"}}),SETTINGS_COMPOSER_PACKAGES:new r(!1,!0,[],null)},this.destroyed$=new A.x,this.baseUrl=this.appSettings.settings.webApiUrl+"/",this.menuItems=[{label:this.getLangString("CLEAR_FILE_CACHE"),icon:"pi pi-refresh",command:()=>{this.runActionPost("clear_cache")}},{label:this.getLangString("CLEAR_SYSTEM_CACHE"),icon:"pi pi-sync",command:()=>{this.runActionPost("clear_system_cache")}},{label:this.getLangString("UPDATE_DICTIONARIES"),icon:"pi pi-globe",command:()=>{this.runActionPost("update_internationalization")}},{label:this.getLangString("UPDATE_FILTERS"),icon:"pi pi-tags",command:()=>{this.runActionPost("update_filters")}}]}ngOnInit(){this.getSettings(),this.getComposerPackages()}ngAfterViewInit(){setTimeout(this.scrollHeightUpdate.bind(this),1)}getSettings(){this.settingsService.getList().pipe((0,c.R)(this.destroyed$)).subscribe(e=>{e.SETTINGS_MAIN&&(this.settings.SETTINGS_MAIN.values=e.SETTINGS_MAIN,this.settings.SETTINGS_MAIN.defaultValues=_.cloneDeep(e.SETTINGS_MAIN),this.settings.SETTINGS_MAIN.loading=!1),e.SETTINGS_ORDER_STATUSES&&(this.settings.SETTINGS_ORDER_STATUSES.values=e.SETTINGS_ORDER_STATUSES,this.settings.SETTINGS_ORDER_STATUSES.defaultValues=_.cloneDeep(e.SETTINGS_ORDER_STATUSES),this.settings.SETTINGS_ORDER_STATUSES.loading=!1),e.SETTINGS_DELIVERY&&(this.settings.SETTINGS_DELIVERY.values=e.SETTINGS_DELIVERY,this.settings.SETTINGS_DELIVERY.defaultValues=_.cloneDeep(e.SETTINGS_DELIVERY),this.settings.SETTINGS_DELIVERY.loading=!1),e.SETTINGS_PAYMENT&&(this.settings.SETTINGS_PAYMENT.values=e.SETTINGS_PAYMENT,this.settings.SETTINGS_PAYMENT.defaultValues=_.cloneDeep(e.SETTINGS_PAYMENT),this.settings.SETTINGS_PAYMENT.loading=!1),e.SETTINGS_CURRENCY&&(this.settings.SETTINGS_CURRENCY.values=e.SETTINGS_CURRENCY,this.settings.SETTINGS_CURRENCY.defaultValues=_.cloneDeep(e.SETTINGS_CURRENCY),this.settings.SETTINGS_CURRENCY.loading=!1),e.SETTINGS_PROMOCODES&&(this.settings.SETTINGS_PROMOCODES.values=e.SETTINGS_PROMOCODES,this.settings.SETTINGS_PROMOCODES.defaultValues=_.cloneDeep(e.SETTINGS_PROMOCODES),this.settings.SETTINGS_PROMOCODES.loading=!1),e.SETTINGS_LANGUAGES&&(this.settings.SETTINGS_LANGUAGES.values=e.SETTINGS_LANGUAGES,this.settings.SETTINGS_LANGUAGES.defaultValues=_.cloneDeep(e.SETTINGS_LANGUAGES),this.settings.SETTINGS_LANGUAGES.loading=!1),e.SETTINGS_USER_GROUPS&&(this.settings.SETTINGS_USER_GROUPS.values=e.SETTINGS_USER_GROUPS,this.settings.SETTINGS_USER_GROUPS.defaultValues=_.cloneDeep(e.SETTINGS_USER_GROUPS),this.settings.SETTINGS_USER_GROUPS.loading=!1)})}getComposerPackages(){this.settings.SETTINGS_COMPOSER_PACKAGES.loading=!0,this.settingsService.getComposerPackagesList().pipe((0,c.R)(this.destroyed$)).subscribe({next:e=>{this.composerPackages=e,this.settings.SETTINGS_COMPOSER_PACKAGES.loading=!1},error:e=>{this.settings.SETTINGS_COMPOSER_PACKAGES.loading=!1}})}getActionSuccessMessage(e){let i="";switch(e){case"clear_cache":i=this.getLangString("CACHE_CLEAR_SUCCESSFULLY");break;case"clear_system_cache":i=this.getLangString("CACHE_SYSTEM_CLEAR_SUCCESSFULLY");break;case"update_filters":i=this.getLangString("UPDATE_FILTERS_SUCCESSFULLY")}return i}runActionPost(e){this.loading=!0,this.settingsService.runActionPost(e).pipe((0,c.R)(this.destroyed$)).subscribe({next:i=>{if(this.loading=!1,["update_internationalization"].indexOf(e)>-1)this.pageReload();else if(i&&i.success){const o=this.getActionSuccessMessage(e);o&&this.messageService.add({key:"message",severity:"success",summary:this.getLangString("MESSAGE"),detail:o})}},error:i=>{i.error&&this.messageService.add({key:"message",severity:"error",summary:this.getLangString("ERROR"),detail:i.error}),this.loading=!1}})}saveSettings(e,i){i&&i.preventDefault();const o=this.settings[e].values;this.settings[e].loading=!0,this.settingsService.updateGroup(e,o).pipe((0,c.R)(this.destroyed$)).subscribe({next:l=>{this.messageService.add({key:"message",severity:"success",summary:this.getLangString("MESSAGE"),detail:this.getLangString("DATA_SAVED_SUCCESSFULLY")}),this.settings[e].defaultValues=l,this.settings[e].changed=!1,this.pageReload()},error:l=>{l.error&&this.messageService.add({key:"message",severity:"error",summary:this.getLangString("ERROR"),detail:l.error}),this.settings[e].loading=!1}})}deleteSetting(e,i){this.settings[e].values.splice(i,1),this.settings[e].changed=!0}addSetting(e){const i={name:"",description:"",options:_.cloneDeep(this.settings[e].defaultOptions)};this.settings[e].values.push(i)}onValueChanged(e){this.settings[e].changed=!0}resetSettingsForm(e){const i=this.settings[e].defaultValues.length;i<this.settings[e].values.length&&this.settings[e].values.splice(i-1,this.settings[e].values.length-i),Object.assign(this.settings[e].values,_.cloneDeep(this.settings[e].defaultValues)),this.settings[e].loading=!1,this.settings[e].changed=!1}modalSystemUpdate(e){e&&e.preventDefault(),this.dialogService.open(V,{header:this.getLangString("SYSTEM_UPDATE"),width:"550px",style:{maxWidth:"100%"},data:{}}).onClose.pipe((0,U.q)(1)).subscribe(o=>{"completed"===o&&(this.messageService.add({key:"message",severity:"success",summary:this.getLangString("MESSAGE"),detail:this.getLangString("SYSTEM_UPDATE_COMPLETED")}),setTimeout(this.pageReload.bind(this),2e3))})}scrollHeightUpdate(){const i=window.innerHeight;this.scrollHeight=i-90}getFieldTypeByName(e){return e.name.toLowerCase().indexOf("password")>-1&&e.value?"password":"text"}getLangString(e){return this.translateService.store.translations[this.translateService.currentLang]&&this.translateService.store.translations[this.translateService.currentLang][e]||e}pageReload(){window.location.reload()}onRowEditInit(e,i){if(i){i.preventDefault();const o=i.target.parentNode.parentNode;setTimeout(()=>{o.querySelector('input[type="text"]')&&o.querySelector('input[type="text"]').focus()},0)}this.settingsCloned[e.name]=e.value}onRowEditSave(e){this.saveSettings("SETTINGS_MAIN")}onRowEditCancel(e,i){this.settingsCloned[e.name]&&(e.value=this.settingsCloned[e.name],delete this.settingsCloned[e.name])}navBarToggle(){window.document.querySelector(".layout-sidebar").classList.toggle("active"),window.document.querySelector(".layout-mask").classList.toggle("layout-mask-active")}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(I.ez),t.Y36(f.g),t.Y36(Z.d),t.Y36(S.xA),t.Y36(E.sK))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-settings"]],features:[t._Bn([S.xA])],decls:118,vars:93,consts:[[1,"layout-topbar","justify-content-between"],["type","button",1,"menu-button",3,"click"],[1,"pi","pi-bars"],[1,"layout-topbar-header","text-3xl","text-600"],[1,"fi","fi-br-settings","vertical-align-middle","mr-2"],[1,"vertical-align-middle"],[1,"layout-topbar-right"],["type","button","pButton","","pRipple","","icon","pi pi-chevron-down","iconPos","right",1,"w-full","lg:w-auto",3,"label","click"],[1,"layout-content"],[1,"content-section"],[1,"grid","grid-nogutter"],[1,"col-12","md:col-6"],[1,"p-datatable-table-w-full"],["dataKey","name","editMode","row","responsiveLayout","fixed",3,"value","loading","scrollable","scrollHeight"],["pTemplate","header"],["pTemplate","body"],[1,"p-2","bg-white"],[3,"header"],[1,"pb-3","text-600"],["styleClass","p-datatable-sm","responsiveLayout","scroll",3,"value","loading"],["pTemplate","footer"],[1,"flex"],[1,"flex-grow-1"],[1,"flex-none"],["type","button","pButton","","pRipple","",1,"p-button-sm",3,"click"],[1,"pi","pi-download","mr-2"],[1,"mb-3"],[1,"p-input-icon-left","w-full"],[1,"pi","pi-search"],["pInputText","","type","text",1,"w-full",3,"ngModel","placeholder","ngModelChange"],["class","alert alert-info py-1 px-3",4,"ngIf","ngIfElse"],["composerPackagesTable",""],["styleClass","p-menu-nowrap",3,"popup","model"],["menu",""],["class","loading-overlay",4,"ngIf"],[3,"pEditableRow"],[2,"width","50%"],[1,"show-on-hover-parent","w-full"],[1,"show-on-hover","relative"],[1,"absolute","pos-right","pos-top"],[1,"badge","bg-secondary"],[1,"text-overflow",3,"title"],[1,"show-on-hover-parent",2,"width","50%"],[1,"min-height20","w-full"],[1,"show-on-hover","absolute","pos-right10"],["pButton","","pRipple","","type","button","pInitEditableRow","","icon","pi pi-pencil","tooltipPosition","bottom","class","p-button-raised p-button-rounded p-button-sm",3,"pTooltip","click",4,"ngIf"],["pButton","","pRipple","","type","button","pSaveEditableRow","","icon","pi pi-check","tooltipPosition","bottom","class","p-button-raised p-button-rounded p-button-success p-button-sm ml-2",3,"pTooltip","click",4,"ngIf"],["pButton","","pRipple","","type","button","pCancelEditableRow","","icon","pi pi-times","tooltipPosition","bottom","class","p-button-raised p-button-rounded p-button-danger p-button-sm ml-2",3,"pTooltip","click",4,"ngIf"],[2,"display","block","width","100%"],["pTemplate","input"],["pTemplate","output"],["pButton","","pRipple","","type","button","pInitEditableRow","","icon","pi pi-pencil","tooltipPosition","bottom",1,"p-button-raised","p-button-rounded","p-button-sm",3,"pTooltip","click"],["pButton","","pRipple","","type","button","pSaveEditableRow","","icon","pi pi-check","tooltipPosition","bottom",1,"p-button-raised","p-button-rounded","p-button-success","p-button-sm","ml-2",3,"pTooltip","click"],["pButton","","pRipple","","type","button","pCancelEditableRow","","icon","pi pi-times","tooltipPosition","bottom",1,"p-button-raised","p-button-rounded","p-button-danger","p-button-sm","ml-2",3,"pTooltip","click"],["pInputText","","type","text",1,"p-inputtext-sm","w-full",3,"ngModel","ngModelChange"],[1,"text-overflow",3,"title","ngClass"],["width","40%"],["width","10%"],["type","text","pInputText","",1,"p-inputtext-sm","w-full",3,"ngModel","ngModelChange"],[3,"appendTo","ngModel","ngModelChange"],["pButton","","pRipple","","type","button","icon","pi pi-times","tooltipPosition","bottom",1,"p-button-raised","p-button-rounded","p-button-secondary","p-button-sm","ms-2",3,"pTooltip","click"],["colspan","4",1,"text-center"],[1,"relative"],["class","absolute pos-right pos-top",4,"ngIf"],["type","button","pButton","","pRipple","","icon","pi pi-plus",1,"p-button-secondary","p-button-sm",3,"label","click"],["type","button","pButton","","pRipple","","icon","pi pi-check","tooltipPosition","bottom",1,"p-button-success","p-button-sm",3,"pTooltip","click"],["type","button","pButton","","pRipple","","icon","pi pi-refresh","tooltipPosition","bottom",1,"p-button-secondary","p-button-sm",3,"pTooltip","click"],["width","25%"],[1,"text-center"],["type","number","pInputText","","step","1","min","0",1,"p-inputtext-sm","w-full",3,"ngModel","ngModelChange"],["width","45%"],["colspan","3",1,"text-center"],["type","number","pInputText","",1,"p-inputtext-sm","w-full",3,"ngModel","ngModelChange"],["width","30%"],[1,"alert","alert-info","py-1","px-3"],[1,"table-responsive"],["styleClass","p-datatable-sm","responsiveLayout","scroll","scrollHeight","400px",3,"value","scrollable","loading"],["width","60%"],[1,"loading-overlay"]],template:function(e,i){if(1&e){const o=t.EpF();t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return i.navBarToggle()}),t._UZ(2,"i",2),t.qZA(),t.TgZ(3,"div",3),t._UZ(4,"i",4),t.TgZ(5,"span",5),t._uU(6),t.ALo(7,"translate"),t.qZA()(),t.TgZ(8,"div",6)(9,"button",7),t.NdJ("click",function(a){return t.CHM(o),t.MAs(116).toggle(a)}),t.ALo(10,"translate"),t.qZA()()(),t.TgZ(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"p-table",13),t.YNc(17,z,7,6,"ng-template",14),t.YNc(18,ot,20,13,"ng-template",15),t.qZA()()(),t.TgZ(19,"div",11)(20,"div",16)(21,"p-accordion")(22,"p-accordionTab",17),t.ALo(23,"translate"),t.TgZ(24,"div")(25,"div",18),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"div",12)(29,"p-table",19),t.YNc(30,st,11,9,"ng-template",14),t.YNc(31,lt,10,7,"ng-template",15),t.YNc(32,pt,6,4,"ng-template",20),t.qZA()()()(),t.TgZ(33,"p-accordionTab",17),t.ALo(34,"translate"),t.TgZ(35,"div",18),t._uU(36),t.ALo(37,"translate"),t.qZA(),t.TgZ(38,"div",12)(39,"p-table",19),t.YNc(40,_t,11,9,"ng-template",14),t.YNc(41,rt,10,6,"ng-template",15),t.YNc(42,gt,6,4,"ng-template",20),t.qZA()()(),t.TgZ(43,"p-accordionTab",17),t.ALo(44,"translate"),t.TgZ(45,"div",18),t._uU(46),t.ALo(47,"translate"),t.qZA(),t.TgZ(48,"div",12)(49,"p-table",19),t.YNc(50,ut,8,6,"ng-template",14),t.YNc(51,dt,8,5,"ng-template",15),t.YNc(52,Tt,6,4,"ng-template",20),t.qZA()()(),t.TgZ(53,"p-accordionTab",17),t.ALo(54,"translate"),t.TgZ(55,"div",18),t._uU(56),t.ALo(57,"translate"),t.qZA(),t.TgZ(58,"div",12)(59,"p-table",19),t.YNc(60,mt,8,6,"ng-template",14),t.YNc(61,Et,8,5,"ng-template",15),t.YNc(62,xt,6,4,"ng-template",20),t.qZA()()(),t.TgZ(63,"p-accordionTab",17),t.ALo(64,"translate"),t.TgZ(65,"div",18),t._uU(66),t.ALo(67,"translate"),t.qZA(),t.TgZ(68,"div",12)(69,"p-table",19),t.YNc(70,ht,11,9,"ng-template",14),t.YNc(71,At,10,6,"ng-template",15),t.YNc(72,Zt,6,4,"ng-template",20),t.qZA()()(),t.TgZ(73,"p-accordionTab",17),t.ALo(74,"translate"),t.TgZ(75,"div",18),t._uU(76),t.ALo(77,"translate"),t.qZA(),t.TgZ(78,"div",12)(79,"p-table",19),t.YNc(80,Nt,8,6,"ng-template",14),t.YNc(81,vt,8,5,"ng-template",15),t.YNc(82,It,6,4,"ng-template",20),t.qZA()()(),t.TgZ(83,"p-accordionTab",17),t.ALo(84,"translate"),t.TgZ(85,"div",18),t._uU(86),t.ALo(87,"translate"),t.qZA(),t.TgZ(88,"div",12)(89,"p-table",19),t.YNc(90,bt,8,6,"ng-template",14),t.YNc(91,Rt,8,5,"ng-template",15),t.YNc(92,Gt,6,4,"ng-template",20),t.qZA()()(),t.TgZ(93,"p-accordionTab",17),t.ALo(94,"translate"),t.TgZ(95,"div",18)(96,"div",21)(97,"div",22),t._uU(98),t.ALo(99,"translate"),t.qZA(),t.TgZ(100,"div",23)(101,"button",24),t.NdJ("click",function(a){return i.modalSystemUpdate(a)}),t._UZ(102,"i",25),t._uU(103),t.ALo(104,"translate"),t.qZA()()()(),t.TgZ(105,"div",26)(106,"div",27),t._UZ(107,"i",28),t.TgZ(108,"input",29),t.NdJ("ngModelChange",function(a){return i.composerPackageNameFilter=a}),t.ALo(109,"translate"),t.qZA()()(),t.TgZ(110,"div",12),t.YNc(111,Lt,3,3,"div",30),t.ALo(112,"filter"),t.YNc(113,yt,6,8,"ng-template",null,31,t.W1O),t.qZA()()()()()()()(),t._UZ(115,"p-menu",32,33),t.YNc(117,Jt,2,0,"div",34)}if(2&e){const o=t.MAs(114);t.xp6(6),t.Oqu(t.lcZ(7,48,"SETTINGS")),t.xp6(3),t.Q6J("label",t.lcZ(10,50,"ACTIONS")),t.xp6(7),t.Q6J("value",i.settings.SETTINGS_MAIN.values)("loading",i.settings.SETTINGS_MAIN.loading)("scrollable",!0)("scrollHeight",i.scrollHeight+"px"),t.xp6(4),t.Udp("min-height",i.scrollHeight+"px"),t.xp6(2),t.Q6J("header",t.lcZ(23,52,"SETTINGS_ORDER_STATUSES")),t.xp6(2),t.ekj("loading",i.settings.SETTINGS_PAYMENT.loading),t.xp6(2),t.hij(" ",t.lcZ(27,54,"SETTINGS_STATUSES_DESCRIPTION")," "),t.xp6(3),t.Q6J("value",i.settings.SETTINGS_ORDER_STATUSES.values)("loading",i.settings.SETTINGS_ORDER_STATUSES.loading),t.xp6(4),t.Q6J("header",t.lcZ(34,56,"SETTINGS_DELIVERY")),t.xp6(3),t.hij(" ",t.lcZ(37,58,"SETTINGS_DELIVERY_DESCRIPTION")," "),t.xp6(3),t.Q6J("value",i.settings.SETTINGS_DELIVERY.values)("loading",i.settings.SETTINGS_DELIVERY.loading),t.xp6(4),t.Q6J("header",t.lcZ(44,60,"SETTINGS_PAYMENT")),t.xp6(3),t.hij(" ",t.lcZ(47,62,"SETTINGS_PAYMENT_DESCRIPTION")," "),t.xp6(3),t.Q6J("value",i.settings.SETTINGS_PAYMENT.values)("loading",i.settings.SETTINGS_PAYMENT.loading),t.xp6(4),t.Q6J("header",t.lcZ(54,64,"SETTINGS_CURRENCY")),t.xp6(3),t.hij(" ",t.lcZ(57,66,"SETTINGS_CURRENCY_RATE_DESCRIPTION")," "),t.xp6(3),t.Q6J("value",i.settings.SETTINGS_CURRENCY.values)("loading",i.settings.SETTINGS_CURRENCY.loading),t.xp6(4),t.Q6J("header",t.lcZ(64,68,"SETTINGS_PROMOCODES")),t.xp6(3),t.hij(" ",t.lcZ(67,70,"SETTINGS_PROMOCODES_DESCRIPTION")," "),t.xp6(3),t.Q6J("value",i.settings.SETTINGS_PROMOCODES.values)("loading",i.settings.SETTINGS_PROMOCODES.loading),t.xp6(4),t.Q6J("header",t.lcZ(74,72,"SETTINGS_LANGUAGES")),t.xp6(3),t.hij(" ",t.lcZ(77,74,"SETTINGS_LANGUAGES_DESCRIPTION")," "),t.xp6(3),t.Q6J("value",i.settings.SETTINGS_LANGUAGES.values)("loading",i.settings.SETTINGS_LANGUAGES.loading),t.xp6(4),t.Q6J("header",t.lcZ(84,76,"SETTINGS_USER_GROUPS")),t.xp6(3),t.hij(" ",t.lcZ(87,78,"SETTINGS_USER_GROUPS_DESCRIPTION")," "),t.xp6(3),t.Q6J("value",i.settings.SETTINGS_USER_GROUPS.values)("loading",i.settings.SETTINGS_USER_GROUPS.loading),t.xp6(4),t.Q6J("header",t.lcZ(94,80,"SETTINGS_COMPOSER_PACKAGES")),t.xp6(5),t.hij(" ",t.lcZ(99,82,"SETTINGS_COMPOSER_PACKAGES_DESCRIPTION")," "),t.xp6(5),t.hij(" ",t.lcZ(104,84,"SYSTEM_UPDATE")," "),t.xp6(5),t.MGl("placeholder","",t.lcZ(109,86,"SEARCH"),"..."),t.Q6J("ngModel",i.composerPackageNameFilter),t.xp6(3),t.Q6J("ngIf",0===t.xi3(112,88,i.composerPackages,t.VKq(91,b,i.composerPackageNameFilter)).length)("ngIfElse",o),t.xp6(4),t.Q6J("popup",!0)("model",i.menuItems),t.xp6(2),t.Q6J("ngIf",i.loading)}},directives:[N.Hq,v.H,g.iA,I.jx,g.D$,u.O5,g.Pv,F.u,g.U1,g.wT,g.YL,d.Fj,$.o,d.JJ,d.On,u.mk,T.UQ,T.US,j.zH,d.qQ,d.wV,B.v2,M.G],pipes:[E.X$,K],encapsulation:2}),n})()}];let Pt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[h.Bz.forChild(qt)],h.Bz]}),n})(),Yt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[],imports:[[u.ez,R.m,Pt]]}),n})()}}]);