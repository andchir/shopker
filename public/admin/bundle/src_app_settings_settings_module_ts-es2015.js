"use strict";(self.webpackChunkshk_app=self.webpackChunkshk_app||[]).push([["src_app_settings_settings_module_ts"],{49103:function(t,e,n){n.d(e,{e:function(){return i}});class i{constructor(t,e,n,i,o){this.changed=t,this.loading=e,this.values=n,this.defaultOptions=i,this.defaultValues=o}}},86292:function(t,e,n){n.r(e),n.d(e,{SettingsModule:function(){return lt}});var i=n(38583),o=n(16964),s=n(5727),a=n(79765),r=n(46782),l=n(23815),g=n(33013),c=n(49103),u=n(73844),d=n(99639),Z=n(2917),T=n(37716),p=n(95047),S=n(29790);const A=["filesWidget"];function E(t,e){1&t&&T._UZ(0,"i",16)}function h(t,e){1&t&&T._UZ(0,"i",16)}function _(t,e){1&t&&T._UZ(0,"i",16)}function N(t,e){1&t&&T._UZ(0,"i",17)}function q(t,e){if(1&t){const t=T.EpF();T.TgZ(0,"div",18),T._UZ(1,"app-file-widget",19,20),T.TgZ(3,"div",21),T.TgZ(4,"button",22),T.NdJ("click",function(e){return T.CHM(t),T.oxw().skipStepHandler(e)}),T._uU(5),T.ALo(6,"translate"),T.qZA(),T.qZA(),T.qZA()}2&t&&(T.xp6(1),T.Q6J("hasPreviewImage",!1)("allowMultiple",!1)("allowedExtensions",".zip"),T.xp6(4),T.hij(" ",T.lcZ(6,4,"SKIP")," "))}function f(t,e){if(1&t&&(T.TgZ(0,"pre",28),T._uU(1),T.qZA()),2&t){const t=T.oxw(2);T.xp6(1),T.Oqu(t.changelogContent)}}function m(t,e){if(1&t&&(T.TgZ(0,"div"),T.TgZ(1,"div",23),T._uU(2),T.ALo(3,"translate"),T.TgZ(4,"span"),T._uU(5),T.qZA(),T._UZ(6,"br"),T._uU(7),T.ALo(8,"translate"),T.TgZ(9,"b",24),T._uU(10),T.qZA(),T.qZA(),T.TgZ(11,"ngb-accordion",25),T.TgZ(12,"ngb-panel",26),T.ALo(13,"translate"),T.YNc(14,f,2,1,"ng-template",27),T.qZA(),T.qZA(),T.qZA()),2&t){const t=T.oxw();T.xp6(2),T.hij(" ",T.lcZ(3,5,"CURRENT_VERSION"),": "),T.xp6(3),T.Oqu(t.currentVersion),T.xp6(2),T.hij(" ",T.lcZ(8,7,"NEW_VERSION"),": "),T.xp6(3),T.Oqu(t.version),T.xp6(2),T.Q6J("title",T.lcZ(13,9,"CHANGELOG"))}}function C(t,e){if(1&t&&(T.TgZ(0,"div",29),T._UZ(1,"ngb-progressbar",30),T.qZA()),2&t){const t=T.oxw();T.xp6(1),T.Q6J("striped",!0)("animated",!0)("value",t.updatePercent)("showValue",!0)}}function U(t,e){if(1&t){const t=T.EpF();T.TgZ(0,"div",31),T._uU(1),T.ALo(2,"translate"),T.TgZ(3,"button",32),T.NdJ("click",function(){return T.CHM(t),T.oxw().errorMessage=""}),T.qZA(),T.qZA()}if(2&t){const t=T.oxw();T.xp6(1),T.hij(" ",T.lcZ(2,1,t.errorMessage)," ")}}const x=function(t){return{"no-events loading":t}},M=function(t){return{"text-muted":t}};let b=(()=>{class t{constructor(t,e,n){this.activeModal=t,this.dataService=e,this.appSettings=n,this.loading=!1,this.destroyed$=new a.xQ,this.stepNumber=1,this.updatePercent=0,this.isUpdateStarted=!1,this.isCollapsed=!0}ngOnInit(){this.currentVersion=this.appSettings.settings.version}nextStepHandler(t){switch(t&&t.preventDefault(),this.errorMessage="",this.stepNumber){case 1:if(0===this.filesWidget.filesRaw.length)return void(this.errorMessage="PLEASE_SELECT_FILE");this.isUpdateStarted=!1;const t=new FormData;t.append("file",this.filesWidget.filesRaw[0]),this.loading=!0,this.dataService.postFormData(t,"admin/system_update/upload").pipe((0,r.R)(this.destroyed$)).subscribe({next:t=>{this.loading=!1,this.stepNumber=2},error:t=>{t.error&&(this.errorMessage=t.error),this.loading=!1}});break;case 2:this.loading=!0,this.dataService.runAction("admin/system_update/pre_update").pipe((0,r.R)(this.destroyed$)).subscribe({next:t=>{this.stepNumber=3,this.version=t.version||"",this.changelogContent=t.changelogContent||"",this.loading=!1},error:t=>{t.error&&(this.errorMessage=t.error),this.loading=!1}});break;case 3:this.updateRunStep("vendors")}}skipStepHandler(t){t&&t.preventDefault(),this.errorMessage="",this.stepNumber++}updateRunStep(t){const e=["vendor","src","template","config"],n=e.indexOf(t);0===n&&(this.loading=!0,this.isUpdateStarted=!0,this.updatePercent=0),this.dataService.runAction(`admin/system_update/execute/${t}`).pipe((0,r.R)(this.destroyed$)).subscribe({next:t=>{this.updatePercent=(n+1)/e.length*100,100===this.updatePercent?(this.stepNumber=4,setTimeout(this.onUpdateComplete.bind(this),1e3)):this.updateRunStep(e[n+1])},error:t=>{t.error&&(this.errorMessage=t.error),this.loading=!1,this.isUpdateStarted=!1,this.updatePercent=0}})}closeModal(t){this.activeModal.close(t)}onUpdateComplete(){this.loading=!1,this.closeModal("completed")}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}}return t.\u0275fac=function(e){return new(e||t)(T.Y36(p.Kz),T.Y36(d.g),T.Y36(u.d))},t.\u0275cmp=T.Xpm({type:t,selectors:[["app-modal-file-upload"]],viewQuery:function(t,e){if(1&t&&T.Gf(A,5),2&t){let t;T.iGM(t=T.CRH())&&(e.filesWidget=t.first)}},decls:34,vars:42,consts:[[3,"ngClass"],[1,"modal-header","d-block"],[1,"modal-title","text-success"],[1,"icon-arrow-up-circle"],[1,"modal-body"],[1,"mb-3",3,"ngClass"],["class","icon-check-circle me-2 text-success",4,"ngIf","ngIfElse"],["iconCircleTemplate",""],["class","show-on-hover-parent",4,"ngIf"],[4,"ngIf"],["class","py-4",4,"ngIf"],["class","alert alert-dismissible alert-danger mt-3 mb-0",4,"ngIf"],[1,"modal-footer","d-block","pt-0"],["type","button",1,"btn","btn-primary","btn-wide",3,"disabled","click"],[1,"icon-arrow-right","ms-2"],["type","button",1,"btn","btn-secondary","btn-wide",3,"disabled","click"],[1,"icon-check-circle","me-2","text-success"],[1,"icon-circle","me-2"],[1,"show-on-hover-parent"],["fieldName","file",3,"hasPreviewImage","allowMultiple","allowedExtensions"],["filesWidget",""],[1,"pos-absolute-left-bottom10","show-on-hover"],["type","button",1,"btn","btn-sm","btn-secondary",3,"click"],[1,"text-success","mb-2"],[1,"big"],[1,"ngb-accordion"],["id","accordion-settings-1",3,"title"],["ngbPanelContent",""],[1,"max-height400","mb-0"],[1,"py-4"],["type","info","textType","white",3,"striped","animated","value","showValue"],[1,"alert","alert-dismissible","alert-danger","mt-3","mb-0"],["type","button","data-dismiss","alert","aria-label","Close",1,"btn-close",3,"click"]],template:function(t,e){if(1&t&&(T.TgZ(0,"div",0),T.TgZ(1,"div",1),T.TgZ(2,"h4",2),T._UZ(3,"i",3),T._uU(4),T.ALo(5,"translate"),T.qZA(),T.qZA(),T.TgZ(6,"div",4),T.TgZ(7,"div"),T.TgZ(8,"div",5),T.YNc(9,E,1,0,"i",6),T._uU(10),T.ALo(11,"translate"),T.qZA(),T.TgZ(12,"div",5),T.YNc(13,h,1,0,"i",6),T._uU(14),T.ALo(15,"translate"),T.qZA(),T.TgZ(16,"div",5),T.YNc(17,_,1,0,"i",6),T._uU(18),T.ALo(19,"translate"),T.qZA(),T.YNc(20,N,1,0,"ng-template",null,7,T.W1O),T.qZA(),T.YNc(22,q,7,6,"div",8),T.YNc(23,m,15,11,"div",9),T.YNc(24,C,2,4,"div",10),T.YNc(25,U,4,3,"div",11),T.qZA(),T.TgZ(26,"div",12),T.TgZ(27,"button",13),T.NdJ("click",function(t){return e.nextStepHandler(t)}),T._uU(28),T.ALo(29,"translate"),T._UZ(30,"i",14),T.qZA(),T.TgZ(31,"button",15),T.NdJ("click",function(){return e.closeModal("close")}),T._uU(32),T.ALo(33,"translate"),T.qZA(),T.qZA(),T.qZA()),2&t){const t=T.MAs(21);T.Q6J("ngClass",T.VKq(34,x,e.loading)),T.xp6(4),T.hij(" ",T.lcZ(5,22,"SYSTEM_UPDATE")," "),T.xp6(4),T.Q6J("ngClass",T.VKq(36,M,1!=e.stepNumber)),T.xp6(1),T.Q6J("ngIf",e.stepNumber>1)("ngIfElse",t),T.xp6(1),T.hij(" ",T.lcZ(11,24,"SYSTEM_UPDATE_STEP1_DESCRIPTION")," "),T.xp6(2),T.Q6J("ngClass",T.VKq(38,M,2!=e.stepNumber)),T.xp6(1),T.Q6J("ngIf",e.stepNumber>2)("ngIfElse",t),T.xp6(1),T.hij(" ",T.lcZ(15,26,"SYSTEM_UPDATE_STEP2_DESCRIPTION")," "),T.xp6(2),T.Q6J("ngClass",T.VKq(40,M,3!=e.stepNumber)),T.xp6(1),T.Q6J("ngIf",e.stepNumber>3)("ngIfElse",t),T.xp6(1),T.hij(" ",T.lcZ(19,28,"SYSTEM_UPDATE_STEP3_DESCRIPTION")," "),T.xp6(4),T.Q6J("ngIf",1==e.stepNumber),T.xp6(1),T.Q6J("ngIf",3==e.stepNumber&&!e.isUpdateStarted),T.xp6(1),T.Q6J("ngIf",e.isUpdateStarted),T.xp6(1),T.Q6J("ngIf",e.errorMessage),T.xp6(2),T.Q6J("disabled",e.loading),T.xp6(1),T.hij(" ",T.lcZ(29,30,"CONTINUE")," "),T.xp6(3),T.Q6J("disabled",e.loading),T.xp6(1),T.hij(" ",T.lcZ(33,32,"CLOSE")," ")}},directives:[i.mk,i.O5,Z.E,p.gY,p.Gk,p.gW,p.Ly],pipes:[S.X$],encapsulation:2}),t})();var I=n(27965),v=n(3679),R=n(55609);let G=(()=>{class t{transform(t,e){if(e&&Array.isArray(t)){const n=Object.keys(e);return t.filter(t=>n.reduce((n,i)=>n&&t[i].indexOf(e[i])>-1,!0))}return t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=T.Yjl({name:"filter",type:t,pure:!1}),t})();function L(t,e){if(1&t){const t=T.EpF();T.TgZ(0,"tr"),T.TgZ(1,"td"),T.TgZ(2,"div",33),T.TgZ(3,"div",34),T.TgZ(4,"div",35),T.TgZ(5,"span",36),T._uU(6),T.qZA(),T.qZA(),T.qZA(),T.TgZ(7,"span"),T._uU(8),T.ALo(9,"translate"),T.qZA(),T.qZA(),T.qZA(),T.TgZ(10,"td",37),T.TgZ(11,"div",38),T.TgZ(12,"input",39,40),T.NdJ("ngModelChange",function(e){return T.CHM(t).$implicit.value=e}),T.qZA(),T.TgZ(14,"button",41,42),T.NdJ("click",function(e){return T.CHM(t),T.oxw().saveSettings("SETTINGS_MAIN",e)}),T.ALo(16,"translate"),T._UZ(17,"i",43),T.qZA(),T.TgZ(18,"button",44),T.NdJ("click",function(e){T.CHM(t);const n=T.MAs(13),i=T.MAs(15);return T.oxw().inputDisableToggle(n,i,e)}),T.ALo(19,"translate"),T._UZ(20,"i",45),T.qZA(),T.qZA(),T.qZA(),T.qZA()}if(2&t){const t=e.$implicit,n=T.oxw();T.xp6(6),T.Oqu(t.name),T.xp6(2),T.Oqu(T.lcZ(9,6,t.name)),T.xp6(4),T.s9C("type",n.getFieldTypeByName(t.name)),T.Q6J("ngModel",t.value),T.xp6(2),T.s9C("ngbTooltip",T.lcZ(16,8,"SAVE")),T.xp6(4),T.s9C("ngbTooltip",T.lcZ(19,10,"EDIT"))}}function O(t,e){if(1&t){const t=T.EpF();T.TgZ(0,"tr"),T.TgZ(1,"td"),T.TgZ(2,"input",56),T.NdJ("ngModelChange",function(e){return T.CHM(t).$implicit.name=e})("ngModelChange",function(){return T.CHM(t),T.oxw(2).onValueChanged("SETTINGS_ORDER_STATUSES")}),T.qZA(),T.qZA(),T.TgZ(3,"td"),T.TgZ(4,"input",56),T.NdJ("ngModelChange",function(e){return T.CHM(t).$implicit.options.template.value=e})("ngModelChange",function(){return T.CHM(t),T.oxw(2).onValueChanged("SETTINGS_ORDER_STATUSES")}),T.qZA(),T.qZA(),T.TgZ(5,"td",57),T.TgZ(6,"p-colorPicker",58),T.NdJ("ngModelChange",function(e){return T.CHM(t).$implicit.options.color.value=e})("ngModelChange",function(){return T.CHM(t),T.oxw(2).onValueChanged("SETTINGS_ORDER_STATUSES")}),T.qZA(),T.qZA(),T.TgZ(7,"td",57),T.TgZ(8,"button",59),T.NdJ("click",function(){const e=T.CHM(t).index;return T.oxw(2).deleteSetting("SETTINGS_ORDER_STATUSES",e)}),T.ALo(9,"translate"),T._UZ(10,"i",60),T.qZA(),T.qZA(),T.qZA()}if(2&t){const t=e.$implicit;T.xp6(2),T.Q6J("ngModel",t.name),T.xp6(2),T.Q6J("ngModel",t.options.template.value),T.xp6(2),T.Q6J("appendTo","body")("ngModel",t.options.color.value),T.xp6(2),T.s9C("ngbTooltip",T.lcZ(9,5,"DELETE"))}}function w(t,e){if(1&t){const t=T.EpF();T.TgZ(0,"div",35),T.TgZ(1,"button",61),T.NdJ("click",function(){return T.CHM(t),T.oxw(2).saveSettings("SETTINGS_ORDER_STATUSES")}),T._UZ(2,"i",43),T._uU(3," \xa0 "),T.TgZ(4,"span"),T._uU(5),T.ALo(6,"translate"),T.qZA(),T.qZA(),T._uU(7," \xa0 "),T.TgZ(8,"button",59),T.NdJ("click",function(){return T.CHM(t),T.oxw(2).resetSettingsForm("SETTINGS_ORDER_STATUSES")}),T.ALo(9,"translate"),T._UZ(10,"i",62),T.qZA(),T.qZA()}2&t&&(T.xp6(5),T.Oqu(T.lcZ(6,2,"SAVE")),T.xp6(3),T.s9C("ngbTooltip",T.lcZ(9,4,"FORM_RESET")))}function P(t,e){if(1&t){const t=T.EpF();T.TgZ(0,"div"),T.TgZ(1,"div",46),T._uU(2),T.ALo(3,"translate"),T.qZA(),T.TgZ(4,"div",47),T.TgZ(5,"table",20),T.TgZ(6,"colgroup"),T._UZ(7,"col",48),T._UZ(8,"col",48),T._UZ(9,"col",49),T._UZ(10,"col",49),T.qZA(),T.TgZ(11,"thead"),T.TgZ(12,"tr"),T.TgZ(13,"th"),T._uU(14),T.ALo(15,"translate"),T.qZA(),T.TgZ(16,"th"),T._uU(17),T.ALo(18,"translate"),T.qZA(),T.TgZ(19,"th"),T._uU(20),T.ALo(21,"translate"),T.qZA(),T._UZ(22,"th"),T.qZA(),T.qZA(),T.TgZ(23,"tbody"),T.YNc(24,O,11,7,"tr",22),T.qZA(),T.TgZ(25,"tfoot"),T.TgZ(26,"tr",50),T.TgZ(27,"td",51),T.TgZ(28,"div",52),T.YNc(29,w,11,6,"div",53),T.qZA(),T.TgZ(30,"button",54),T.NdJ("click",function(){return T.CHM(t),T.oxw().addSetting("SETTINGS_ORDER_STATUSES")}),T._UZ(31,"i",55),T._uU(32," \xa0 "),T.TgZ(33,"span"),T._uU(34),T.ALo(35,"translate"),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA()}if(2&t){const t=T.oxw();T.ekj("loading",t.settings.SETTINGS_DELIVERY.loading),T.xp6(2),T.hij(" ",T.lcZ(3,9,"SETTINGS_STATUSES_DESCRIPTION")," "),T.xp6(12),T.hij(" ",T.lcZ(15,11,"NAME")," "),T.xp6(3),T.hij(" ",T.lcZ(18,13,"MAIL_TEMPLATE")," "),T.xp6(3),T.hij(" ",T.lcZ(21,15,"COLOR")," "),T.xp6(4),T.Q6J("ngForOf",t.settings.SETTINGS_ORDER_STATUSES.values),T.xp6(5),T.Q6J("ngIf",t.settings.SETTINGS_ORDER_STATUSES.changed),T.xp6(5),T.Oqu(T.lcZ(35,17,"ADD"))}}function k(t,e){if(1&t){const t=T.EpF();T.TgZ(0,"tr"),T.TgZ(1,"td"),T.TgZ(2,"input",56),T.NdJ("ngModelChange",function(e){return T.CHM(t).$implicit.name=e})("ngModelChange",function(){return T.CHM(t),T.oxw(2).onValueChanged("SETTINGS_DELIVERY")}),T.qZA(),T.qZA(),T.TgZ(3,"td",57),T.TgZ(4,"input",63),T.NdJ("ngModelChange",function(e){return T.CHM(t).$implicit.options.price.value=e})("ngModelChange",function(){return T.CHM(t),T.oxw(2).onValueChanged("SETTINGS_DELIVERY")}),T.qZA(),T.qZA(),T.TgZ(5,"td",57),T.TgZ(6,"input",63),T.NdJ("ngModelChange",function(e){return T.CHM(t).$implicit.options.priceLimit.value=e})("ngModelChange",function(){return T.CHM(t),T.oxw(2).onValueChanged("SETTINGS_DELIVERY")}),T.qZA(),T.qZA(),T.TgZ(7,"td",57),T.TgZ(8,"button",59),T.NdJ("click",function(){const e=T.CHM(t).index;return T.oxw(2).deleteSetting("SETTINGS_DELIVERY",e)}),T.ALo(9,"translate"),T._UZ(10,"i",60),T.qZA(),T.qZA(),T.qZA()}if(2&t){const t=e.$implicit;T.xp6(2),T.Q6J("ngModel",t.name),T.xp6(2),T.Q6J("ngModel",t.options.price.value),T.xp6(2),T.Q6J("ngModel",t.options.priceLimit.value),T.xp6(2),T.s9C("ngbTooltip",T.lcZ(9,4,"DELETE"))}}function y(t,e){if(1&t){const t=T.EpF();T.TgZ(0,"div",35),T.TgZ(1,"button",61),T.NdJ("click",function(){return T.CHM(t),T.oxw(2).saveSettings("SETTINGS_DELIVERY")}),T._UZ(2,"i",43),T._uU(3," \xa0 "),T.TgZ(4,"span"),T._uU(5),T.ALo(6,"translate"),T.qZA(),T.qZA(),T._uU(7," \xa0 "),T.TgZ(8,"button",59),T.NdJ("click",function(){return T.CHM(t),T.oxw(2).resetSettingsForm("SETTINGS_DELIVERY")}),T.ALo(9,"translate"),T._UZ(10,"i",62),T.qZA(),T.qZA()}2&t&&(T.xp6(5),T.Oqu(T.lcZ(6,2,"SAVE")),T.xp6(3),T.s9C("ngbTooltip",T.lcZ(9,4,"FORM_RESET")))}function D(t,e){if(1&t){const t=T.EpF();T.TgZ(0,"div"),T.TgZ(1,"div",46),T._uU(2),T.ALo(3,"translate"),T.qZA(),T.TgZ(4,"div",47),T.TgZ(5,"table",20),T.TgZ(6,"thead"),T.TgZ(7,"tr"),T.TgZ(8,"th"),T._uU(9),T.ALo(10,"translate"),T.qZA(),T.TgZ(11,"th"),T._uU(12),T.ALo(13,"translate"),T.qZA(),T.TgZ(14,"th"),T._uU(15),T.ALo(16,"translate"),T.qZA(),T._UZ(17,"th"),T.qZA(),T.qZA(),T.TgZ(18,"tbody"),T.YNc(19,k,11,6,"tr",22),T.qZA(),T.TgZ(20,"tfoot"),T.TgZ(21,"tr",50),T.TgZ(22,"td",51),T.TgZ(23,"div",52),T.YNc(24,y,11,6,"div",53),T.qZA(),T.TgZ(25,"button",54),T.NdJ("click",function(){return T.CHM(t),T.oxw().addSetting("SETTINGS_DELIVERY")}),T._UZ(26,"i",55),T._uU(27," \xa0 "),T.TgZ(28,"span"),T._uU(29),T.ALo(30,"translate"),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA()}if(2&t){const t=T.oxw();T.ekj("loading",t.settings.SETTINGS_DELIVERY.loading),T.xp6(2),T.hij(" ",T.lcZ(3,9,"SETTINGS_DELIVERY_DESCRIPTION")," "),T.xp6(7),T.hij(" ",T.lcZ(10,11,"NAME")," "),T.xp6(3),T.hij(" ",T.lcZ(13,13,"PRICE")," "),T.xp6(3),T.hij(" ",T.lcZ(16,15,"MAX_PRICE")," "),T.xp6(4),T.Q6J("ngForOf",t.settings.SETTINGS_DELIVERY.values),T.xp6(5),T.Q6J("ngIf",t.settings.SETTINGS_DELIVERY.changed),T.xp6(5),T.Oqu(T.lcZ(30,17,"ADD"))}}function J(t,e){if(1&t){const t=T.EpF();T.TgZ(0,"tr"),T.TgZ(1,"td"),T.TgZ(2,"input",56),T.NdJ("ngModelChange",function(e){return T.CHM(t).$implicit.name=e})("ngModelChange",function(){return T.CHM(t),T.oxw(2).onValueChanged("SETTINGS_PAYMENT")}),T.qZA(),T.qZA(),T.TgZ(3,"td",57),T.TgZ(4,"input",56),T.NdJ("ngModelChange",function(e){return T.CHM(t).$implicit.options.value.value=e})("ngModelChange",function(){return T.CHM(t),T.oxw(2).onValueChanged("SETTINGS_PAYMENT")}),T.qZA(),T.qZA(),T.TgZ(5,"td",57),T.TgZ(6,"button",59),T.NdJ("click",function(){const e=T.CHM(t).index;return T.oxw(2).deleteSetting("SETTINGS_PAYMENT",e)}),T.ALo(7,"translate"),T._UZ(8,"i",60),T.qZA(),T.qZA(),T.qZA()}if(2&t){const t=e.$implicit;T.xp6(2),T.Q6J("ngModel",t.name),T.xp6(2),T.Q6J("ngModel",t.options.value.value),T.xp6(2),T.s9C("ngbTooltip",T.lcZ(7,3,"DELETE"))}}function Y(t,e){if(1&t){const t=T.EpF();T.TgZ(0,"div",35),T.TgZ(1,"button",61),T.NdJ("click",function(){return T.CHM(t),T.oxw(2).saveSettings("SETTINGS_PAYMENT")}),T._UZ(2,"i",43),T._uU(3," \xa0 "),T.TgZ(4,"span"),T._uU(5),T.ALo(6,"translate"),T.qZA(),T.qZA(),T._uU(7," \xa0 "),T.TgZ(8,"button",59),T.NdJ("click",function(){return T.CHM(t),T.oxw(2).resetSettingsForm("SETTINGS_PAYMENT")}),T.ALo(9,"translate"),T._UZ(10,"i",62),T.qZA(),T.qZA()}2&t&&(T.xp6(5),T.Oqu(T.lcZ(6,2,"SAVE")),T.xp6(3),T.s9C("ngbTooltip",T.lcZ(9,4,"FORM_RESET")))}function V(t,e){if(1&t){const t=T.EpF();T.TgZ(0,"div"),T.TgZ(1,"div",46),T._uU(2),T.ALo(3,"translate"),T.qZA(),T.TgZ(4,"div",47),T.TgZ(5,"table",20),T.TgZ(6,"colgroup"),T._UZ(7,"col",64),T._UZ(8,"col",64),T._UZ(9,"col",49),T.qZA(),T.TgZ(10,"thead"),T.TgZ(11,"tr"),T.TgZ(12,"th"),T._uU(13),T.ALo(14,"translate"),T.qZA(),T.TgZ(15,"th"),T._uU(16),T.ALo(17,"translate"),T.qZA(),T._UZ(18,"th"),T.qZA(),T.qZA(),T.TgZ(19,"tbody"),T.YNc(20,J,9,5,"tr",22),T.qZA(),T.TgZ(21,"tfoot"),T.TgZ(22,"tr",50),T.TgZ(23,"td",51),T.TgZ(24,"div",52),T.YNc(25,Y,11,6,"div",53),T.qZA(),T.TgZ(26,"button",54),T.NdJ("click",function(){return T.CHM(t),T.oxw().addSetting("SETTINGS_PAYMENT")}),T._UZ(27,"i",55),T._uU(28," \xa0 "),T.TgZ(29,"span"),T._uU(30),T.ALo(31,"translate"),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA()}if(2&t){const t=T.oxw();T.ekj("loading",t.settings.SETTINGS_PAYMENT.loading),T.xp6(2),T.hij(" ",T.lcZ(3,8,"SETTINGS_PAYMENT_DESCRIPTION")," "),T.xp6(11),T.hij(" ",T.lcZ(14,10,"NAME")," "),T.xp6(3),T.hij(" ",T.lcZ(17,12,"VALUE")," "),T.xp6(4),T.Q6J("ngForOf",t.settings.SETTINGS_PAYMENT.values),T.xp6(5),T.Q6J("ngIf",t.settings.SETTINGS_PAYMENT.changed),T.xp6(5),T.Oqu(T.lcZ(31,14,"ADD"))}}function H(t,e){if(1&t){const t=T.EpF();T.TgZ(0,"tr"),T.TgZ(1,"td"),T.TgZ(2,"input",56),T.NdJ("ngModelChange",function(e){return T.CHM(t).$implicit.name=e})("ngModelChange",function(){return T.CHM(t),T.oxw(2).onValueChanged("SETTINGS_CURRENCY")}),T.qZA(),T.qZA(),T.TgZ(3,"td",57),T.TgZ(4,"input",65),T.NdJ("ngModelChange",function(e){return T.CHM(t).$implicit.options.value.value=e})("ngModelChange",function(){return T.CHM(t),T.oxw(2).onValueChanged("SETTINGS_CURRENCY")}),T.qZA(),T.qZA(),T.TgZ(5,"td",57),T.TgZ(6,"button",59),T.NdJ("click",function(){const e=T.CHM(t).index;return T.oxw(2).deleteSetting("SETTINGS_CURRENCY",e)}),T.ALo(7,"translate"),T._UZ(8,"i",60),T.qZA(),T.qZA(),T.qZA()}if(2&t){const t=e.$implicit;T.xp6(2),T.Q6J("ngModel",t.name),T.xp6(2),T.Q6J("ngModel",t.options.value.value),T.xp6(2),T.s9C("ngbTooltip",T.lcZ(7,3,"REMOVE"))}}function F(t,e){if(1&t){const t=T.EpF();T.TgZ(0,"div",35),T.TgZ(1,"button",61),T.NdJ("click",function(){return T.CHM(t),T.oxw(2).saveSettings("SETTINGS_CURRENCY")}),T._UZ(2,"i",43),T._uU(3," \xa0 "),T.TgZ(4,"span"),T._uU(5),T.ALo(6,"translate"),T.qZA(),T.qZA(),T._uU(7," \xa0 "),T.TgZ(8,"button",59),T.NdJ("click",function(){return T.CHM(t),T.oxw(2).resetSettingsForm("SETTINGS_CURRENCY")}),T.ALo(9,"translate"),T._UZ(10,"i",62),T.qZA(),T.qZA()}2&t&&(T.xp6(5),T.Oqu(T.lcZ(6,2,"SAVE")),T.xp6(3),T.s9C("ngbTooltip",T.lcZ(9,4,"FORM_RESET")))}function Q(t,e){if(1&t){const t=T.EpF();T.TgZ(0,"div"),T.TgZ(1,"div",46),T._uU(2),T.ALo(3,"translate"),T.qZA(),T.TgZ(4,"div",47),T.TgZ(5,"table",20),T.TgZ(6,"colgroup"),T._UZ(7,"col",64),T._UZ(8,"col",64),T._UZ(9,"col",49),T.qZA(),T.TgZ(10,"thead"),T.TgZ(11,"tr"),T.TgZ(12,"th"),T._uU(13),T.ALo(14,"translate"),T.qZA(),T.TgZ(15,"th"),T._uU(16),T.ALo(17,"translate"),T.qZA(),T._UZ(18,"th"),T.qZA(),T.qZA(),T.TgZ(19,"tbody"),T.YNc(20,H,9,5,"tr",22),T.qZA(),T.TgZ(21,"tfoot"),T.TgZ(22,"tr",50),T.TgZ(23,"td",51),T.TgZ(24,"div",52),T.YNc(25,F,11,6,"div",53),T.qZA(),T.TgZ(26,"button",54),T.NdJ("click",function(){return T.CHM(t),T.oxw().addSetting("SETTINGS_CURRENCY")}),T._UZ(27,"i",55),T._uU(28," \xa0 "),T.TgZ(29,"span"),T._uU(30),T.ALo(31,"translate"),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA()}if(2&t){const t=T.oxw();T.ekj("loading",t.settings.SETTINGS_CURRENCY.loading),T.xp6(2),T.hij(" ",T.lcZ(3,8,"SETTINGS_CURRENCY_RATE_DESCRIPTION")," "),T.xp6(11),T.hij(" ",T.lcZ(14,10,"CURRENCY")," "),T.xp6(3),T.hij(" ",T.lcZ(17,12,"VALUE")," "),T.xp6(4),T.Q6J("ngForOf",t.settings.SETTINGS_CURRENCY.values),T.xp6(5),T.Q6J("ngIf",t.settings.SETTINGS_CURRENCY.changed),T.xp6(5),T.Oqu(T.lcZ(31,14,"ADD"))}}function j(t,e){if(1&t){const t=T.EpF();T.TgZ(0,"tr"),T.TgZ(1,"td"),T.TgZ(2,"input",56),T.NdJ("ngModelChange",function(e){return T.CHM(t).$implicit.name=e})("ngModelChange",function(){return T.CHM(t),T.oxw(2).onValueChanged("SETTINGS_PROMOCODES")}),T.qZA(),T.qZA(),T.TgZ(3,"td",57),T.TgZ(4,"input",56),T.NdJ("ngModelChange",function(e){return T.CHM(t).$implicit.options.value.value=e})("ngModelChange",function(){return T.CHM(t),T.oxw(2).onValueChanged("SETTINGS_PROMOCODES")}),T.qZA(),T.qZA(),T.TgZ(5,"td",57),T.TgZ(6,"input",68),T.NdJ("ngModelChange",function(e){return T.CHM(t).$implicit.options.quantity.value=e})("ngModelChange",function(){return T.CHM(t),T.oxw(2).onValueChanged("SETTINGS_PROMOCODES")}),T.qZA(),T.qZA(),T.TgZ(7,"td",57),T.TgZ(8,"button",59),T.NdJ("click",function(){const e=T.CHM(t).index;return T.oxw(2).deleteSetting("SETTINGS_PROMOCODES",e)}),T.ALo(9,"translate"),T._UZ(10,"i",60),T.qZA(),T.qZA(),T.qZA()}if(2&t){const t=e.$implicit;T.xp6(2),T.Q6J("ngModel",t.name),T.xp6(2),T.Q6J("ngModel",t.options.value.value),T.xp6(2),T.Q6J("ngModel",t.options.quantity.value),T.xp6(2),T.s9C("ngbTooltip",T.lcZ(9,4,"REMOVE"))}}function $(t,e){if(1&t){const t=T.EpF();T.TgZ(0,"div",35),T.TgZ(1,"button",61),T.NdJ("click",function(){return T.CHM(t),T.oxw(2).saveSettings("SETTINGS_PROMOCODES")}),T._UZ(2,"i",43),T._uU(3," \xa0 "),T.TgZ(4,"span"),T._uU(5),T.ALo(6,"translate"),T.qZA(),T.qZA(),T._uU(7," \xa0 "),T.TgZ(8,"button",59),T.NdJ("click",function(){return T.CHM(t),T.oxw(2).resetSettingsForm("SETTINGS_PROMOCODES")}),T.ALo(9,"translate"),T._UZ(10,"i",62),T.qZA(),T.qZA()}2&t&&(T.xp6(5),T.Oqu(T.lcZ(6,2,"SAVE")),T.xp6(3),T.s9C("ngbTooltip",T.lcZ(9,4,"FORM_RESET")))}function K(t,e){if(1&t){const t=T.EpF();T.TgZ(0,"div"),T.TgZ(1,"div",46),T._uU(2),T.ALo(3,"translate"),T.qZA(),T.TgZ(4,"div",47),T.TgZ(5,"table",20),T.TgZ(6,"colgroup"),T._UZ(7,"col",66),T._UZ(8,"col",66),T._UZ(9,"col",66),T._UZ(10,"col",49),T.qZA(),T.TgZ(11,"thead"),T.TgZ(12,"tr"),T.TgZ(13,"th"),T._uU(14),T.ALo(15,"translate"),T.qZA(),T.TgZ(16,"th"),T._uU(17),T.ALo(18,"translate"),T.qZA(),T.TgZ(19,"th"),T._uU(20),T.ALo(21,"translate"),T.qZA(),T._UZ(22,"th"),T.qZA(),T.qZA(),T.TgZ(23,"tbody"),T.YNc(24,j,11,6,"tr",22),T.qZA(),T.TgZ(25,"tfoot"),T.TgZ(26,"tr",50),T.TgZ(27,"td",67),T.TgZ(28,"div",52),T.YNc(29,$,11,6,"div",53),T.qZA(),T.TgZ(30,"button",54),T.NdJ("click",function(){return T.CHM(t),T.oxw().addSetting("SETTINGS_PROMOCODES")}),T._UZ(31,"i",55),T._uU(32," \xa0 "),T.TgZ(33,"span"),T._uU(34),T.ALo(35,"translate"),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA()}if(2&t){const t=T.oxw();T.ekj("loading",t.settings.SETTINGS_PROMOCODES.loading),T.xp6(2),T.hij(" ",T.lcZ(3,9,"SETTINGS_PROMOCODES_DESCRIPTION")," "),T.xp6(12),T.hij(" ",T.lcZ(15,11,"PROMO_CODE")," "),T.xp6(3),T.hij(" ",T.lcZ(18,13,"VALUE")," "),T.xp6(3),T.hij(" ",T.lcZ(21,15,"QUANTITY")," "),T.xp6(4),T.Q6J("ngForOf",t.settings.SETTINGS_PROMOCODES.values),T.xp6(5),T.Q6J("ngIf",t.settings.SETTINGS_PROMOCODES.changed),T.xp6(5),T.Oqu(T.lcZ(35,17,"ADD"))}}function W(t,e){if(1&t){const t=T.EpF();T.TgZ(0,"tr"),T.TgZ(1,"td"),T.TgZ(2,"input",56),T.NdJ("ngModelChange",function(e){return T.CHM(t).$implicit.name=e})("ngModelChange",function(){return T.CHM(t),T.oxw(2).onValueChanged("SETTINGS_LANGUAGES")}),T.qZA(),T.qZA(),T.TgZ(3,"td",57),T.TgZ(4,"input",56),T.NdJ("ngModelChange",function(e){return T.CHM(t).$implicit.options.value.value=e})("ngModelChange",function(){return T.CHM(t),T.oxw(2).onValueChanged("SETTINGS_LANGUAGES")}),T.qZA(),T.qZA(),T.TgZ(5,"td",57),T.TgZ(6,"button",59),T.NdJ("click",function(){const e=T.CHM(t).index;return T.oxw(2).deleteSetting("SETTINGS_LANGUAGES",e)}),T.ALo(7,"translate"),T._UZ(8,"i",60),T.qZA(),T.qZA(),T.qZA()}if(2&t){const t=e.$implicit;T.xp6(2),T.Q6J("ngModel",t.name),T.xp6(2),T.Q6J("ngModel",t.options.value.value),T.xp6(2),T.s9C("ngbTooltip",T.lcZ(7,3,"DELETE"))}}function z(t,e){if(1&t){const t=T.EpF();T.TgZ(0,"div",35),T.TgZ(1,"button",61),T.NdJ("click",function(){return T.CHM(t),T.oxw(2).saveSettings("SETTINGS_LANGUAGES")}),T._UZ(2,"i",43),T._uU(3," \xa0 "),T.TgZ(4,"span"),T._uU(5),T.ALo(6,"translate"),T.qZA(),T.qZA(),T._uU(7," \xa0 "),T.TgZ(8,"button",59),T.NdJ("click",function(){return T.CHM(t),T.oxw(2).resetSettingsForm("SETTINGS_LANGUAGES")}),T.ALo(9,"translate"),T._UZ(10,"i",62),T.qZA(),T.qZA()}2&t&&(T.xp6(5),T.Oqu(T.lcZ(6,2,"SAVE")),T.xp6(3),T.s9C("ngbTooltip",T.lcZ(9,4,"FORM_RESET")))}function X(t,e){if(1&t){const t=T.EpF();T.TgZ(0,"div"),T.TgZ(1,"div",46),T._uU(2),T.ALo(3,"translate"),T.qZA(),T.TgZ(4,"div",47),T.TgZ(5,"table",20),T.TgZ(6,"colgroup"),T._UZ(7,"col",64),T._UZ(8,"col",64),T._UZ(9,"col",49),T.qZA(),T.TgZ(10,"thead"),T.TgZ(11,"tr"),T.TgZ(12,"th"),T._uU(13),T.ALo(14,"translate"),T.qZA(),T.TgZ(15,"th"),T._uU(16),T.ALo(17,"translate"),T.qZA(),T._UZ(18,"th"),T.qZA(),T.qZA(),T.TgZ(19,"tbody"),T.YNc(20,W,9,5,"tr",22),T.qZA(),T.TgZ(21,"tfoot"),T.TgZ(22,"tr",50),T.TgZ(23,"td",51),T.TgZ(24,"div",52),T.YNc(25,z,11,6,"div",53),T.qZA(),T.TgZ(26,"button",54),T.NdJ("click",function(){return T.CHM(t),T.oxw().addSetting("SETTINGS_LANGUAGES")}),T._UZ(27,"i",55),T._uU(28," \xa0 "),T.TgZ(29,"span"),T._uU(30),T.ALo(31,"translate"),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA()}if(2&t){const t=T.oxw();T.ekj("loading",t.settings.SETTINGS_LANGUAGES.loading),T.xp6(2),T.hij(" ",T.lcZ(3,8,"SETTINGS_LANGUAGES_DESCRIPTION")," "),T.xp6(11),T.hij(" ",T.lcZ(14,10,"LANGUAGE")," "),T.xp6(3),T.hij(" ",T.lcZ(17,12,"LOCALE")," "),T.xp6(4),T.Q6J("ngForOf",t.settings.SETTINGS_LANGUAGES.values),T.xp6(5),T.Q6J("ngIf",t.settings.SETTINGS_LANGUAGES.changed),T.xp6(5),T.Oqu(T.lcZ(31,14,"ADD"))}}function B(t,e){1&t&&(T.TgZ(0,"div",87),T._uU(1),T.ALo(2,"translate"),T.qZA()),2&t&&(T.xp6(1),T.hij(" ",T.lcZ(2,1,"NOTHING_FOUND"),". "))}function tt(t,e){if(1&t&&(T.TgZ(0,"tr"),T.TgZ(1,"td"),T._uU(2),T.qZA(),T.TgZ(3,"td",57),T._uU(4),T.qZA(),T.qZA()),2&t){const t=e.$implicit;T.xp6(2),T.Oqu(t.name),T.xp6(2),T.Oqu(t.version)}}const et=function(t){return{name:t}};function nt(t,e){if(1&t&&(T.TgZ(0,"div",88),T.TgZ(1,"div",47),T.TgZ(2,"table",20),T.TgZ(3,"colgroup"),T._UZ(4,"col",89),T._UZ(5,"col",48),T.qZA(),T.TgZ(6,"thead"),T.TgZ(7,"tr"),T.TgZ(8,"th"),T._uU(9),T.ALo(10,"translate"),T.qZA(),T.TgZ(11,"th"),T._uU(12),T.ALo(13,"translate"),T.qZA(),T.qZA(),T.qZA(),T.TgZ(14,"tbody"),T.YNc(15,tt,5,2,"tr",22),T.ALo(16,"filter"),T.qZA(),T.qZA(),T.qZA(),T.qZA()),2&t){const t=T.oxw(2);T.xp6(9),T.hij(" ",T.lcZ(10,3,"NAME")," "),T.xp6(3),T.hij(" ",T.lcZ(13,5,"VERSION")," "),T.xp6(3),T.Q6J("ngForOf",T.xi3(16,7,t.composerPackages,T.VKq(10,et,t.composerPackageNameFilter)))}}const it=function(t){return{loading:t}},ot=function(t){return{"form-control-search-clear":t}};function st(t,e){if(1&t){const t=T.EpF();T.TgZ(0,"div",69),T.TgZ(1,"div",70),T.TgZ(2,"button",71),T.NdJ("click",function(e){return T.CHM(t),T.oxw().modalSystemUpdate(e)}),T._UZ(3,"i",72),T._uU(4),T.ALo(5,"translate"),T.qZA(),T.qZA(),T.TgZ(6,"div",73),T._uU(7),T.ALo(8,"translate"),T.qZA(),T.TgZ(9,"div",74),T.TgZ(10,"input",75),T.NdJ("ngModelChange",function(e){return T.CHM(t),T.oxw().composerPackageNameFilter=e}),T.ALo(11,"translate"),T.qZA(),T.TgZ(12,"span",76),T.NdJ("click",function(){return T.CHM(t),T.oxw().composerPackageNameFilter=""}),T.qZA(),T.qZA(),T.YNc(13,B,3,3,"div",77),T.ALo(14,"filter"),T.YNc(15,nt,17,12,"ng-template",null,78,T.W1O),T.TgZ(17,"div",79),T.TgZ(18,"div",80),T.TgZ(19,"div",81),T.TgZ(20,"input",82),T.NdJ("ngModelChange",function(e){return T.CHM(t),T.oxw().composerPackageName=e}),T.qZA(),T.qZA(),T.TgZ(21,"div",83),T.TgZ(22,"input",84),T.NdJ("ngModelChange",function(e){return T.CHM(t),T.oxw().composerPackageVersion=e}),T.qZA(),T.qZA(),T.TgZ(23,"div",85),T.TgZ(24,"button",86),T.NdJ("click",function(e){return T.CHM(t),T.oxw().requirePackage(e)}),T._uU(25),T.ALo(26,"translate"),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA()}if(2&t){const t=T.MAs(16),e=T.oxw();T.Q6J("ngClass",T.VKq(22,it,e.settings.SETTINGS_COMPOSER_PACKAGES.loading)),T.xp6(4),T.hij(" ",T.lcZ(5,11,"SYSTEM_UPDATE")," "),T.xp6(3),T.hij(" ",T.lcZ(8,13,"SETTINGS_COMPOSER_PACKAGES_DESCRIPTION")," "),T.xp6(2),T.Q6J("ngClass",T.VKq(24,ot,!!e.composerPackageNameFilter)),T.xp6(1),T.MGl("placeholder","",T.lcZ(11,15,"SEARCH"),"..."),T.Q6J("ngModel",e.composerPackageNameFilter),T.xp6(3),T.Q6J("ngIf",0===T.xi3(14,17,e.composerPackages,T.VKq(26,et,e.composerPackageNameFilter)).length)("ngIfElse",t),T.xp6(7),T.Q6J("ngModel",e.composerPackageName),T.xp6(2),T.Q6J("ngModel",e.composerPackageVersion),T.xp6(3),T.hij(" ",T.lcZ(26,20,"INSTALL")," ")}}const at=[{path:"",component:(()=>{class t{constructor(t,e,n,i,o){this.messageService=t,this.settingsService=e,this.appSettings=n,this.modalService=i,this.translateService=o,this.loading=!1,this.forms={},this.composerPackages=[],this.composerPackageName="",this.composerPackageVersion="",this.composerPackageNameFilter="",this.settings={SETTINGS_MAIN:new c.e(!1,!0,[],null),SETTINGS_ORDER_STATUSES:new c.e(!1,!0,[],{template:{value:"userEmailStatus",type:"text"},color:{value:"#00aeff",type:"text"}}),SETTINGS_DELIVERY:new c.e(!1,!0,[],{price:{value:0,type:"number"},priceLimit:{value:0,type:"number"}}),SETTINGS_PROMOCODES:new c.e(!1,!0,[],{value:{value:"",type:"text"},quantity:{value:0,type:"number"}}),SETTINGS_PAYMENT:new c.e(!1,!0,[],{value:{value:"",type:"text"}}),SETTINGS_CURRENCY:new c.e(!1,!0,[],{value:{value:1,type:"number"}}),SETTINGS_LANGUAGES:new c.e(!1,!0,[],{value:{value:"",type:"text"}}),SETTINGS_COMPOSER_PACKAGES:new c.e(!1,!0,[],null)},this.destroyed$=new a.xQ,this.baseUrl=this.appSettings.settings.webApiUrl+"/"}ngOnInit(){this.getSettings(),this.getComposerPackages()}getSettings(){this.settingsService.getList().pipe((0,r.R)(this.destroyed$)).subscribe(t=>{t.SETTINGS_MAIN&&(this.settings.SETTINGS_MAIN.values=t.SETTINGS_MAIN,this.settings.SETTINGS_MAIN.defaultValues=(0,l.cloneDeep)(t.SETTINGS_MAIN),this.settings.SETTINGS_MAIN.loading=!1),t.SETTINGS_ORDER_STATUSES&&(this.settings.SETTINGS_ORDER_STATUSES.values=t.SETTINGS_ORDER_STATUSES,this.settings.SETTINGS_ORDER_STATUSES.defaultValues=(0,l.cloneDeep)(t.SETTINGS_ORDER_STATUSES),this.settings.SETTINGS_ORDER_STATUSES.loading=!1),t.SETTINGS_DELIVERY&&(this.settings.SETTINGS_DELIVERY.values=t.SETTINGS_DELIVERY,this.settings.SETTINGS_DELIVERY.defaultValues=(0,l.cloneDeep)(t.SETTINGS_DELIVERY),this.settings.SETTINGS_DELIVERY.loading=!1),t.SETTINGS_PAYMENT&&(this.settings.SETTINGS_PAYMENT.values=t.SETTINGS_PAYMENT,this.settings.SETTINGS_PAYMENT.defaultValues=(0,l.cloneDeep)(t.SETTINGS_PAYMENT),this.settings.SETTINGS_PAYMENT.loading=!1),t.SETTINGS_CURRENCY&&(this.settings.SETTINGS_CURRENCY.values=t.SETTINGS_CURRENCY,this.settings.SETTINGS_CURRENCY.defaultValues=(0,l.cloneDeep)(t.SETTINGS_CURRENCY),this.settings.SETTINGS_CURRENCY.loading=!1),t.SETTINGS_PROMOCODES&&(this.settings.SETTINGS_PROMOCODES.values=t.SETTINGS_PROMOCODES,this.settings.SETTINGS_PROMOCODES.defaultValues=(0,l.cloneDeep)(t.SETTINGS_PROMOCODES),this.settings.SETTINGS_PROMOCODES.loading=!1),t.SETTINGS_LANGUAGES&&(this.settings.SETTINGS_LANGUAGES.values=t.SETTINGS_LANGUAGES,this.settings.SETTINGS_LANGUAGES.defaultValues=(0,l.cloneDeep)(t.SETTINGS_LANGUAGES),this.settings.SETTINGS_LANGUAGES.loading=!1)})}addSetting(t){const e={name:"",description:"",options:(0,l.cloneDeep)(this.settings[t].defaultOptions)};this.settings[t].values.push(e)}deleteSetting(t,e){this.settings[t].values.splice(e,1),this.settings[t].changed=!0}saveSettings(t,e){e&&e.preventDefault();const n=this.settings[t].values;this.settings[t].loading=!0,this.settingsService.updateGroup(t,n).pipe((0,r.R)(this.destroyed$)).subscribe({next:e=>{this.messageService.add({key:"message",severity:"success",summary:this.getLangString("MESSAGE"),detail:this.getLangString("DATA_SAVED_SUCCESSFULLY")}),this.settings[t].defaultValues=e,this.settings[t].loading=!1,this.settings[t].changed=!1,this.pageReload()},error:e=>{e.error&&this.messageService.add({key:"message",severity:"error",summary:this.getLangString("ERROR"),detail:e.error}),this.settings[t].loading=!1}})}getFieldTypeByName(t){return t.toLowerCase().indexOf("password")>-1?"password":"text"}getCurrentLocale(){const t=(0,l.findIndex)(this.settings.SETTINGS_MAIN.values,{name:"locale"});return t>-1?String(this.settings.SETTINGS_MAIN.values[t].value):""}getLangString(t){return this.translateService.store.translations[this.translateService.currentLang]&&this.translateService.store.translations[this.translateService.currentLang][t]||t}resetSettingsForm(t){const e=this.settings[t].defaultValues.length;e<this.settings[t].values.length&&this.settings[t].values.splice(e-1,this.settings[t].values.length-e),(0,l.extend)(this.settings[t].values,(0,l.cloneDeepWith)(this.settings[t].defaultValues)),this.settings[t].loading=!1,this.settings[t].changed=!1}getActionSuccessMessage(t){let e="";switch(t){case"clear_cache":e=this.getLangString("CACHE_CLEAR_SUCCESSFULLY");break;case"clear_system_cache":e=this.getLangString("CACHE_SYSTEM_CLEAR_SUCCESSFULLY");break;case"update_filters":e=this.getLangString("UPDATE_FILTERS_SUCCESSFULLY")}return e}runActionPost(t){this.loading=!0,this.settingsService.runActionPost(t).pipe((0,r.R)(this.destroyed$)).subscribe({next:e=>{if(this.loading=!1,["update_internationalization"].indexOf(t)>-1)this.pageReload();else if(e&&e.success){const e=this.getActionSuccessMessage(t);e&&this.messageService.add({key:"message",severity:"success",summary:this.getLangString("MESSAGE"),detail:e})}},error:t=>{t.error&&this.messageService.add({key:"message",severity:"error",summary:this.getLangString("ERROR"),detail:t.error}),this.loading=!1}})}getComposerPackages(){this.settings.SETTINGS_COMPOSER_PACKAGES.loading=!0,this.settingsService.getComposerPackagesList().pipe((0,r.R)(this.destroyed$)).subscribe({next:t=>{this.composerPackages=t,this.settings.SETTINGS_COMPOSER_PACKAGES.loading=!1},error:t=>{this.settings.SETTINGS_COMPOSER_PACKAGES.loading=!1}})}requirePackage(t){t&&t.preventDefault(),this.composerPackageName&&(this.settings.SETTINGS_COMPOSER_PACKAGES.loading=!0,this.settingsService.composerRequirePackage(this.composerPackageName,this.composerPackageVersion).pipe((0,r.R)(this.destroyed$)).subscribe({next:t=>{this.composerPackageName="",this.composerPackageVersion="",this.settings.SETTINGS_COMPOSER_PACKAGES.loading=!1},error:t=>{t.error&&this.messageService.add({key:"message",severity:"error",summary:this.getLangString("ERROR"),detail:t.error}),this.settings.SETTINGS_COMPOSER_PACKAGES.loading=!1}}))}modalSystemUpdate(t){t&&t.preventDefault(),this.modalRef&&(this.modalRef.dismiss(),this.modalRef=null),this.modalRef=this.modalService.open(b,{backdrop:"static",keyboard:!1}),this.modalRef.result.then(t=>{"completed"===t&&(this.messageService.add({key:"message",severity:"success",summary:this.getLangString("MESSAGE"),detail:this.getLangString("SYSTEM_UPDATE_COMPLETED")}),setTimeout(this.pageReload.bind(this),2e3))})}onValueChanged(t){this.settings[t].changed=!0}inputDisableToggle(t,e,n){n&&n.preventDefault(),t.readOnly=!t.readOnly,e&&(e.style.display="none"!==e.style.display?"none":"")}pageReload(){window.location.reload()}}return t.title="SETTINGS",t.\u0275fac=function(e){return new(e||t)(T.Y36(g.ez),T.Y36(d.g),T.Y36(u.d),T.Y36(p.FF),T.Y36(S.sK))},t.\u0275cmp=T.Xpm({type:t,selectors:[["app-settings"]],features:[T._Bn([g.ez])],decls:80,vars:54,consts:[[1,"card"],[1,"card-body"],[1,"float-md-start"],[1,"icon-cog"],[1,"float-md-end"],["ngbDropdown","","placement","bottom-right",1,"d-block","d-md-inline-block"],["ngbDropdownToggle","",1,"btn","btn-info","btn-sm","d-block","d-md-inline-block","width-100","width-md-auto","mb-2","mb-md-0"],[1,"icon-repeat"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"click"],[1,"icon-reload","text-info"],[1,"icon-repeat","text-info"],[1,"icon-globe","text-info"],[1,"icon-tag","text-info"],[1,"clearfix"],[1,"row"],[1,"col-lg-6"],[1,"label-filled"],[1,"card","mb-4"],[1,"table-responsive-"],[1,"table","table-divided","mb-0"],["width","50%"],[4,"ngFor","ngForOf"],["activeIds","accordion-settings-1",1,"ngb-accordion",3,"closeOthers"],["id","accordion-settings-1",3,"title"],["ngbPanelContent",""],["id","accordion-settings-2",3,"title"],["id","accordion-settings-3",3,"title"],["id","accordion-settings-4",3,"title"],["id","accordion-settings-7",3,"title"],["id","accordion-settings-5",3,"title"],["id","accordion-settings-6",3,"title"],["key","message","position","bottom-right"],[1,"show-on-hover-parent"],[1,"show-on-hover-child","position-relative"],[1,"pos-absolute-right"],[1,"badge","bg-secondary"],[1,"border-bottom-0"],[1,"input-group","input-group-sm","input-group-on-hover"],["readonly","",1,"form-control",3,"type","ngModel","ngModelChange"],["inputField",""],["type","button",1,"btn","btn-sm","btn-outline-success",2,"display","none",3,"ngbTooltip","click"],["button",""],[1,"icon-check"],["type","button",1,"btn","btn-sm","btn-outline-secondary",3,"ngbTooltip","click"],[1,"icon-edit"],[1,"text-muted"],[1,"table-responsive"],["width","40%"],["width","10%"],[1,"bg-faded"],["colspan","4",1,"text-center","border-bottom-0"],[1,"relative"],["class","pos-absolute-right",4,"ngIf"],["type","button",1,"btn","btn-secondary","btn-sm",3,"click"],[1,"icon-plus"],["type","text",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[1,"text-center"],[3,"appendTo","ngModel","ngModelChange"],["type","button",1,"btn","btn-secondary","btn-sm",3,"ngbTooltip","click"],[1,"icon-cross"],["type","button",1,"btn","btn-info","btn-sm",3,"click"],[1,"icon-reload"],["type","number","step","1","min","0",1,"form-control","form-control-sm","mwidth-80","m-auto",3,"ngModel","ngModelChange"],["width","45%"],["type","number","step","1","min","0",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["width","30%"],["colspan","5",1,"text-center","border-bottom-0"],["type","number",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[3,"ngClass"],[1,"float-end"],["type","button",1,"btn","btn-sm","btn-success",3,"click"],[1,"icon-arrow-up-circle"],[1,"pb-3","text-muted","mb-2"],[1,"form-control-search","mb-3",3,"ngClass"],["type","text",1,"form-control","form-control-sm",3,"placeholder","ngModel","ngModelChange"],[3,"click"],["class","alert alert-info py-1 px-3",4,"ngIf","ngIfElse"],["composerPackagesTable",""],[1,"card","card-body","p-2","mt-3",2,"display","none"],[1,"row","no-gutters"],[1,"col-5","pe-1"],["type","text","placeholder","package / class name",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[1,"col-4","ps-1","pe-1"],["type","text","placeholder","version / class path",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[1,"col-3","ps-1"],["type","button",1,"btn","btn-success","btn-sm","d-block","w-100",3,"click"],[1,"alert","alert-info","py-1","px-3"],[1,"max-height400"],["width","60%"]],template:function(t,e){1&t&&(T.TgZ(0,"div",0),T.TgZ(1,"div",1),T.TgZ(2,"div",2),T.TgZ(3,"h3"),T._UZ(4,"i",3),T._uU(5),T.ALo(6,"translate"),T.qZA(),T.qZA(),T.TgZ(7,"div",4),T.TgZ(8,"div",5),T.TgZ(9,"button",6),T._UZ(10,"i",7),T._uU(11," \xa0 "),T.TgZ(12,"span"),T._uU(13),T.ALo(14,"translate"),T.qZA(),T.qZA(),T.TgZ(15,"div",8),T.TgZ(16,"button",9),T.NdJ("click",function(){return e.runActionPost("clear_cache")}),T._UZ(17,"i",10),T._uU(18),T.ALo(19,"translate"),T.qZA(),T.TgZ(20,"button",9),T.NdJ("click",function(){return e.runActionPost("clear_system_cache")}),T._UZ(21,"i",11),T._uU(22),T.ALo(23,"translate"),T.qZA(),T.TgZ(24,"button",9),T.NdJ("click",function(){return e.runActionPost("update_internationalization")}),T._UZ(25,"i",12),T._uU(26),T.ALo(27,"translate"),T.qZA(),T.TgZ(28,"button",9),T.NdJ("click",function(){return e.runActionPost("update_filters")}),T._UZ(29,"i",13),T._uU(30),T.ALo(31,"translate"),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T._UZ(32,"div",14),T._UZ(33,"hr"),T.TgZ(34,"div",15),T.TgZ(35,"div",16),T.TgZ(36,"div"),T.TgZ(37,"label",17),T._uU(38),T.ALo(39,"translate"),T.qZA(),T.TgZ(40,"div",18),T.TgZ(41,"div",19),T.TgZ(42,"table",20),T.TgZ(43,"colgroup"),T._UZ(44,"col",21),T._UZ(45,"col",21),T.qZA(),T.TgZ(46,"thead"),T.TgZ(47,"tr"),T.TgZ(48,"th"),T._uU(49),T.ALo(50,"translate"),T.qZA(),T.TgZ(51,"th"),T._uU(52),T.ALo(53,"translate"),T.qZA(),T.qZA(),T.qZA(),T.TgZ(54,"tbody"),T.YNc(55,L,21,12,"tr",22),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.TgZ(56,"div",16),T.TgZ(57,"ngb-accordion",23),T.TgZ(58,"ngb-panel",24),T.ALo(59,"translate"),T.YNc(60,P,36,19,"ng-template",25),T.qZA(),T.TgZ(61,"ngb-panel",26),T.ALo(62,"translate"),T.YNc(63,D,31,19,"ng-template",25),T.qZA(),T.TgZ(64,"ngb-panel",27),T.ALo(65,"translate"),T.YNc(66,V,32,16,"ng-template",25),T.qZA(),T.TgZ(67,"ngb-panel",28),T.ALo(68,"translate"),T.YNc(69,Q,32,16,"ng-template",25),T.qZA(),T.TgZ(70,"ngb-panel",29),T.ALo(71,"translate"),T.YNc(72,K,36,19,"ng-template",25),T.qZA(),T.TgZ(73,"ngb-panel",30),T.ALo(74,"translate"),T.YNc(75,X,32,16,"ng-template",25),T.qZA(),T.TgZ(76,"ngb-panel",31),T.ALo(77,"translate"),T.YNc(78,st,27,28,"ng-template",25),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T._UZ(79,"p-toast",32)),2&t&&(T.xp6(1),T.ekj("loading",e.loading),T.xp6(4),T.hij(" ",T.lcZ(6,22,"SETTINGS")," "),T.xp6(8),T.Oqu(T.lcZ(14,24,"CLEAR_CACHE")),T.xp6(5),T.hij(" \xa0 ",T.lcZ(19,26,"CLEAR_FILE_CACHE")," "),T.xp6(4),T.hij(" \xa0 ",T.lcZ(23,28,"CLEAR_SYSTEM_CACHE")," "),T.xp6(4),T.hij(" \xa0 ",T.lcZ(27,30,"UPDATE_DICTIONARIES")," "),T.xp6(4),T.hij(" \xa0 ",T.lcZ(31,32,"UPDATE_FILTERS")," "),T.xp6(6),T.ekj("loading",e.settings.SETTINGS_MAIN.loading),T.xp6(2),T.Oqu(T.lcZ(39,34,"SETTINGS_MAIN")),T.xp6(11),T.Oqu(T.lcZ(50,36,"PARAMETER")),T.xp6(3),T.Oqu(T.lcZ(53,38,"VALUE")),T.xp6(3),T.Q6J("ngForOf",e.settings.SETTINGS_MAIN.values),T.xp6(2),T.Q6J("closeOthers",!0),T.xp6(1),T.Q6J("title",T.lcZ(59,40,"SETTINGS_ORDER_STATUSES")),T.xp6(3),T.Q6J("title",T.lcZ(62,42,"SETTINGS_DELIVERY")),T.xp6(3),T.Q6J("title",T.lcZ(65,44,"SETTINGS_PAYMENT")),T.xp6(3),T.Q6J("title",T.lcZ(68,46,"SETTINGS_CURRENCY")),T.xp6(3),T.Q6J("title",T.lcZ(71,48,"SETTINGS_PROMOCODES")),T.xp6(3),T.Q6J("title",T.lcZ(74,50,"SETTINGS_LANGUAGES")),T.xp6(3),T.Q6J("title",T.lcZ(77,52,"SETTINGS_COMPOSER_PACKAGES")))},directives:[p.jt,p.iD,p.Vi,i.sg,p.gY,p.Gk,p.gW,I.FN,v.Fj,v.JJ,v.On,p._L,i.O5,R.zH,v.qQ,v.wV,i.mk],pipes:[S.X$,G],encapsulation:2}),t})()}];let rt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=T.oAB({type:t}),t.\u0275inj=T.cJS({imports:[[s.Bz.forChild(at)],s.Bz]}),t})(),lt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=T.oAB({type:t}),t.\u0275inj=T.cJS({providers:[],imports:[[i.ez,o.m,rt]]}),t})()},99639:function(t,e,n){n.d(e,{g:function(){return l}});var i=n(91841),o=n(25917),s=n(5304),a=(n(49103),n(73844)),r=n(37716);let l=(()=>{class t{constructor(t){this.http=t,this.headers=new i.WM({"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}),this.requestUrl="",this.baseUrl="",this.requestUrl="/admin/settings",this.baseUrl=a.d.getBaseUrl()}setRequestUrl(t){this.requestUrl=t}getRequestUrl(){return this.requestUrl}getList(){return this.http.get(this.getRequestUrl()).pipe((0,s.K)(this.handleError()))}clearSystemCache(){const t=this.getRequestUrl()+"/clear_system_cache";return this.http.post(t,{},{headers:this.headers}).pipe((0,s.K)(this.handleError()))}runActionPost(t){const e=this.getRequestUrl()+`/${t}`;return this.http.post(e,{},{headers:this.headers}).pipe((0,s.K)(this.handleError()))}updateGroup(t,e){const n=this.getRequestUrl()+`/${t}`;return this.http.put(n,e,{headers:this.headers}).pipe((0,s.K)(this.handleError()))}getComposerPackagesList(){return this.http.get(this.getRequestUrl()+"_composer_installed_packages").pipe((0,s.K)(this.handleError()))}composerRequirePackage(t,e){const n=this.getRequestUrl()+"_composer_require_package";return this.http.post(n,{packageName:t,packageVersion:e},{headers:this.headers}).pipe((0,s.K)(this.handleError()))}postFormData(t,e){const n=new i.WM({enctype:"multipart/form-data",Accept:"application/json","X-Requested-With":"XMLHttpRequest"});return this.http.post(this.baseUrl+e,t,{headers:n}).pipe((0,s.K)(this.handleError()))}runAction(t){return this.http.post(this.baseUrl+t,{},{headers:this.headers}).pipe((0,s.K)(this.handleError()))}handleError(t="operation",e){return t=>{if(!(t.status&&[401,403].indexOf(t.status)>-1)){if(t.error)throw t.error;return(0,o.of)(e)}window.location.href=this.baseUrl+"/login"}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(i.eN))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);