!function(){"use strict";function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function e(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(self.webpackChunkshk_app=self.webpackChunkshk_app||[]).push([["src_app_settings_settings_module_ts"],{53999:function(t,e,i){i.d(e,{e:function(){return o}});var o=function t(e,i,o,a,r){n(this,t),this.changed=e,this.loading=i,this.values=o,this.defaultOptions=a,this.defaultValues=r}},34454:function(t,i,o){o.r(i),o.d(i,{SettingsModule:function(){return ut}});var a=o(16274),r=o(51903),s=o(58335),l=o(6006),g=o(27194),c=o(46243),u=o(41388),d=o(53999),Z=o(63005),T=o(18356),p=o(83082),S=o(42741),A=o(77924),E=o(81633),h=["filesWidget"];function _(t,e){1&t&&S._UZ(0,"i",16)}function f(t,e){1&t&&S._UZ(0,"i",16)}function v(t,e){1&t&&S._UZ(0,"i",16)}function N(t,e){1&t&&S._UZ(0,"i",17)}function q(t,e){if(1&t){var n=S.EpF();S.TgZ(0,"div",18),S._UZ(1,"app-file-widget",19,20),S.TgZ(3,"div",21),S.TgZ(4,"button",22),S.NdJ("click",function(t){return S.CHM(n),S.oxw().skipStepHandler(t)}),S._uU(5),S.ALo(6,"translate"),S.qZA(),S.qZA(),S.qZA()}2&t&&(S.xp6(1),S.Q6J("hasPreviewImage",!1)("allowMultiple",!1)("allowedExtensions",".zip"),S.xp6(4),S.hij(" ",S.lcZ(6,4,"SKIP")," "))}function m(t,e){if(1&t&&(S.TgZ(0,"pre",28),S._uU(1),S.qZA()),2&t){var n=S.oxw(2);S.xp6(1),S.Oqu(n.changelogContent)}}function C(t,e){if(1&t&&(S.TgZ(0,"div"),S.TgZ(1,"div",23),S._uU(2),S.ALo(3,"translate"),S.TgZ(4,"span"),S._uU(5),S.qZA(),S._UZ(6,"br"),S._uU(7),S.ALo(8,"translate"),S.TgZ(9,"b",24),S._uU(10),S.qZA(),S.qZA(),S.TgZ(11,"ngb-accordion",25),S.TgZ(12,"ngb-panel",26),S.ALo(13,"translate"),S.YNc(14,m,2,1,"ng-template",27),S.qZA(),S.qZA(),S.qZA()),2&t){var n=S.oxw();S.xp6(2),S.hij(" ",S.lcZ(3,5,"CURRENT_VERSION"),": "),S.xp6(3),S.Oqu(n.currentVersion),S.xp6(2),S.hij(" ",S.lcZ(8,7,"NEW_VERSION"),": "),S.xp6(3),S.Oqu(n.version),S.xp6(2),S.Q6J("title",S.lcZ(13,9,"CHANGELOG"))}}function U(t,e){if(1&t&&(S.TgZ(0,"div",29),S._UZ(1,"ngb-progressbar",30),S.qZA()),2&t){var n=S.oxw();S.xp6(1),S.Q6J("striped",!0)("animated",!0)("value",n.updatePercent)("showValue",!0)}}function x(t,e){if(1&t){var n=S.EpF();S.TgZ(0,"div",31),S._uU(1),S.ALo(2,"translate"),S.TgZ(3,"button",32),S.NdJ("click",function(){return S.CHM(n),S.oxw().errorMessage=""}),S.qZA(),S.qZA()}if(2&t){var i=S.oxw();S.xp6(1),S.hij(" ",S.lcZ(2,1,i.errorMessage)," ")}}var M,b=function(t){return{"no-events loading":t}},I=function(t){return{"text-muted":t}},R=((M=function(){function t(e,i,o){n(this,t),this.activeModal=e,this.dataService=i,this.appSettings=o,this.loading=!1,this.destroyed$=new l.xQ,this.stepNumber=1,this.updatePercent=0,this.isUpdateStarted=!1,this.isCollapsed=!0}return e(t,[{key:"ngOnInit",value:function(){this.currentVersion=this.appSettings.settings.version}},{key:"nextStepHandler",value:function(t){var e=this;switch(t&&t.preventDefault(),this.errorMessage="",this.stepNumber){case 1:if(0===this.filesWidget.filesRaw.length)return void(this.errorMessage="PLEASE_SELECT_FILE");this.isUpdateStarted=!1;var n=new FormData;n.append("file",this.filesWidget.filesRaw[0]),this.loading=!0,this.dataService.postFormData(n,"admin/system_update/upload").pipe((0,g.R)(this.destroyed$)).subscribe({next:function(t){e.loading=!1,e.stepNumber=2},error:function(t){t.error&&(e.errorMessage=t.error),e.loading=!1}});break;case 2:this.loading=!0,this.dataService.runAction("admin/system_update/pre_update").pipe((0,g.R)(this.destroyed$)).subscribe({next:function(t){e.stepNumber=3,e.version=t.version||"",e.changelogContent=t.changelogContent||"",e.loading=!1},error:function(t){t.error&&(e.errorMessage=t.error),e.loading=!1}});break;case 3:this.updateRunStep("vendors")}}},{key:"skipStepHandler",value:function(t){t&&t.preventDefault(),this.errorMessage="",this.stepNumber++}},{key:"updateRunStep",value:function(t){var e=this,n=["vendor","src","template","config"],i=n.indexOf(t);0===i&&(this.loading=!0,this.isUpdateStarted=!0,this.updatePercent=0),this.dataService.runAction("admin/system_update/execute/".concat(t)).pipe((0,g.R)(this.destroyed$)).subscribe({next:function(t){e.updatePercent=(i+1)/n.length*100,100===e.updatePercent?(e.stepNumber=4,setTimeout(e.onUpdateComplete.bind(e),1e3)):e.updateRunStep(n[i+1])},error:function(t){t.error&&(e.errorMessage=t.error),e.loading=!1,e.isUpdateStarted=!1,e.updatePercent=0}})}},{key:"closeModal",value:function(t){this.activeModal.close(t)}},{key:"onUpdateComplete",value:function(){this.loading=!1,this.closeModal("completed")}},{key:"ngOnDestroy",value:function(){this.destroyed$.next(),this.destroyed$.complete()}}]),t}()).\u0275fac=function(t){return new(t||M)(S.Y36(A.Kz),S.Y36(T.g),S.Y36(Z.d))},M.\u0275cmp=S.Xpm({type:M,selectors:[["app-modal-file-upload"]],viewQuery:function(t,e){var n;1&t&&S.Gf(h,5),2&t&&S.iGM(n=S.CRH())&&(e.filesWidget=n.first)},decls:34,vars:42,consts:[[3,"ngClass"],[1,"modal-header","d-block"],[1,"modal-title","text-success"],[1,"icon-arrow-up-circle"],[1,"modal-body"],[1,"mb-3",3,"ngClass"],["class","icon-check-circle me-2 text-success",4,"ngIf","ngIfElse"],["iconCircleTemplate",""],["class","show-on-hover-parent",4,"ngIf"],[4,"ngIf"],["class","py-4",4,"ngIf"],["class","alert alert-dismissible alert-danger mt-3 mb-0",4,"ngIf"],[1,"modal-footer","d-block","pt-0"],["type","button",1,"btn","btn-primary","btn-wide",3,"disabled","click"],[1,"icon-arrow-right","ms-2"],["type","button",1,"btn","btn-secondary","btn-wide",3,"disabled","click"],[1,"icon-check-circle","me-2","text-success"],[1,"icon-circle","me-2"],[1,"show-on-hover-parent"],["fieldName","file",3,"hasPreviewImage","allowMultiple","allowedExtensions"],["filesWidget",""],[1,"pos-absolute-left-bottom10","show-on-hover"],["type","button",1,"btn","btn-sm","btn-secondary",3,"click"],[1,"text-success","mb-2"],[1,"big"],[1,"ngb-accordion"],["id","accordion-settings-1",3,"title"],["ngbPanelContent",""],[1,"max-height400","mb-0"],[1,"py-4"],["type","info","textType","white",3,"striped","animated","value","showValue"],[1,"alert","alert-dismissible","alert-danger","mt-3","mb-0"],["type","button","data-dismiss","alert","aria-label","Close",1,"btn-close",3,"click"]],template:function(t,e){if(1&t&&(S.TgZ(0,"div",0),S.TgZ(1,"div",1),S.TgZ(2,"h4",2),S._UZ(3,"i",3),S._uU(4),S.ALo(5,"translate"),S.qZA(),S.qZA(),S.TgZ(6,"div",4),S.TgZ(7,"div"),S.TgZ(8,"div",5),S.YNc(9,_,1,0,"i",6),S._uU(10),S.ALo(11,"translate"),S.qZA(),S.TgZ(12,"div",5),S.YNc(13,f,1,0,"i",6),S._uU(14),S.ALo(15,"translate"),S.qZA(),S.TgZ(16,"div",5),S.YNc(17,v,1,0,"i",6),S._uU(18),S.ALo(19,"translate"),S.qZA(),S.YNc(20,N,1,0,"ng-template",null,7,S.W1O),S.qZA(),S.YNc(22,q,7,6,"div",8),S.YNc(23,C,15,11,"div",9),S.YNc(24,U,2,4,"div",10),S.YNc(25,x,4,3,"div",11),S.qZA(),S.TgZ(26,"div",12),S.TgZ(27,"button",13),S.NdJ("click",function(t){return e.nextStepHandler(t)}),S._uU(28),S.ALo(29,"translate"),S._UZ(30,"i",14),S.qZA(),S.TgZ(31,"button",15),S.NdJ("click",function(){return e.closeModal("close")}),S._uU(32),S.ALo(33,"translate"),S.qZA(),S.qZA(),S.qZA()),2&t){var n=S.MAs(21);S.Q6J("ngClass",S.VKq(34,b,e.loading)),S.xp6(4),S.hij(" ",S.lcZ(5,22,"SYSTEM_UPDATE")," "),S.xp6(4),S.Q6J("ngClass",S.VKq(36,I,1!=e.stepNumber)),S.xp6(1),S.Q6J("ngIf",e.stepNumber>1)("ngIfElse",n),S.xp6(1),S.hij(" ",S.lcZ(11,24,"SYSTEM_UPDATE_STEP1_DESCRIPTION")," "),S.xp6(2),S.Q6J("ngClass",S.VKq(38,I,2!=e.stepNumber)),S.xp6(1),S.Q6J("ngIf",e.stepNumber>2)("ngIfElse",n),S.xp6(1),S.hij(" ",S.lcZ(15,26,"SYSTEM_UPDATE_STEP2_DESCRIPTION")," "),S.xp6(2),S.Q6J("ngClass",S.VKq(40,I,3!=e.stepNumber)),S.xp6(1),S.Q6J("ngIf",e.stepNumber>3)("ngIfElse",n),S.xp6(1),S.hij(" ",S.lcZ(19,28,"SYSTEM_UPDATE_STEP3_DESCRIPTION")," "),S.xp6(4),S.Q6J("ngIf",1==e.stepNumber),S.xp6(1),S.Q6J("ngIf",3==e.stepNumber&&!e.isUpdateStarted),S.xp6(1),S.Q6J("ngIf",e.isUpdateStarted),S.xp6(1),S.Q6J("ngIf",e.errorMessage),S.xp6(2),S.Q6J("disabled",e.loading),S.xp6(1),S.hij(" ",S.lcZ(29,30,"CONTINUE")," "),S.xp6(3),S.Q6J("disabled",e.loading),S.xp6(1),S.hij(" ",S.lcZ(33,32,"CLOSE")," ")}},directives:[a.mk,a.O5,p.E,A.gY,A.Gk,A.gW,A.Ly],pipes:[E.X$],encapsulation:2}),M),G=o(33666),L=o(93324),O=o(78026),k=function(){var t=function(){function t(){n(this,t)}return e(t,[{key:"transform",value:function(t,e){if(e&&Array.isArray(t)){var n=Object.keys(e);return t.filter(function(t){return n.reduce(function(n,i){return n&&t[i].indexOf(e[i])>-1},!0)})}return t}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=S.Yjl({name:"filter",type:t,pure:!1}),t}();function y(t,e){if(1&t){var n=S.EpF();S.TgZ(0,"tr"),S.TgZ(1,"td"),S.TgZ(2,"div",33),S.TgZ(3,"div",34),S.TgZ(4,"div",35),S.TgZ(5,"span",36),S._uU(6),S.qZA(),S.qZA(),S.qZA(),S.TgZ(7,"span"),S._uU(8),S.ALo(9,"translate"),S.qZA(),S.qZA(),S.qZA(),S.TgZ(10,"td",37),S.TgZ(11,"div",38),S.TgZ(12,"input",39,40),S.NdJ("ngModelChange",function(t){return S.CHM(n).$implicit.value=t}),S.qZA(),S.TgZ(14,"button",41,42),S.NdJ("click",function(t){return S.CHM(n),S.oxw().saveSettings("SETTINGS_MAIN",t)}),S.ALo(16,"translate"),S._UZ(17,"i",43),S.qZA(),S.TgZ(18,"button",44),S.NdJ("click",function(t){S.CHM(n);var e=S.MAs(13),i=S.MAs(15);return S.oxw().inputDisableToggle(e,i,t)}),S.ALo(19,"translate"),S._UZ(20,"i",45),S.qZA(),S.qZA(),S.qZA(),S.qZA()}if(2&t){var i=e.$implicit,o=S.oxw();S.xp6(6),S.Oqu(i.name),S.xp6(2),S.Oqu(S.lcZ(9,6,i.name)),S.xp6(4),S.s9C("type",o.getFieldTypeByName(i.name)),S.Q6J("ngModel",i.value),S.xp6(2),S.s9C("ngbTooltip",S.lcZ(16,8,"SAVE")),S.xp6(4),S.s9C("ngbTooltip",S.lcZ(19,10,"EDIT"))}}function w(t,e){if(1&t){var n=S.EpF();S.TgZ(0,"tr"),S.TgZ(1,"td"),S.TgZ(2,"input",56),S.NdJ("ngModelChange",function(t){return S.CHM(n).$implicit.name=t})("ngModelChange",function(){return S.CHM(n),S.oxw(2).onValueChanged("SETTINGS_ORDER_STATUSES")}),S.qZA(),S.qZA(),S.TgZ(3,"td"),S.TgZ(4,"input",56),S.NdJ("ngModelChange",function(t){return S.CHM(n).$implicit.options.template.value=t})("ngModelChange",function(){return S.CHM(n),S.oxw(2).onValueChanged("SETTINGS_ORDER_STATUSES")}),S.qZA(),S.qZA(),S.TgZ(5,"td",57),S.TgZ(6,"p-colorPicker",58),S.NdJ("ngModelChange",function(t){return S.CHM(n).$implicit.options.color.value=t})("ngModelChange",function(){return S.CHM(n),S.oxw(2).onValueChanged("SETTINGS_ORDER_STATUSES")}),S.qZA(),S.qZA(),S.TgZ(7,"td",57),S.TgZ(8,"button",59),S.NdJ("click",function(){var t=S.CHM(n).index;return S.oxw(2).deleteSetting("SETTINGS_ORDER_STATUSES",t)}),S.ALo(9,"translate"),S._UZ(10,"i",60),S.qZA(),S.qZA(),S.qZA()}if(2&t){var i=e.$implicit;S.xp6(2),S.Q6J("ngModel",i.name),S.xp6(2),S.Q6J("ngModel",i.options.template.value),S.xp6(2),S.Q6J("appendTo","body")("ngModel",i.options.color.value),S.xp6(2),S.s9C("ngbTooltip",S.lcZ(9,5,"DELETE"))}}function P(t,e){if(1&t){var n=S.EpF();S.TgZ(0,"div",35),S.TgZ(1,"button",61),S.NdJ("click",function(){return S.CHM(n),S.oxw(2).saveSettings("SETTINGS_ORDER_STATUSES")}),S._UZ(2,"i",43),S._uU(3," \xa0 "),S.TgZ(4,"span"),S._uU(5),S.ALo(6,"translate"),S.qZA(),S.qZA(),S._uU(7," \xa0 "),S.TgZ(8,"button",59),S.NdJ("click",function(){return S.CHM(n),S.oxw(2).resetSettingsForm("SETTINGS_ORDER_STATUSES")}),S.ALo(9,"translate"),S._UZ(10,"i",62),S.qZA(),S.qZA()}2&t&&(S.xp6(5),S.Oqu(S.lcZ(6,2,"SAVE")),S.xp6(3),S.s9C("ngbTooltip",S.lcZ(9,4,"FORM_RESET")))}function D(t,e){if(1&t){var n=S.EpF();S.TgZ(0,"div"),S.TgZ(1,"div",46),S._uU(2),S.ALo(3,"translate"),S.qZA(),S.TgZ(4,"div",47),S.TgZ(5,"table",20),S.TgZ(6,"colgroup"),S._UZ(7,"col",48),S._UZ(8,"col",48),S._UZ(9,"col",49),S._UZ(10,"col",49),S.qZA(),S.TgZ(11,"thead"),S.TgZ(12,"tr"),S.TgZ(13,"th"),S._uU(14),S.ALo(15,"translate"),S.qZA(),S.TgZ(16,"th"),S._uU(17),S.ALo(18,"translate"),S.qZA(),S.TgZ(19,"th"),S._uU(20),S.ALo(21,"translate"),S.qZA(),S._UZ(22,"th"),S.qZA(),S.qZA(),S.TgZ(23,"tbody"),S.YNc(24,w,11,7,"tr",22),S.qZA(),S.TgZ(25,"tfoot"),S.TgZ(26,"tr",50),S.TgZ(27,"td",51),S.TgZ(28,"div",52),S.YNc(29,P,11,6,"div",53),S.qZA(),S.TgZ(30,"button",54),S.NdJ("click",function(){return S.CHM(n),S.oxw().addSetting("SETTINGS_ORDER_STATUSES")}),S._UZ(31,"i",55),S._uU(32," \xa0 "),S.TgZ(33,"span"),S._uU(34),S.ALo(35,"translate"),S.qZA(),S.qZA(),S.qZA(),S.qZA(),S.qZA(),S.qZA(),S.qZA(),S.qZA()}if(2&t){var i=S.oxw();S.ekj("loading",i.settings.SETTINGS_DELIVERY.loading),S.xp6(2),S.hij(" ",S.lcZ(3,9,"SETTINGS_STATUSES_DESCRIPTION")," "),S.xp6(12),S.hij(" ",S.lcZ(15,11,"NAME")," "),S.xp6(3),S.hij(" ",S.lcZ(18,13,"MAIL_TEMPLATE")," "),S.xp6(3),S.hij(" ",S.lcZ(21,15,"COLOR")," "),S.xp6(4),S.Q6J("ngForOf",i.settings.SETTINGS_ORDER_STATUSES.values),S.xp6(5),S.Q6J("ngIf",i.settings.SETTINGS_ORDER_STATUSES.changed),S.xp6(5),S.Oqu(S.lcZ(35,17,"ADD"))}}function J(t,e){if(1&t){var n=S.EpF();S.TgZ(0,"tr"),S.TgZ(1,"td"),S.TgZ(2,"input",56),S.NdJ("ngModelChange",function(t){return S.CHM(n).$implicit.name=t})("ngModelChange",function(){return S.CHM(n),S.oxw(2).onValueChanged("SETTINGS_DELIVERY")}),S.qZA(),S.qZA(),S.TgZ(3,"td",57),S.TgZ(4,"input",63),S.NdJ("ngModelChange",function(t){return S.CHM(n).$implicit.options.price.value=t})("ngModelChange",function(){return S.CHM(n),S.oxw(2).onValueChanged("SETTINGS_DELIVERY")}),S.qZA(),S.qZA(),S.TgZ(5,"td",57),S.TgZ(6,"input",63),S.NdJ("ngModelChange",function(t){return S.CHM(n).$implicit.options.priceLimit.value=t})("ngModelChange",function(){return S.CHM(n),S.oxw(2).onValueChanged("SETTINGS_DELIVERY")}),S.qZA(),S.qZA(),S.TgZ(7,"td",57),S.TgZ(8,"button",59),S.NdJ("click",function(){var t=S.CHM(n).index;return S.oxw(2).deleteSetting("SETTINGS_DELIVERY",t)}),S.ALo(9,"translate"),S._UZ(10,"i",60),S.qZA(),S.qZA(),S.qZA()}if(2&t){var i=e.$implicit;S.xp6(2),S.Q6J("ngModel",i.name),S.xp6(2),S.Q6J("ngModel",i.options.price.value),S.xp6(2),S.Q6J("ngModel",i.options.priceLimit.value),S.xp6(2),S.s9C("ngbTooltip",S.lcZ(9,4,"DELETE"))}}function Y(t,e){if(1&t){var n=S.EpF();S.TgZ(0,"div",35),S.TgZ(1,"button",61),S.NdJ("click",function(){return S.CHM(n),S.oxw(2).saveSettings("SETTINGS_DELIVERY")}),S._UZ(2,"i",43),S._uU(3," \xa0 "),S.TgZ(4,"span"),S._uU(5),S.ALo(6,"translate"),S.qZA(),S.qZA(),S._uU(7," \xa0 "),S.TgZ(8,"button",59),S.NdJ("click",function(){return S.CHM(n),S.oxw(2).resetSettingsForm("SETTINGS_DELIVERY")}),S.ALo(9,"translate"),S._UZ(10,"i",62),S.qZA(),S.qZA()}2&t&&(S.xp6(5),S.Oqu(S.lcZ(6,2,"SAVE")),S.xp6(3),S.s9C("ngbTooltip",S.lcZ(9,4,"FORM_RESET")))}function V(t,e){if(1&t){var n=S.EpF();S.TgZ(0,"div"),S.TgZ(1,"div",46),S._uU(2),S.ALo(3,"translate"),S.qZA(),S.TgZ(4,"div",47),S.TgZ(5,"table",20),S.TgZ(6,"thead"),S.TgZ(7,"tr"),S.TgZ(8,"th"),S._uU(9),S.ALo(10,"translate"),S.qZA(),S.TgZ(11,"th"),S._uU(12),S.ALo(13,"translate"),S.qZA(),S.TgZ(14,"th"),S._uU(15),S.ALo(16,"translate"),S.qZA(),S._UZ(17,"th"),S.qZA(),S.qZA(),S.TgZ(18,"tbody"),S.YNc(19,J,11,6,"tr",22),S.qZA(),S.TgZ(20,"tfoot"),S.TgZ(21,"tr",50),S.TgZ(22,"td",51),S.TgZ(23,"div",52),S.YNc(24,Y,11,6,"div",53),S.qZA(),S.TgZ(25,"button",54),S.NdJ("click",function(){return S.CHM(n),S.oxw().addSetting("SETTINGS_DELIVERY")}),S._UZ(26,"i",55),S._uU(27," \xa0 "),S.TgZ(28,"span"),S._uU(29),S.ALo(30,"translate"),S.qZA(),S.qZA(),S.qZA(),S.qZA(),S.qZA(),S.qZA(),S.qZA(),S.qZA()}if(2&t){var i=S.oxw();S.ekj("loading",i.settings.SETTINGS_DELIVERY.loading),S.xp6(2),S.hij(" ",S.lcZ(3,9,"SETTINGS_DELIVERY_DESCRIPTION")," "),S.xp6(7),S.hij(" ",S.lcZ(10,11,"NAME")," "),S.xp6(3),S.hij(" ",S.lcZ(13,13,"PRICE")," "),S.xp6(3),S.hij(" ",S.lcZ(16,15,"MAX_PRICE")," "),S.xp6(4),S.Q6J("ngForOf",i.settings.SETTINGS_DELIVERY.values),S.xp6(5),S.Q6J("ngIf",i.settings.SETTINGS_DELIVERY.changed),S.xp6(5),S.Oqu(S.lcZ(30,17,"ADD"))}}function H(t,e){if(1&t){var n=S.EpF();S.TgZ(0,"tr"),S.TgZ(1,"td"),S.TgZ(2,"input",56),S.NdJ("ngModelChange",function(t){return S.CHM(n).$implicit.name=t})("ngModelChange",function(){return S.CHM(n),S.oxw(2).onValueChanged("SETTINGS_PAYMENT")}),S.qZA(),S.qZA(),S.TgZ(3,"td",57),S.TgZ(4,"input",56),S.NdJ("ngModelChange",function(t){return S.CHM(n).$implicit.options.value.value=t})("ngModelChange",function(){return S.CHM(n),S.oxw(2).onValueChanged("SETTINGS_PAYMENT")}),S.qZA(),S.qZA(),S.TgZ(5,"td",57),S.TgZ(6,"button",59),S.NdJ("click",function(){var t=S.CHM(n).index;return S.oxw(2).deleteSetting("SETTINGS_PAYMENT",t)}),S.ALo(7,"translate"),S._UZ(8,"i",60),S.qZA(),S.qZA(),S.qZA()}if(2&t){var i=e.$implicit;S.xp6(2),S.Q6J("ngModel",i.name),S.xp6(2),S.Q6J("ngModel",i.options.value.value),S.xp6(2),S.s9C("ngbTooltip",S.lcZ(7,3,"DELETE"))}}function F(t,e){if(1&t){var n=S.EpF();S.TgZ(0,"div",35),S.TgZ(1,"button",61),S.NdJ("click",function(){return S.CHM(n),S.oxw(2).saveSettings("SETTINGS_PAYMENT")}),S._UZ(2,"i",43),S._uU(3," \xa0 "),S.TgZ(4,"span"),S._uU(5),S.ALo(6,"translate"),S.qZA(),S.qZA(),S._uU(7," \xa0 "),S.TgZ(8,"button",59),S.NdJ("click",function(){return S.CHM(n),S.oxw(2).resetSettingsForm("SETTINGS_PAYMENT")}),S.ALo(9,"translate"),S._UZ(10,"i",62),S.qZA(),S.qZA()}2&t&&(S.xp6(5),S.Oqu(S.lcZ(6,2,"SAVE")),S.xp6(3),S.s9C("ngbTooltip",S.lcZ(9,4,"FORM_RESET")))}function Q(t,e){if(1&t){var n=S.EpF();S.TgZ(0,"div"),S.TgZ(1,"div",46),S._uU(2),S.ALo(3,"translate"),S.qZA(),S.TgZ(4,"div",47),S.TgZ(5,"table",20),S.TgZ(6,"colgroup"),S._UZ(7,"col",64),S._UZ(8,"col",64),S._UZ(9,"col",49),S.qZA(),S.TgZ(10,"thead"),S.TgZ(11,"tr"),S.TgZ(12,"th"),S._uU(13),S.ALo(14,"translate"),S.qZA(),S.TgZ(15,"th"),S._uU(16),S.ALo(17,"translate"),S.qZA(),S._UZ(18,"th"),S.qZA(),S.qZA(),S.TgZ(19,"tbody"),S.YNc(20,H,9,5,"tr",22),S.qZA(),S.TgZ(21,"tfoot"),S.TgZ(22,"tr",50),S.TgZ(23,"td",51),S.TgZ(24,"div",52),S.YNc(25,F,11,6,"div",53),S.qZA(),S.TgZ(26,"button",54),S.NdJ("click",function(){return S.CHM(n),S.oxw().addSetting("SETTINGS_PAYMENT")}),S._UZ(27,"i",55),S._uU(28," \xa0 "),S.TgZ(29,"span"),S._uU(30),S.ALo(31,"translate"),S.qZA(),S.qZA(),S.qZA(),S.qZA(),S.qZA(),S.qZA(),S.qZA(),S.qZA()}if(2&t){var i=S.oxw();S.ekj("loading",i.settings.SETTINGS_PAYMENT.loading),S.xp6(2),S.hij(" ",S.lcZ(3,8,"SETTINGS_PAYMENT_DESCRIPTION")," "),S.xp6(11),S.hij(" ",S.lcZ(14,10,"NAME")," "),S.xp6(3),S.hij(" ",S.lcZ(17,12,"VALUE")," "),S.xp6(4),S.Q6J("ngForOf",i.settings.SETTINGS_PAYMENT.values),S.xp6(5),S.Q6J("ngIf",i.settings.SETTINGS_PAYMENT.changed),S.xp6(5),S.Oqu(S.lcZ(31,14,"ADD"))}}function j(t,e){if(1&t){var n=S.EpF();S.TgZ(0,"tr"),S.TgZ(1,"td"),S.TgZ(2,"input",56),S.NdJ("ngModelChange",function(t){return S.CHM(n).$implicit.name=t})("ngModelChange",function(){return S.CHM(n),S.oxw(2).onValueChanged("SETTINGS_CURRENCY")}),S.qZA(),S.qZA(),S.TgZ(3,"td",57),S.TgZ(4,"input",65),S.NdJ("ngModelChange",function(t){return S.CHM(n).$implicit.options.value.value=t})("ngModelChange",function(){return S.CHM(n),S.oxw(2).onValueChanged("SETTINGS_CURRENCY")}),S.qZA(),S.qZA(),S.TgZ(5,"td",57),S.TgZ(6,"button",59),S.NdJ("click",function(){var t=S.CHM(n).index;return S.oxw(2).deleteSetting("SETTINGS_CURRENCY",t)}),S.ALo(7,"translate"),S._UZ(8,"i",60),S.qZA(),S.qZA(),S.qZA()}if(2&t){var i=e.$implicit;S.xp6(2),S.Q6J("ngModel",i.name),S.xp6(2),S.Q6J("ngModel",i.options.value.value),S.xp6(2),S.s9C("ngbTooltip",S.lcZ(7,3,"REMOVE"))}}function $(t,e){if(1&t){var n=S.EpF();S.TgZ(0,"div",35),S.TgZ(1,"button",61),S.NdJ("click",function(){return S.CHM(n),S.oxw(2).saveSettings("SETTINGS_CURRENCY")}),S._UZ(2,"i",43),S._uU(3," \xa0 "),S.TgZ(4,"span"),S._uU(5),S.ALo(6,"translate"),S.qZA(),S.qZA(),S._uU(7," \xa0 "),S.TgZ(8,"button",59),S.NdJ("click",function(){return S.CHM(n),S.oxw(2).resetSettingsForm("SETTINGS_CURRENCY")}),S.ALo(9,"translate"),S._UZ(10,"i",62),S.qZA(),S.qZA()}2&t&&(S.xp6(5),S.Oqu(S.lcZ(6,2,"SAVE")),S.xp6(3),S.s9C("ngbTooltip",S.lcZ(9,4,"FORM_RESET")))}function K(t,e){if(1&t){var n=S.EpF();S.TgZ(0,"div"),S.TgZ(1,"div",46),S._uU(2),S.ALo(3,"translate"),S.qZA(),S.TgZ(4,"div",47),S.TgZ(5,"table",20),S.TgZ(6,"colgroup"),S._UZ(7,"col",64),S._UZ(8,"col",64),S._UZ(9,"col",49),S.qZA(),S.TgZ(10,"thead"),S.TgZ(11,"tr"),S.TgZ(12,"th"),S._uU(13),S.ALo(14,"translate"),S.qZA(),S.TgZ(15,"th"),S._uU(16),S.ALo(17,"translate"),S.qZA(),S._UZ(18,"th"),S.qZA(),S.qZA(),S.TgZ(19,"tbody"),S.YNc(20,j,9,5,"tr",22),S.qZA(),S.TgZ(21,"tfoot"),S.TgZ(22,"tr",50),S.TgZ(23,"td",51),S.TgZ(24,"div",52),S.YNc(25,$,11,6,"div",53),S.qZA(),S.TgZ(26,"button",54),S.NdJ("click",function(){return S.CHM(n),S.oxw().addSetting("SETTINGS_CURRENCY")}),S._UZ(27,"i",55),S._uU(28," \xa0 "),S.TgZ(29,"span"),S._uU(30),S.ALo(31,"translate"),S.qZA(),S.qZA(),S.qZA(),S.qZA(),S.qZA(),S.qZA(),S.qZA(),S.qZA()}if(2&t){var i=S.oxw();S.ekj("loading",i.settings.SETTINGS_CURRENCY.loading),S.xp6(2),S.hij(" ",S.lcZ(3,8,"SETTINGS_CURRENCY_RATE_DESCRIPTION")," "),S.xp6(11),S.hij(" ",S.lcZ(14,10,"CURRENCY")," "),S.xp6(3),S.hij(" ",S.lcZ(17,12,"VALUE")," "),S.xp6(4),S.Q6J("ngForOf",i.settings.SETTINGS_CURRENCY.values),S.xp6(5),S.Q6J("ngIf",i.settings.SETTINGS_CURRENCY.changed),S.xp6(5),S.Oqu(S.lcZ(31,14,"ADD"))}}function W(t,e){if(1&t){var n=S.EpF();S.TgZ(0,"tr"),S.TgZ(1,"td"),S.TgZ(2,"input",56),S.NdJ("ngModelChange",function(t){return S.CHM(n).$implicit.name=t})("ngModelChange",function(){return S.CHM(n),S.oxw(2).onValueChanged("SETTINGS_PROMOCODES")}),S.qZA(),S.qZA(),S.TgZ(3,"td",57),S.TgZ(4,"input",56),S.NdJ("ngModelChange",function(t){return S.CHM(n).$implicit.options.value.value=t})("ngModelChange",function(){return S.CHM(n),S.oxw(2).onValueChanged("SETTINGS_PROMOCODES")}),S.qZA(),S.qZA(),S.TgZ(5,"td",57),S.TgZ(6,"input",68),S.NdJ("ngModelChange",function(t){return S.CHM(n).$implicit.options.quantity.value=t})("ngModelChange",function(){return S.CHM(n),S.oxw(2).onValueChanged("SETTINGS_PROMOCODES")}),S.qZA(),S.qZA(),S.TgZ(7,"td",57),S.TgZ(8,"button",59),S.NdJ("click",function(){var t=S.CHM(n).index;return S.oxw(2).deleteSetting("SETTINGS_PROMOCODES",t)}),S.ALo(9,"translate"),S._UZ(10,"i",60),S.qZA(),S.qZA(),S.qZA()}if(2&t){var i=e.$implicit;S.xp6(2),S.Q6J("ngModel",i.name),S.xp6(2),S.Q6J("ngModel",i.options.value.value),S.xp6(2),S.Q6J("ngModel",i.options.quantity.value),S.xp6(2),S.s9C("ngbTooltip",S.lcZ(9,4,"REMOVE"))}}function z(t,e){if(1&t){var n=S.EpF();S.TgZ(0,"div",35),S.TgZ(1,"button",61),S.NdJ("click",function(){return S.CHM(n),S.oxw(2).saveSettings("SETTINGS_PROMOCODES")}),S._UZ(2,"i",43),S._uU(3," \xa0 "),S.TgZ(4,"span"),S._uU(5),S.ALo(6,"translate"),S.qZA(),S.qZA(),S._uU(7," \xa0 "),S.TgZ(8,"button",59),S.NdJ("click",function(){return S.CHM(n),S.oxw(2).resetSettingsForm("SETTINGS_PROMOCODES")}),S.ALo(9,"translate"),S._UZ(10,"i",62),S.qZA(),S.qZA()}2&t&&(S.xp6(5),S.Oqu(S.lcZ(6,2,"SAVE")),S.xp6(3),S.s9C("ngbTooltip",S.lcZ(9,4,"FORM_RESET")))}function X(t,e){if(1&t){var n=S.EpF();S.TgZ(0,"div"),S.TgZ(1,"div",46),S._uU(2),S.ALo(3,"translate"),S.qZA(),S.TgZ(4,"div",47),S.TgZ(5,"table",20),S.TgZ(6,"colgroup"),S._UZ(7,"col",66),S._UZ(8,"col",66),S._UZ(9,"col",66),S._UZ(10,"col",49),S.qZA(),S.TgZ(11,"thead"),S.TgZ(12,"tr"),S.TgZ(13,"th"),S._uU(14),S.ALo(15,"translate"),S.qZA(),S.TgZ(16,"th"),S._uU(17),S.ALo(18,"translate"),S.qZA(),S.TgZ(19,"th"),S._uU(20),S.ALo(21,"translate"),S.qZA(),S._UZ(22,"th"),S.qZA(),S.qZA(),S.TgZ(23,"tbody"),S.YNc(24,W,11,6,"tr",22),S.qZA(),S.TgZ(25,"tfoot"),S.TgZ(26,"tr",50),S.TgZ(27,"td",67),S.TgZ(28,"div",52),S.YNc(29,z,11,6,"div",53),S.qZA(),S.TgZ(30,"button",54),S.NdJ("click",function(){return S.CHM(n),S.oxw().addSetting("SETTINGS_PROMOCODES")}),S._UZ(31,"i",55),S._uU(32," \xa0 "),S.TgZ(33,"span"),S._uU(34),S.ALo(35,"translate"),S.qZA(),S.qZA(),S.qZA(),S.qZA(),S.qZA(),S.qZA(),S.qZA(),S.qZA()}if(2&t){var i=S.oxw();S.ekj("loading",i.settings.SETTINGS_PROMOCODES.loading),S.xp6(2),S.hij(" ",S.lcZ(3,9,"SETTINGS_PROMOCODES_DESCRIPTION")," "),S.xp6(12),S.hij(" ",S.lcZ(15,11,"PROMO_CODE")," "),S.xp6(3),S.hij(" ",S.lcZ(18,13,"VALUE")," "),S.xp6(3),S.hij(" ",S.lcZ(21,15,"QUANTITY")," "),S.xp6(4),S.Q6J("ngForOf",i.settings.SETTINGS_PROMOCODES.values),S.xp6(5),S.Q6J("ngIf",i.settings.SETTINGS_PROMOCODES.changed),S.xp6(5),S.Oqu(S.lcZ(35,17,"ADD"))}}function B(t,e){if(1&t){var n=S.EpF();S.TgZ(0,"tr"),S.TgZ(1,"td"),S.TgZ(2,"input",56),S.NdJ("ngModelChange",function(t){return S.CHM(n).$implicit.name=t})("ngModelChange",function(){return S.CHM(n),S.oxw(2).onValueChanged("SETTINGS_LANGUAGES")}),S.qZA(),S.qZA(),S.TgZ(3,"td",57),S.TgZ(4,"input",56),S.NdJ("ngModelChange",function(t){return S.CHM(n).$implicit.options.value.value=t})("ngModelChange",function(){return S.CHM(n),S.oxw(2).onValueChanged("SETTINGS_LANGUAGES")}),S.qZA(),S.qZA(),S.TgZ(5,"td",57),S.TgZ(6,"button",59),S.NdJ("click",function(){var t=S.CHM(n).index;return S.oxw(2).deleteSetting("SETTINGS_LANGUAGES",t)}),S.ALo(7,"translate"),S._UZ(8,"i",60),S.qZA(),S.qZA(),S.qZA()}if(2&t){var i=e.$implicit;S.xp6(2),S.Q6J("ngModel",i.name),S.xp6(2),S.Q6J("ngModel",i.options.value.value),S.xp6(2),S.s9C("ngbTooltip",S.lcZ(7,3,"DELETE"))}}function tt(t,e){if(1&t){var n=S.EpF();S.TgZ(0,"div",35),S.TgZ(1,"button",61),S.NdJ("click",function(){return S.CHM(n),S.oxw(2).saveSettings("SETTINGS_LANGUAGES")}),S._UZ(2,"i",43),S._uU(3," \xa0 "),S.TgZ(4,"span"),S._uU(5),S.ALo(6,"translate"),S.qZA(),S.qZA(),S._uU(7," \xa0 "),S.TgZ(8,"button",59),S.NdJ("click",function(){return S.CHM(n),S.oxw(2).resetSettingsForm("SETTINGS_LANGUAGES")}),S.ALo(9,"translate"),S._UZ(10,"i",62),S.qZA(),S.qZA()}2&t&&(S.xp6(5),S.Oqu(S.lcZ(6,2,"SAVE")),S.xp6(3),S.s9C("ngbTooltip",S.lcZ(9,4,"FORM_RESET")))}function et(t,e){if(1&t){var n=S.EpF();S.TgZ(0,"div"),S.TgZ(1,"div",46),S._uU(2),S.ALo(3,"translate"),S.qZA(),S.TgZ(4,"div",47),S.TgZ(5,"table",20),S.TgZ(6,"colgroup"),S._UZ(7,"col",64),S._UZ(8,"col",64),S._UZ(9,"col",49),S.qZA(),S.TgZ(10,"thead"),S.TgZ(11,"tr"),S.TgZ(12,"th"),S._uU(13),S.ALo(14,"translate"),S.qZA(),S.TgZ(15,"th"),S._uU(16),S.ALo(17,"translate"),S.qZA(),S._UZ(18,"th"),S.qZA(),S.qZA(),S.TgZ(19,"tbody"),S.YNc(20,B,9,5,"tr",22),S.qZA(),S.TgZ(21,"tfoot"),S.TgZ(22,"tr",50),S.TgZ(23,"td",51),S.TgZ(24,"div",52),S.YNc(25,tt,11,6,"div",53),S.qZA(),S.TgZ(26,"button",54),S.NdJ("click",function(){return S.CHM(n),S.oxw().addSetting("SETTINGS_LANGUAGES")}),S._UZ(27,"i",55),S._uU(28," \xa0 "),S.TgZ(29,"span"),S._uU(30),S.ALo(31,"translate"),S.qZA(),S.qZA(),S.qZA(),S.qZA(),S.qZA(),S.qZA(),S.qZA(),S.qZA()}if(2&t){var i=S.oxw();S.ekj("loading",i.settings.SETTINGS_LANGUAGES.loading),S.xp6(2),S.hij(" ",S.lcZ(3,8,"SETTINGS_LANGUAGES_DESCRIPTION")," "),S.xp6(11),S.hij(" ",S.lcZ(14,10,"LANGUAGE")," "),S.xp6(3),S.hij(" ",S.lcZ(17,12,"LOCALE")," "),S.xp6(4),S.Q6J("ngForOf",i.settings.SETTINGS_LANGUAGES.values),S.xp6(5),S.Q6J("ngIf",i.settings.SETTINGS_LANGUAGES.changed),S.xp6(5),S.Oqu(S.lcZ(31,14,"ADD"))}}function nt(t,e){1&t&&(S.TgZ(0,"div",87),S._uU(1),S.ALo(2,"translate"),S.qZA()),2&t&&(S.xp6(1),S.hij(" ",S.lcZ(2,1,"NOTHING_FOUND"),". "))}function it(t,e){if(1&t&&(S.TgZ(0,"tr"),S.TgZ(1,"td"),S._uU(2),S.qZA(),S.TgZ(3,"td",57),S._uU(4),S.qZA(),S.qZA()),2&t){var n=e.$implicit;S.xp6(2),S.Oqu(n.name),S.xp6(2),S.Oqu(n.version)}}var ot=function(t){return{name:t}};function at(t,e){if(1&t&&(S.TgZ(0,"div",88),S.TgZ(1,"div",47),S.TgZ(2,"table",20),S.TgZ(3,"colgroup"),S._UZ(4,"col",89),S._UZ(5,"col",48),S.qZA(),S.TgZ(6,"thead"),S.TgZ(7,"tr"),S.TgZ(8,"th"),S._uU(9),S.ALo(10,"translate"),S.qZA(),S.TgZ(11,"th"),S._uU(12),S.ALo(13,"translate"),S.qZA(),S.qZA(),S.qZA(),S.TgZ(14,"tbody"),S.YNc(15,it,5,2,"tr",22),S.ALo(16,"filter"),S.qZA(),S.qZA(),S.qZA(),S.qZA()),2&t){var n=S.oxw(2);S.xp6(9),S.hij(" ",S.lcZ(10,3,"NAME")," "),S.xp6(3),S.hij(" ",S.lcZ(13,5,"VERSION")," "),S.xp6(3),S.Q6J("ngForOf",S.xi3(16,7,n.composerPackages,S.VKq(10,ot,n.composerPackageNameFilter)))}}var rt=function(t){return{loading:t}},st=function(t){return{"form-control-search-clear":t}};function lt(t,e){if(1&t){var n=S.EpF();S.TgZ(0,"div",69),S.TgZ(1,"div",70),S.TgZ(2,"button",71),S.NdJ("click",function(t){return S.CHM(n),S.oxw().modalSystemUpdate(t)}),S._UZ(3,"i",72),S._uU(4),S.ALo(5,"translate"),S.qZA(),S.qZA(),S.TgZ(6,"div",73),S._uU(7),S.ALo(8,"translate"),S.qZA(),S.TgZ(9,"div",74),S.TgZ(10,"input",75),S.NdJ("ngModelChange",function(t){return S.CHM(n),S.oxw().composerPackageNameFilter=t}),S.ALo(11,"translate"),S.qZA(),S.TgZ(12,"span",76),S.NdJ("click",function(){return S.CHM(n),S.oxw().composerPackageNameFilter=""}),S.qZA(),S.qZA(),S.YNc(13,nt,3,3,"div",77),S.ALo(14,"filter"),S.YNc(15,at,17,12,"ng-template",null,78,S.W1O),S.TgZ(17,"div",79),S.TgZ(18,"div",80),S.TgZ(19,"div",81),S.TgZ(20,"input",82),S.NdJ("ngModelChange",function(t){return S.CHM(n),S.oxw().composerPackageName=t}),S.qZA(),S.qZA(),S.TgZ(21,"div",83),S.TgZ(22,"input",84),S.NdJ("ngModelChange",function(t){return S.CHM(n),S.oxw().composerPackageVersion=t}),S.qZA(),S.qZA(),S.TgZ(23,"div",85),S.TgZ(24,"button",86),S.NdJ("click",function(t){return S.CHM(n),S.oxw().requirePackage(t)}),S._uU(25),S.ALo(26,"translate"),S.qZA(),S.qZA(),S.qZA(),S.qZA(),S.qZA()}if(2&t){var i=S.MAs(16),o=S.oxw();S.Q6J("ngClass",S.VKq(22,rt,o.settings.SETTINGS_COMPOSER_PACKAGES.loading)),S.xp6(4),S.hij(" ",S.lcZ(5,11,"SYSTEM_UPDATE")," "),S.xp6(3),S.hij(" ",S.lcZ(8,13,"SETTINGS_COMPOSER_PACKAGES_DESCRIPTION")," "),S.xp6(2),S.Q6J("ngClass",S.VKq(24,st,!!o.composerPackageNameFilter)),S.xp6(1),S.MGl("placeholder","",S.lcZ(11,15,"SEARCH"),"..."),S.Q6J("ngModel",o.composerPackageNameFilter),S.xp6(3),S.Q6J("ngIf",0===S.xi3(14,17,o.composerPackages,S.VKq(26,ot,o.composerPackageNameFilter)).length)("ngIfElse",i),S.xp6(7),S.Q6J("ngModel",o.composerPackageName),S.xp6(2),S.Q6J("ngModel",o.composerPackageVersion),S.xp6(3),S.hij(" ",S.lcZ(26,20,"INSTALL")," ")}}var gt=[{path:"",component:function(){var t=function(){function t(e,i,o,a,r){n(this,t),this.messageService=e,this.settingsService=i,this.appSettings=o,this.modalService=a,this.translateService=r,this.loading=!1,this.forms={},this.composerPackages=[],this.composerPackageName="",this.composerPackageVersion="",this.composerPackageNameFilter="",this.settings={SETTINGS_MAIN:new d.e(!1,!0,[],null),SETTINGS_ORDER_STATUSES:new d.e(!1,!0,[],{template:{value:"userEmailStatus",type:"text"},color:{value:"#00aeff",type:"text"}}),SETTINGS_DELIVERY:new d.e(!1,!0,[],{price:{value:0,type:"number"},priceLimit:{value:0,type:"number"}}),SETTINGS_PROMOCODES:new d.e(!1,!0,[],{value:{value:"",type:"text"},quantity:{value:0,type:"number"}}),SETTINGS_PAYMENT:new d.e(!1,!0,[],{value:{value:"",type:"text"}}),SETTINGS_CURRENCY:new d.e(!1,!0,[],{value:{value:1,type:"number"}}),SETTINGS_LANGUAGES:new d.e(!1,!0,[],{value:{value:"",type:"text"}}),SETTINGS_COMPOSER_PACKAGES:new d.e(!1,!0,[],null)},this.destroyed$=new l.xQ,this.baseUrl=this.appSettings.settings.webApiUrl+"/"}return e(t,[{key:"ngOnInit",value:function(){this.getSettings(),this.getComposerPackages()}},{key:"getSettings",value:function(){var t=this;this.settingsService.getList().pipe((0,g.R)(this.destroyed$)).subscribe(function(e){e.SETTINGS_MAIN&&(t.settings.SETTINGS_MAIN.values=e.SETTINGS_MAIN,t.settings.SETTINGS_MAIN.defaultValues=(0,c.cloneDeep)(e.SETTINGS_MAIN),t.settings.SETTINGS_MAIN.loading=!1),e.SETTINGS_ORDER_STATUSES&&(t.settings.SETTINGS_ORDER_STATUSES.values=e.SETTINGS_ORDER_STATUSES,t.settings.SETTINGS_ORDER_STATUSES.defaultValues=(0,c.cloneDeep)(e.SETTINGS_ORDER_STATUSES),t.settings.SETTINGS_ORDER_STATUSES.loading=!1),e.SETTINGS_DELIVERY&&(t.settings.SETTINGS_DELIVERY.values=e.SETTINGS_DELIVERY,t.settings.SETTINGS_DELIVERY.defaultValues=(0,c.cloneDeep)(e.SETTINGS_DELIVERY),t.settings.SETTINGS_DELIVERY.loading=!1),e.SETTINGS_PAYMENT&&(t.settings.SETTINGS_PAYMENT.values=e.SETTINGS_PAYMENT,t.settings.SETTINGS_PAYMENT.defaultValues=(0,c.cloneDeep)(e.SETTINGS_PAYMENT),t.settings.SETTINGS_PAYMENT.loading=!1),e.SETTINGS_CURRENCY&&(t.settings.SETTINGS_CURRENCY.values=e.SETTINGS_CURRENCY,t.settings.SETTINGS_CURRENCY.defaultValues=(0,c.cloneDeep)(e.SETTINGS_CURRENCY),t.settings.SETTINGS_CURRENCY.loading=!1),e.SETTINGS_PROMOCODES&&(t.settings.SETTINGS_PROMOCODES.values=e.SETTINGS_PROMOCODES,t.settings.SETTINGS_PROMOCODES.defaultValues=(0,c.cloneDeep)(e.SETTINGS_PROMOCODES),t.settings.SETTINGS_PROMOCODES.loading=!1),e.SETTINGS_LANGUAGES&&(t.settings.SETTINGS_LANGUAGES.values=e.SETTINGS_LANGUAGES,t.settings.SETTINGS_LANGUAGES.defaultValues=(0,c.cloneDeep)(e.SETTINGS_LANGUAGES),t.settings.SETTINGS_LANGUAGES.loading=!1)})}},{key:"addSetting",value:function(t){var e={name:"",description:"",options:(0,c.cloneDeep)(this.settings[t].defaultOptions)};this.settings[t].values.push(e)}},{key:"deleteSetting",value:function(t,e){this.settings[t].values.splice(e,1),this.settings[t].changed=!0}},{key:"saveSettings",value:function(t,e){var n=this;e&&e.preventDefault();var i=this.settings[t].values;this.settings[t].loading=!0,this.settingsService.updateGroup(t,i).pipe((0,g.R)(this.destroyed$)).subscribe({next:function(e){n.messageService.add({key:"message",severity:"success",summary:n.getLangString("MESSAGE"),detail:n.getLangString("DATA_SAVED_SUCCESSFULLY")}),n.settings[t].defaultValues=e,n.settings[t].loading=!1,n.settings[t].changed=!1,n.pageReload()},error:function(e){e.error&&n.messageService.add({key:"message",severity:"error",summary:n.getLangString("ERROR"),detail:e.error}),n.settings[t].loading=!1}})}},{key:"getFieldTypeByName",value:function(t){return t.toLowerCase().indexOf("password")>-1?"password":"text"}},{key:"getCurrentLocale",value:function(){var t=(0,c.findIndex)(this.settings.SETTINGS_MAIN.values,{name:"locale"});return t>-1?String(this.settings.SETTINGS_MAIN.values[t].value):""}},{key:"getLangString",value:function(t){return this.translateService.store.translations[this.translateService.currentLang]&&this.translateService.store.translations[this.translateService.currentLang][t]||t}},{key:"resetSettingsForm",value:function(t){var e=this.settings[t].defaultValues.length;e<this.settings[t].values.length&&this.settings[t].values.splice(e-1,this.settings[t].values.length-e),(0,c.extend)(this.settings[t].values,(0,c.cloneDeepWith)(this.settings[t].defaultValues)),this.settings[t].loading=!1,this.settings[t].changed=!1}},{key:"getActionSuccessMessage",value:function(t){var e="";switch(t){case"clear_cache":e=this.getLangString("CACHE_CLEAR_SUCCESSFULLY");break;case"clear_system_cache":e=this.getLangString("CACHE_SYSTEM_CLEAR_SUCCESSFULLY");break;case"update_filters":e=this.getLangString("UPDATE_FILTERS_SUCCESSFULLY")}return e}},{key:"runActionPost",value:function(t){var e=this;this.loading=!0,this.settingsService.runActionPost(t).pipe((0,g.R)(this.destroyed$)).subscribe({next:function(n){if(e.loading=!1,["update_internationalization"].indexOf(t)>-1)e.pageReload();else if(n&&n.success){var i=e.getActionSuccessMessage(t);i&&e.messageService.add({key:"message",severity:"success",summary:e.getLangString("MESSAGE"),detail:i})}},error:function(t){t.error&&e.messageService.add({key:"message",severity:"error",summary:e.getLangString("ERROR"),detail:t.error}),e.loading=!1}})}},{key:"getComposerPackages",value:function(){var t=this;this.settings.SETTINGS_COMPOSER_PACKAGES.loading=!0,this.settingsService.getComposerPackagesList().pipe((0,g.R)(this.destroyed$)).subscribe({next:function(e){t.composerPackages=e,t.settings.SETTINGS_COMPOSER_PACKAGES.loading=!1},error:function(e){t.settings.SETTINGS_COMPOSER_PACKAGES.loading=!1}})}},{key:"requirePackage",value:function(t){var e=this;t&&t.preventDefault(),this.composerPackageName&&(this.settings.SETTINGS_COMPOSER_PACKAGES.loading=!0,this.settingsService.composerRequirePackage(this.composerPackageName,this.composerPackageVersion).pipe((0,g.R)(this.destroyed$)).subscribe({next:function(t){e.composerPackageName="",e.composerPackageVersion="",e.settings.SETTINGS_COMPOSER_PACKAGES.loading=!1},error:function(t){t.error&&e.messageService.add({key:"message",severity:"error",summary:e.getLangString("ERROR"),detail:t.error}),e.settings.SETTINGS_COMPOSER_PACKAGES.loading=!1}}))}},{key:"modalSystemUpdate",value:function(t){var e=this;t&&t.preventDefault(),this.modalRef&&(this.modalRef.dismiss(),this.modalRef=null),this.modalRef=this.modalService.open(R,{backdrop:"static",keyboard:!1}),this.modalRef.result.then(function(t){"completed"===t&&(e.messageService.add({key:"message",severity:"success",summary:e.getLangString("MESSAGE"),detail:e.getLangString("SYSTEM_UPDATE_COMPLETED")}),setTimeout(e.pageReload.bind(e),2e3))})}},{key:"onValueChanged",value:function(t){this.settings[t].changed=!0}},{key:"inputDisableToggle",value:function(t,e,n){n&&n.preventDefault(),t.readOnly=!t.readOnly,e&&(e.style.display="none"!==e.style.display?"none":"")}},{key:"pageReload",value:function(){window.location.reload()}}]),t}();return t.title="SETTINGS",t.\u0275fac=function(e){return new(e||t)(S.Y36(u.ez),S.Y36(T.g),S.Y36(Z.d),S.Y36(A.FF),S.Y36(E.sK))},t.\u0275cmp=S.Xpm({type:t,selectors:[["app-settings"]],features:[S._Bn([u.ez])],decls:80,vars:54,consts:[[1,"card"],[1,"card-body"],[1,"float-md-start"],[1,"icon-cog"],[1,"float-md-end"],["ngbDropdown","","placement","bottom-right",1,"d-block","d-md-inline-block"],["ngbDropdownToggle","",1,"btn","btn-info","btn-sm","d-block","d-md-inline-block","width-100","width-md-auto","mb-2","mb-md-0"],[1,"icon-repeat"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"click"],[1,"icon-reload","text-info"],[1,"icon-repeat","text-info"],[1,"icon-globe","text-info"],[1,"icon-tag","text-info"],[1,"clearfix"],[1,"row"],[1,"col-lg-6"],[1,"label-filled"],[1,"card","mb-4"],[1,"table-responsive-"],[1,"table","table-divided","mb-0"],["width","50%"],[4,"ngFor","ngForOf"],["activeIds","accordion-settings-1",1,"ngb-accordion",3,"closeOthers"],["id","accordion-settings-1",3,"title"],["ngbPanelContent",""],["id","accordion-settings-2",3,"title"],["id","accordion-settings-3",3,"title"],["id","accordion-settings-4",3,"title"],["id","accordion-settings-7",3,"title"],["id","accordion-settings-5",3,"title"],["id","accordion-settings-6",3,"title"],["key","message","position","bottom-right"],[1,"show-on-hover-parent"],[1,"show-on-hover-child","position-relative"],[1,"pos-absolute-right"],[1,"badge","bg-secondary"],[1,"border-bottom-0"],[1,"input-group","input-group-sm","input-group-on-hover"],["readonly","",1,"form-control",3,"type","ngModel","ngModelChange"],["inputField",""],["type","button",1,"btn","btn-sm","btn-outline-success",2,"display","none",3,"ngbTooltip","click"],["button",""],[1,"icon-check"],["type","button",1,"btn","btn-sm","btn-outline-secondary",3,"ngbTooltip","click"],[1,"icon-edit"],[1,"text-muted"],[1,"table-responsive"],["width","40%"],["width","10%"],[1,"bg-faded"],["colspan","4",1,"text-center","border-bottom-0"],[1,"relative"],["class","pos-absolute-right",4,"ngIf"],["type","button",1,"btn","btn-secondary","btn-sm",3,"click"],[1,"icon-plus"],["type","text",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[1,"text-center"],[3,"appendTo","ngModel","ngModelChange"],["type","button",1,"btn","btn-secondary","btn-sm",3,"ngbTooltip","click"],[1,"icon-cross"],["type","button",1,"btn","btn-info","btn-sm",3,"click"],[1,"icon-reload"],["type","number","step","1","min","0",1,"form-control","form-control-sm","mwidth-80","m-auto",3,"ngModel","ngModelChange"],["width","45%"],["type","number","step","1","min","0",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["width","30%"],["colspan","5",1,"text-center","border-bottom-0"],["type","number",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[3,"ngClass"],[1,"float-end"],["type","button",1,"btn","btn-sm","btn-success",3,"click"],[1,"icon-arrow-up-circle"],[1,"pb-3","text-muted","mb-2"],[1,"form-control-search","mb-3",3,"ngClass"],["type","text",1,"form-control","form-control-sm",3,"placeholder","ngModel","ngModelChange"],[3,"click"],["class","alert alert-info py-1 px-3",4,"ngIf","ngIfElse"],["composerPackagesTable",""],[1,"card","card-body","p-2","mt-3",2,"display","none"],[1,"row","no-gutters"],[1,"col-5","pe-1"],["type","text","placeholder","package / class name",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[1,"col-4","ps-1","pe-1"],["type","text","placeholder","version / class path",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[1,"col-3","ps-1"],["type","button",1,"btn","btn-success","btn-sm","d-block","w-100",3,"click"],[1,"alert","alert-info","py-1","px-3"],[1,"max-height400"],["width","60%"]],template:function(t,e){1&t&&(S.TgZ(0,"div",0),S.TgZ(1,"div",1),S.TgZ(2,"div",2),S.TgZ(3,"h3"),S._UZ(4,"i",3),S._uU(5),S.ALo(6,"translate"),S.qZA(),S.qZA(),S.TgZ(7,"div",4),S.TgZ(8,"div",5),S.TgZ(9,"button",6),S._UZ(10,"i",7),S._uU(11," \xa0 "),S.TgZ(12,"span"),S._uU(13),S.ALo(14,"translate"),S.qZA(),S.qZA(),S.TgZ(15,"div",8),S.TgZ(16,"button",9),S.NdJ("click",function(){return e.runActionPost("clear_cache")}),S._UZ(17,"i",10),S._uU(18),S.ALo(19,"translate"),S.qZA(),S.TgZ(20,"button",9),S.NdJ("click",function(){return e.runActionPost("clear_system_cache")}),S._UZ(21,"i",11),S._uU(22),S.ALo(23,"translate"),S.qZA(),S.TgZ(24,"button",9),S.NdJ("click",function(){return e.runActionPost("update_internationalization")}),S._UZ(25,"i",12),S._uU(26),S.ALo(27,"translate"),S.qZA(),S.TgZ(28,"button",9),S.NdJ("click",function(){return e.runActionPost("update_filters")}),S._UZ(29,"i",13),S._uU(30),S.ALo(31,"translate"),S.qZA(),S.qZA(),S.qZA(),S.qZA(),S._UZ(32,"div",14),S._UZ(33,"hr"),S.TgZ(34,"div",15),S.TgZ(35,"div",16),S.TgZ(36,"div"),S.TgZ(37,"label",17),S._uU(38),S.ALo(39,"translate"),S.qZA(),S.TgZ(40,"div",18),S.TgZ(41,"div",19),S.TgZ(42,"table",20),S.TgZ(43,"colgroup"),S._UZ(44,"col",21),S._UZ(45,"col",21),S.qZA(),S.TgZ(46,"thead"),S.TgZ(47,"tr"),S.TgZ(48,"th"),S._uU(49),S.ALo(50,"translate"),S.qZA(),S.TgZ(51,"th"),S._uU(52),S.ALo(53,"translate"),S.qZA(),S.qZA(),S.qZA(),S.TgZ(54,"tbody"),S.YNc(55,y,21,12,"tr",22),S.qZA(),S.qZA(),S.qZA(),S.qZA(),S.qZA(),S.qZA(),S.TgZ(56,"div",16),S.TgZ(57,"ngb-accordion",23),S.TgZ(58,"ngb-panel",24),S.ALo(59,"translate"),S.YNc(60,D,36,19,"ng-template",25),S.qZA(),S.TgZ(61,"ngb-panel",26),S.ALo(62,"translate"),S.YNc(63,V,31,19,"ng-template",25),S.qZA(),S.TgZ(64,"ngb-panel",27),S.ALo(65,"translate"),S.YNc(66,Q,32,16,"ng-template",25),S.qZA(),S.TgZ(67,"ngb-panel",28),S.ALo(68,"translate"),S.YNc(69,K,32,16,"ng-template",25),S.qZA(),S.TgZ(70,"ngb-panel",29),S.ALo(71,"translate"),S.YNc(72,X,36,19,"ng-template",25),S.qZA(),S.TgZ(73,"ngb-panel",30),S.ALo(74,"translate"),S.YNc(75,et,32,16,"ng-template",25),S.qZA(),S.TgZ(76,"ngb-panel",31),S.ALo(77,"translate"),S.YNc(78,lt,27,28,"ng-template",25),S.qZA(),S.qZA(),S.qZA(),S.qZA(),S.qZA(),S.qZA(),S._UZ(79,"p-toast",32)),2&t&&(S.xp6(1),S.ekj("loading",e.loading),S.xp6(4),S.hij(" ",S.lcZ(6,22,"SETTINGS")," "),S.xp6(8),S.Oqu(S.lcZ(14,24,"CLEAR_CACHE")),S.xp6(5),S.hij(" \xa0 ",S.lcZ(19,26,"CLEAR_FILE_CACHE")," "),S.xp6(4),S.hij(" \xa0 ",S.lcZ(23,28,"CLEAR_SYSTEM_CACHE")," "),S.xp6(4),S.hij(" \xa0 ",S.lcZ(27,30,"UPDATE_DICTIONARIES")," "),S.xp6(4),S.hij(" \xa0 ",S.lcZ(31,32,"UPDATE_FILTERS")," "),S.xp6(6),S.ekj("loading",e.settings.SETTINGS_MAIN.loading),S.xp6(2),S.Oqu(S.lcZ(39,34,"SETTINGS_MAIN")),S.xp6(11),S.Oqu(S.lcZ(50,36,"PARAMETER")),S.xp6(3),S.Oqu(S.lcZ(53,38,"VALUE")),S.xp6(3),S.Q6J("ngForOf",e.settings.SETTINGS_MAIN.values),S.xp6(2),S.Q6J("closeOthers",!0),S.xp6(1),S.Q6J("title",S.lcZ(59,40,"SETTINGS_ORDER_STATUSES")),S.xp6(3),S.Q6J("title",S.lcZ(62,42,"SETTINGS_DELIVERY")),S.xp6(3),S.Q6J("title",S.lcZ(65,44,"SETTINGS_PAYMENT")),S.xp6(3),S.Q6J("title",S.lcZ(68,46,"SETTINGS_CURRENCY")),S.xp6(3),S.Q6J("title",S.lcZ(71,48,"SETTINGS_PROMOCODES")),S.xp6(3),S.Q6J("title",S.lcZ(74,50,"SETTINGS_LANGUAGES")),S.xp6(3),S.Q6J("title",S.lcZ(77,52,"SETTINGS_COMPOSER_PACKAGES")))},directives:[A.jt,A.iD,A.Vi,a.sg,A.gY,A.Gk,A.gW,G.FN,L.Fj,L.JJ,L.On,A._L,a.O5,O.zH,L.qQ,L.wV,a.mk],pipes:[E.X$,k],encapsulation:2}),t}()}],ct=function(){var t=function t(){n(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=S.oAB({type:t}),t.\u0275inj=S.cJS({imports:[[s.Bz.forChild(gt)],s.Bz]}),t}(),ut=function(){var t=function t(){n(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=S.oAB({type:t}),t.\u0275inj=S.cJS({providers:[],imports:[[a.ez,r.m,ct]]}),t}()},18356:function(t,i,o){o.d(i,{g:function(){return u}});var a,r=o(31887),s=o(267),l=o(72072),g=(o(53999),o(63005)),c=o(42741),u=((a=function(){function t(e){n(this,t),this.http=e,this.headers=new r.WM({"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}),this.requestUrl="",this.baseUrl="",this.requestUrl="/admin/settings",this.baseUrl=g.d.getBaseUrl()}return e(t,[{key:"setRequestUrl",value:function(t){this.requestUrl=t}},{key:"getRequestUrl",value:function(){return this.requestUrl}},{key:"getList",value:function(){return this.http.get(this.getRequestUrl()).pipe((0,l.K)(this.handleError()))}},{key:"clearSystemCache",value:function(){var t=this.getRequestUrl()+"/clear_system_cache";return this.http.post(t,{},{headers:this.headers}).pipe((0,l.K)(this.handleError()))}},{key:"runActionPost",value:function(t){var e=this.getRequestUrl()+"/".concat(t);return this.http.post(e,{},{headers:this.headers}).pipe((0,l.K)(this.handleError()))}},{key:"updateGroup",value:function(t,e){var n=this.getRequestUrl()+"/".concat(t);return this.http.put(n,e,{headers:this.headers}).pipe((0,l.K)(this.handleError()))}},{key:"getComposerPackagesList",value:function(){return this.http.get(this.getRequestUrl()+"_composer_installed_packages").pipe((0,l.K)(this.handleError()))}},{key:"composerRequirePackage",value:function(t,e){var n=this.getRequestUrl()+"_composer_require_package";return this.http.post(n,{packageName:t,packageVersion:e},{headers:this.headers}).pipe((0,l.K)(this.handleError()))}},{key:"postFormData",value:function(t,e){var n=new r.WM({enctype:"multipart/form-data",Accept:"application/json","X-Requested-With":"XMLHttpRequest"});return this.http.post(this.baseUrl+e,t,{headers:n}).pipe((0,l.K)(this.handleError()))}},{key:"runAction",value:function(t){return this.http.post(this.baseUrl+t,{},{headers:this.headers}).pipe((0,l.K)(this.handleError()))}},{key:"handleError",value:function(){var t=this,e=arguments.length>1?arguments[1]:void 0;return function(n){if(!(n.status&&[401,403].indexOf(n.status)>-1)){if(n.error)throw n.error;return(0,s.of)(e)}window.location.href=t.baseUrl+"/login"}}}]),t}()).\u0275fac=function(t){return new(t||a)(c.LFG(r.eN))},a.\u0275prov=c.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a)}}])}();