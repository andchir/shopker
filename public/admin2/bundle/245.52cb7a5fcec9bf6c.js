"use strict";(self.webpackChunkadmin2=self.webpackChunkadmin2||[]).push([[245],{2245:(Ce,R,c)=>{c.r(R),c.d(R,{CatalogModule:()=>ce});var T=c(9808),X=c(1113),Z=c(7854),t=c(7587),g=c(2466);let W=(()=>{class o{navBarToggle(){window.document.querySelector(".layout-sidebar").classList.toggle("active"),window.document.querySelector(".layout-mask").classList.toggle("layout-mask-active")}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-catalog"]],features:[t._Bn([])],decls:24,vars:12,consts:[[1,"layout-topbar","justify-content-between"],["type","button",1,"menu-button",3,"click"],[1,"pi","pi-bars"],[1,"layout-topbar-header","text-3xl","text-600"],[1,"fi","fi-br-cube","vertical-align-middle","mr-3"],[1,"vertical-align-middle"],[1,"topbar-menu"],["routerLinkActive","active"],["routerLink","category"],["routerLink","content_types"],["routerLink","field_types"],[1,"layout-content"],[1,"content-section","min-height400","bg-white"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"button",1),t.NdJ("click",function(){return n.navBarToggle()}),t._UZ(2,"i",2),t.qZA(),t.TgZ(3,"span",3),t._UZ(4,"i",4),t.TgZ(5,"span",5),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.qZA(),t.TgZ(8,"ul",6),t.TgZ(9,"li",7),t.TgZ(10,"a",8),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.qZA(),t.TgZ(13,"li",7),t.TgZ(14,"a",9),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.qZA(),t.TgZ(17,"li",7),t.TgZ(18,"a",10),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"div",11),t.TgZ(22,"div",12),t._UZ(23,"router-outlet"),t.qZA(),t.qZA()),2&e&&(t.xp6(6),t.Oqu(t.lcZ(7,4,"CATALOG")),t.xp6(5),t.Oqu(t.lcZ(12,6,"CATALOG")),t.xp6(4),t.Oqu(t.lcZ(16,8,"CONTENT_TYPES")),t.xp6(4),t.Oqu(t.lcZ(20,10,"FIELD_TYPES")))},directives:[Z.Od,Z.yS,Z.lC],pipes:[g.X$],encapsulation:2}),o})();var L=c(2722),m=c(5330),_=c(9783),O=c(6421),S=c(608),A=c(520);let J=(()=>{class o extends S.D{constructor(e){super(e),this.setRequestUrl("/admin/products")}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(A.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})();var v=c(511),r=c(3075),M=c(846),h=c(845),C=c(5787),q=c(3724),w=c(6198);function K(o,l){if(1&o&&t._UZ(0,"p-message",10),2&o){const e=t.oxw();t.Q6J("text",e.errorMessage)}}function tt(o,l){1&o&&(t.TgZ(0,"div",11),t._UZ(1,"p-progressSpinner"),t.qZA())}let et=(()=>{class o extends M.P{constructor(e,n,i){super(e,n,i),this.ref=e,this.config=n,this.dataService=i,this.model={id:0,parentId:0},this.form=new r.cw({id:new r.NI("",[])})}ngOnInit(){super.ngOnInit()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(m.E7),t.Y36(m.S),t.Y36(J))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-modal-product"]],features:[t._Bn([]),t.qOj],decls:14,vars:12,consts:[[3,"formGroup"],["formEl",""],["role","separator",1,"p-divider","p-component","p-divider-horizontal","p-divider-solid","p-divider-left"],[1,"p-divider-content"],["styleClass","block w-full text-left mb-3","severity","error",3,"text",4,"ngIf"],[1,"text-right","pt-2"],["pButton","","pRipple","","type","button","icon","pi pi-check",1,"p-button-success","p-button-raised","w-full","md:w-auto","mb-2","md:mb-0","md:ml-2",3,"label","click"],["pButton","","pRipple","","type","button","icon","pi pi-check",1,"p-button-warning","p-button-raised","w-full","md:w-auto","mb-2","md:mb-0","md:ml-2",3,"label","click"],["pButton","","pRipple","","type","button",1,"p-button-secondary","p-button-raised","w-full","md:w-auto","mb-2","md:mb-0","md:ml-2",3,"label","click"],["class","loading-overlay",4,"ngIf"],["styleClass","block w-full text-left mb-3","severity","error",3,"text"],[1,"loading-overlay"]],template:function(e,n){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"form",0,1),t.TgZ(3,"div",2),t._UZ(4,"div",3),t.qZA(),t.YNc(5,K,1,1,"p-message",4),t.TgZ(6,"div",5),t.TgZ(7,"button",6),t.NdJ("click",function(p){return n.saveData(!0,p)}),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"button",7),t.NdJ("click",function(p){return n.saveData(!1,p)}),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"button",8),t.NdJ("click",function(p){return n.dismissModal(p)}),t.ALo(12,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(13,tt,2,0,"div",9)),2&e&&(t.xp6(1),t.Q6J("formGroup",n.form),t.xp6(4),t.Q6J("ngIf",n.errorMessage),t.xp6(2),t.Q6J("label",t.lcZ(8,6,"SAVE_AND_CLOSE")),t.xp6(2),t.Q6J("label",t.lcZ(10,8,"SAVE")),t.xp6(2),t.Q6J("label",t.lcZ(12,10,"CLOSE")),t.xp6(2),t.Q6J("ngIf",n.loading))},directives:[r._Y,r.JL,r.sg,T.O5,h.Hq,C.H,q.q,w.G],pipes:[g.X$],encapsulation:2}),o})();var y=c(889),U=c(262);let nt=(()=>{class o extends S.D{constructor(e){super(e),this.setRequestUrl("/admin/categories")}getTree(e=0,n=!0){let i=new A.LE;return i=i.append("expanded",n?"1":"0"),this.http.get(this.getRequestUrl()+`/tree/${e}`,{params:i}).pipe((0,U.K)(this.handleError()))}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(A.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var d=c(4851),k=c(9114),E=c(1874),I=c(330),x=c(1424),N=c(6572);function ot(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",10),t.TgZ(1,"div",11),t._UZ(2,"i",12),t.TgZ(3,"input",13),t.NdJ("input",function(){return t.CHM(e),t.oxw().onInputSearch()})("ngModelChange",function(i){return t.CHM(e),t.oxw().queryOptions.search_word=i}),t.ALo(4,"translate"),t.qZA(),t.qZA(),t.TgZ(5,"div",14),t.TgZ(6,"button",15),t.NdJ("click",function(i){return t.CHM(e),t.oxw(),t.MAs(8).toggle(i)}),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"button",16),t.NdJ("click",function(i){return t.CHM(e),t.oxw().openModal(null,i)}),t.ALo(9,"translate"),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(3),t.MGl("placeholder","",t.lcZ(4,4,"SEARCH"),"..."),t.Q6J("ngModel",e.queryOptions.search_word),t.xp6(3),t.Q6J("label",t.lcZ(7,6,"ACTIONS")),t.xp6(2),t.Q6J("label",t.lcZ(9,8,"ADD"))}}function it(o,l){if(1&o&&(t.TgZ(0,"th",18),t._uU(1),t.ALo(2,"translate"),t._UZ(3,"p-sortIcon",19),t.qZA()),2&o){const e=l.$implicit;t.Q6J("pSortableColumn",e.field),t.xp6(1),t.hij(" ",t.lcZ(2,3,e.header)," "),t.xp6(2),t.Q6J("field",e.field)}}function lt(o,l){if(1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"th"),t._UZ(2,"p-tableHeaderCheckbox"),t.qZA(),t.YNc(3,it,4,5,"th",17),t.qZA()),2&o){const e=l.$implicit;t.xp6(3),t.Q6J("ngForOf",e)}}function pt(o,l){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",25),t.TgZ(2,"button",26),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit;return t.oxw().openModal(i)}),t.qZA(),t.TgZ(3,"button",27),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit;return t.oxw().deleteItem(i)}),t.qZA(),t.qZA(),t.BQk()}}function rt(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"td"),t.TgZ(1,"app-render-output",23),t.NdJ("changeRequest",function(i){return t.CHM(e),t.oxw(2).onOptionUpdate(i)}),t.qZA(),t.YNc(2,pt,4,0,"ng-container",24),t.qZA()}if(2&o){const e=l.$implicit,n=l.index,i=t.oxw(),p=i.$implicit,s=i.columns;t.xp6(1),t.Q6J("value",p[e.field])("key",e.field)("outputType",e.outputType)("options",e.outputProperties)("object",p),t.xp6(1),t.Q6J("ngIf",s.length==n+1)}}function st(o,l){if(1&o&&(t.TgZ(0,"tr",20),t.TgZ(1,"td"),t._UZ(2,"p-tableCheckbox",21),t.qZA(),t.YNc(3,rt,3,6,"td",22),t.qZA()),2&o){const e=l.$implicit,n=l.columns;t.Q6J("pContextMenuRow",e),t.xp6(2),t.Q6J("value",e),t.xp6(1),t.Q6J("ngForOf",n)}}function at(o,l){1&o&&(t.ynx(0),t._uU(1),t.ALo(2,"translate"),t.BQk()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"NOTHING_FOUND"),". "))}function ct(o,l){1&o&&(t._uU(0),t.ALo(1,"translate")),2&o&&t.hij(" ",t.lcZ(1,1,"EMPTY"),". ")}function ut(o,l){if(1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"td",28),t.YNc(2,at,3,3,"ng-container",29),t.YNc(3,ct,2,3,"ng-template",null,30,t.W1O),t.qZA(),t.qZA()),2&o){const e=l.$implicit,n=t.MAs(4),i=t.oxw();t.xp6(1),t.Q6J("colSpan",e.length+1),t.xp6(1),t.Q6J("ngIf",i.queryOptions.search_word)("ngIfElse",n)}}let dt=(()=>{class o extends O.p{constructor(e,n,i,p,s,a,u,f,D){super(e,n,i,p,s,a),this.dialogService=e,this.contentTypesService=n,this.dataService=i,this.translateService=p,this.messageService=s,this.confirmationService=a,this.categoriesService=u,this.router=f,this.route=D,this.queryOptions=new v.J(1,12,"id","desc"),this.items=[],this.cols=[]}ngOnInit(){super.ngOnInit(),this.menuItems.push({label:this.getLangString("DISABLE_ENABLE"),icon:"pi pi-times-circle",command:()=>{this.blockSelected()}}),this.route.paramMap.pipe((0,L.R)(this.destroyed$)).subscribe(e=>{this.categoryId=e.get("categoryId")?parseInt(e.get("categoryId"),10):0,this.openCategory()})}getContentType(){return this.contentTypesService.getItemByName(this.currentCategory.contentTypeName)}openCategory(){this.dataService.setRequestUrl(`/admin/products/${this.categoryId}`),this.categoriesService.getItem(this.categoryId).subscribe({next:e=>{this.currentCategory=e,this.currentContentType=e.contentType,this.updateTableConfig(),this.getData()},error:()=>{this.loading=!1}})}getData(e){!this.currentContentType||super.getData()}getModalComponent(){return et}updateTableConfig(){!this.currentContentType||(this.cols=[],this.currentContentType.fields.forEach(e=>{this.cols.push({field:e.name,header:e.title,outputType:e.outputType,outputProperties:e.outputProperties})}),this.cols.unshift({field:"id",header:"ID",outputType:"text-center",outputProperties:{}}),this.cols.push({field:"isActive",header:"STATUS",outputType:"boolean",outputProperties:{}}))}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(m.xA),t.Y36(y.s),t.Y36(J),t.Y36(g.sK),t.Y36(_.ez),t.Y36(_.YP),t.Y36(nt),t.Y36(Z.F0),t.Y36(Z.gz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-catalog-category"]],features:[t._Bn([m.xA,_.YP,J]),t.qOj],decls:11,vars:19,consts:[["styleClass","p-datatable-striped","dataKey","id",3,"selection","contextMenuSelection","contextMenu","sortField","sortOrder","lazy","paginator","showJumpToPageDropdown","value","columns","rows","totalRecords","loading","selectionChange","contextMenuSelectionChange","onLazyLoad"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["icon","pi pi-exclamation-triangle",3,"header"],["styleClass","p-menu-nowrap",3,"popup","model"],["menu",""],[3,"model"],["contextMenu",""],[1,"flex","md:justify-content-between","flex-wrap"],[1,"p-input-icon-left","w-full","md:w-auto","mb-2","md:mb-0"],[1,"pi","pi-search"],["pInputText","","type","text",1,"lg:w-auto","w-full",3,"ngModel","placeholder","input","ngModelChange"],[1,"w-full","md:w-auto"],["type","button","pButton","","pRipple","","icon","pi pi-chevron-down","iconPos","left",1,"ml-0","md:ml-2","w-full","md:w-auto","mb-2","md:mb-0",3,"label","click"],["type","button","pButton","","pRipple","","icon","pi pi-plus","iconPos","left",1,"p-button-success","ml-0","md:ml-2","w-full","md:w-auto",3,"label","click"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[1,"show-on-hover-parent",3,"pContextMenuRow"],[3,"value"],[4,"ngFor","ngForOf"],[3,"value","key","outputType","options","object","changeRequest"],[4,"ngIf"],[1,"absolute","show-on-hover","pos-top10","pos-right10"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button","p-button-sm","p-button-rounded","p-button-info",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button","p-button-sm","p-button-rounded","p-button-danger","ml-2",3,"click"],[3,"colSpan"],[4,"ngIf","ngIfElse"],["emptyMessage",""]],template:function(e,n){if(1&e&&(t.TgZ(0,"p-table",0),t.NdJ("selectionChange",function(p){return n.itemsSelected=p})("contextMenuSelectionChange",function(p){return n.itemSelected=p})("onLazyLoad",function(p){return n.getData(p)}),t.YNc(1,ot,10,10,"ng-template",1),t.YNc(2,lt,4,1,"ng-template",2),t.YNc(3,st,4,3,"ng-template",3),t.YNc(4,ut,5,3,"ng-template",4),t.qZA(),t._UZ(5,"p-confirmDialog",5),t.ALo(6,"translate"),t._UZ(7,"p-menu",6,7),t._UZ(9,"p-contextMenu",8,9)),2&e){const i=t.MAs(10);t.Q6J("selection",n.itemsSelected)("contextMenuSelection",n.itemSelected)("contextMenu",i)("sortField",n.queryOptions.sort_by)("sortOrder","asc"==n.queryOptions.sort_dir?1:-1)("lazy",!0)("paginator",!0)("showJumpToPageDropdown",!0)("value",n.items)("columns",n.cols)("rows",n.queryOptions.limit)("totalRecords",n.itemsTotal)("loading",n.loading),t.xp6(5),t.Q6J("header",t.lcZ(6,17,"CONFIRM")),t.xp6(2),t.Q6J("popup",!0)("model",n.menuItems),t.xp6(2),t.Q6J("model",n.contextMenuItems)}},directives:[d.iA,_.jx,k.Q,E.v2,I.xV,r.Fj,x.o,r.JJ,r.On,h.Hq,C.H,d.Mo,T.sg,d.lQ,d.fz,d.zi,d.UA,N.g,T.O5],pipes:[g.X$],encapsulation:2}),o})();var B=c(7489);class j{constructor(l,e,n,i,p,s,a,u,f){this.id=l,this.name=e,this.title=n,this.description=i,this.collection=p,this.fields=s,this.groups=a,this.isActive=u,this.isCreateByUsersAllowed=f,this.isCreateByUsersAllowed||(this.isCreateByUsersAllowed=!1)}static getSystemFieldName(l){const e=(0,B.findIndex)(l.fields,{inputType:"system_name"});return e>-1?l.fields[e].name:"name"}static getFieldByName(l,e){const n=(0,B.findIndex)(l.fields,{name:e});return n>-1?l.fields[n]:null}}var mt=c(9646);let H=(()=>{class o{constructor(e){this.http=e,this.headers=new A.WM({"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}),this.requestUrl="/admin/collections"}setRequestUrl(e){this.requestUrl=e}getRequestUrl(){return this.requestUrl}getList(){return this.http.get(this.getRequestUrl()).pipe((0,U.K)(this.handleError()))}deleteItemByName(e){const n=`${this.getRequestUrl()}/${e}`;return this.http.delete(n,{headers:this.headers}).pipe((0,U.K)(this.handleError()))}handleError(e="operation",n){return i=>{if(i.error)throw i.error;return(0,mt.of)(n)}}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(A.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})();class F{constructor(l,e,n,i,p,s,a,u,f,D,ue,de,me,_e,ge,Te,fe,Ze,he){this.id=l,this.name=e,this.title=n,this.description=i,this.inputType=p,this.inputProperties=s,this.outputType=a,this.outputProperties=u,this.group=f,this.required=D,this.isFilter=ue,this.showInTable=de,this.showOnPage=me,this.showInList=_e,this.options=ge,this.inputTypeMain=Te,this.filterOrder=fe,this.listOrder=Ze,this.pageOrder=he,void 0===this.filterOrder&&(this.filterOrder=0),void 0===this.listOrder&&(this.listOrder=0),void 0===this.required&&(this.required=!1),void 0===this.isFilter&&(this.isFilter=!1),void 0===this.showInTable&&(this.showInTable=!0),void 0===this.showOnPage&&(this.showOnPage=!0),void 0===this.showInList&&(this.showInList=!1),void 0===this.options&&(this.options=[])}static getFieldBaseName(l){if(l.indexOf("__")>-1){const e=l.split("__");isNaN(e[1])||(l=e[0])}return l}static getFieldIndexData(l,e){let n=-1,i=0;const p=F.getFieldBaseName(e);return l.forEach((s,a)=>{s.name===e&&(n=a),s.name.indexOf(`${p}__`)>-1&&i++}),{index:n,additFieldsCount:i}}}let b=(()=>{class o extends S.D{constructor(e){super(e),this.setRequestUrl("/admin/field_types")}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(A.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})();var P=c(3407),G=c(4036),Q=c(4119),$=c(8061),Y=c(242);const _t=["formEl"],gt=["panelAddGroup"],z=function(){return{standalone:!0}};function Tt(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",52),t.TgZ(1,"div",53),t.TgZ(2,"label",54),t._uU(3),t.qZA(),t.qZA(),t.TgZ(4,"div",55),t.TgZ(5,"input",56),t.NdJ("ngModelChange",function(i){const s=t.CHM(e).$implicit;return t.oxw(2).fieldModel.inputProperties[s.name]=i}),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=l.$implicit,n=t.oxw(2);t.xp6(2),t.MGl("for","parameterInputField",e.name,""),t.xp6(1),t.hij(" ",e.title," "),t.xp6(2),t.MGl("id","parameterInputField",e.name,""),t.Q6J("ngModel",n.fieldModel.inputProperties[e.name])("ngModelOptions",t.DdM(5,z))}}function ft(o,l){if(1&o&&(t.ynx(0),t.YNc(1,Tt,6,6,"div",51),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.fieldTypeProperties.input)}}function Zt(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",52),t.TgZ(1,"div",53),t.TgZ(2,"label",54),t._uU(3),t.qZA(),t.qZA(),t.TgZ(4,"div",55),t.TgZ(5,"input",56),t.NdJ("ngModelChange",function(i){const s=t.CHM(e).$implicit;return t.oxw(2).fieldModel.outputProperties[s.name]=i}),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=l.$implicit,n=t.oxw(2);t.xp6(2),t.MGl("for","parameterOutputField",e.name,""),t.xp6(1),t.hij(" ",e.title," "),t.xp6(2),t.MGl("id","parameterOutputField",e.name,""),t.Q6J("ngModel",n.fieldModel.outputProperties[e.name])("ngModelOptions",t.DdM(5,z))}}function ht(o,l){if(1&o&&(t.ynx(0),t.YNc(1,Zt,6,6,"div",51),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.fieldTypeProperties.output)}}function Ct(o,l){if(1&o&&t._UZ(0,"p-message",57),2&o){const e=t.oxw();t.Q6J("text",e.errorMessage)}}function yt(o,l){1&o&&(t.TgZ(0,"div",58),t._UZ(1,"p-progressSpinner"),t.qZA())}function At(o,l){1&o&&(t.TgZ(0,"div",59),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"THERE_NO_PARAMETERS")," "))}let xt=(()=>{class o extends M.P{constructor(e,n,i,p,s){super(e,n,i),this.ref=e,this.config=n,this.dataService=i,this.fieldTypesService=p,this.translateService=s,this.errorMessage="",this.model=new j(0,"","","","",[],[],!0),this.fieldModel=new F(0,"","","","",{},"",{},""),this.form=new r.cw({id:new r.NI("",[]),title:new r.NI("",[r.kI.required]),name:new r.NI("",[r.kI.required,r.kI.pattern("[A-Za-z0-9_-]+")]),description:new r.NI("",[]),inputType:new r.NI("",[r.kI.required]),outputType:new r.NI("",[r.kI.required]),group:new r.NI("",[r.kI.required]),required:new r.NI(!1,[]),showInTable:new r.NI(!1,[]),showOnPage:new r.NI(!1,[]),showInList:new r.NI(!1,[]),isFilter:new r.NI(!1,[])}),this.fieldTypeProperties={input:[],output:[]}}ngOnInit(){this.fieldModel=this.config.data.field||new F(0,"","","","text",{},"text",{},""),this.contentType=this.config.data.contentType,this.groups=this.contentType.groups.slice(),super.ngOnInit(),this.getFieldTypes()}getFieldTypes(){const e=new v.J(1,0,"title","asc","title");this.fieldTypesService.getListPage(e).pipe((0,L.R)(this.destroyed$)).subscribe({next:n=>{this.fieldTypes=n.items,this.selectFieldTypeProperties("input"),this.selectFieldTypeProperties("output")},error:n=>{this.errorMessage=n}})}openBlock(e,n,i){i&&i.preventDefault(),-1!==e.className.indexOf("hidden")?(e.classList.remove("hidden"),n&&n.focus(),this.errorMessage=""):e.classList.add("hidden")}closeBlock(e,n){n&&n.preventDefault(),e.classList.add("hidden")}deleteGroup(e){e&&e.preventDefault();const n=this.form.controls.group.value,i=this.contentType.fields.findIndex(s=>s.group===n);if(this.errorMessage="",i>-1)return void(this.errorMessage=this.getLangString("YOU_CANT_DELETE_NOTEMPTY_GROUP"));const p=this.groups.indexOf(n);p>-1&&(this.groups.splice(p,1),this.form.controls.group.setValue(this.groups[0]||null))}addGroup(e,n){if(n&&n.preventDefault(),this.errorMessage="",!e.value)return void e.focus();const i=e.value;this.groups.indexOf(i)>-1?this.errorMessage=this.getLangString("GROUP_ALREADY_EXISTS"):(this.groups.push(i),this.form.controls.group.setValue(i),e.value="",this.panelAddGroup.nativeElement.classList.add("hidden"))}updateControls(){if(!this.fieldModel)return;const e=this.form.controls;Object.keys(e).forEach(n=>{void 0!==this.fieldModel[n]&&(Array.isArray(this.fieldModel[n])&&this.arrayFields[n]?this.fieldModel[n].forEach((i,p)=>{this.arrayFieldAdd(n,i)}):e[n].setValue(this.fieldModel[n]))})}saveData(e=!1,n){if(n&&n.preventDefault(),this.errorMessage="",!this.form.valid)return this.formGroupMarkTouched(this.form),void this.focusFormError();const i=Object.assign({},this.form.value);i.inputProperties=Object.assign({},this.fieldModel.inputProperties),i.outputProperties=Object.assign({},this.fieldModel.outputProperties),this.ref.close(i)}selectFieldTypeProperties(e,n){n?this.form.controls[`${e}Type`].setValue(n):n=this.form.controls[`${e}Type`].value;const i=this.fieldTypes.findIndex(u=>u.name===n);if(-1===i)return void(this.fieldTypeProperties[e]=[]);const p=this.fieldTypes[i],s=`${e}Properties`;this.fieldTypeProperties[e].splice(0),p[e+"Properties"].forEach((u,f)=>{this.fieldTypeProperties[e].push(u)});const a=p[`${e}Properties`].map(u=>u.name);for(const u in this.fieldModel[s])this.fieldModel[s].hasOwnProperty(u)&&-1===a.indexOf(u)&&delete this.fieldModel[s][u];for(const u in this.fieldTypeProperties[e])if(this.fieldTypeProperties[e].hasOwnProperty(u)){const f=this.fieldTypeProperties[e][u].name;void 0===this.fieldModel[s][f]&&(this.fieldModel[s][f]=this.fieldTypeProperties[e][u].default_value)}}getLangString(e){return this.translateService.store.translations[this.translateService.currentLang]&&this.translateService.store.translations[this.translateService.currentLang][e]||e}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(m.E7),t.Y36(m.S),t.Y36(y.s),t.Y36(b),t.Y36(g.sK))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-modal-content-type-field"]],viewQuery:function(e,n){if(1&e&&(t.Gf(_t,5),t.Gf(gt,7)),2&e){let i;t.iGM(i=t.CRH())&&(n.formEl=i.first),t.iGM(i=t.CRH())&&(n.panelAddGroup=i.first)}},features:[t._Bn([b]),t.qOj],decls:105,vars:76,consts:[[3,"formGroup"],["formEl",""],[1,"grid"],[1,"col-12","md:col-6"],[1,"mb-2"],["for","contentTypeFieldTitle",1,"block","mb-2"],["type","text","id","contentTypeFieldTitle","pInputText","","formControlName","title",1,"w-full"],["for","contentTypeFieldName",1,"block","mb-2"],["type","text","id","contentTypeFieldName","pInputText","","formControlName","name",1,"w-full"],["for","contentTypeFieldDescription",1,"block","mb-2"],["id","contentTypeFieldDescription","rows","5","pInputTextarea","","formControlName","description",1,"w-full","mb-2"],["for","contentTypeFieldInputType",1,"block","mb-2"],[1,"p-inputgroup","mb-2"],["inputId","contentTypeFieldInputType","styleClass","w-full border-noround-right","formControlName","inputType","optionLabel","title","optionValue","name",3,"options","onChange"],["type","button","pButton","","pRipple","","icon","pi pi-cog","styleClass","p-button-info","tooltipPosition","bottom",3,"pTooltip","click"],[1,"pt-2","hidden"],["inputTypeOptionsBlock",""],["styleClass","p-panel-sm",3,"header"],[4,"ngIf","ngIfElse"],["for","contentTypeFieldOutputType",1,"block","mb-2"],["inputId","contentTypeFieldOutputType","styleClass","w-full border-noround-right","formControlName","outputType","optionLabel","title","optionValue","name",3,"options","onChange"],["outputTypeOptionsBlock",""],["for","contentTypeFieldGroup",1,"block","mb-2"],[1,"p-inputgroup"],["type","button","pButton","","pRipple","","icon","pi pi-plus","styleClass","p-button-info","tooltipPosition","bottom",3,"pTooltip","click"],["styleClass","w-full border-noround","inputId","contentTypeFieldGroup","formControlName","group",3,"options"],["type","button","pButton","","pRipple","","icon","pi pi-times","styleClass","p-button-info","tooltipPosition","bottom",3,"pTooltip","click"],[1,"pt-3","hidden"],["panelAddGroup",""],["type","text","id","contentTypeFieldNewGroup","pInputText","",1,"w-full","mb-3"],["newGroupField",""],[1,"text-right"],["type","button","pButton","","pRipple","",1,"p-button-secondary","p-button-sm","ml-2",3,"label","click"],[1,"col-12","md:col-6","pt-3"],[1,"mb-3"],["inputId","contentTypeFieldRequired","styleClass","mr-2 vertical-align-middle","formControlName","required"],["for","contentTypeFieldRequired",1,"vertical-align-middle"],["inputId","contentTypeFieldShowInTable","styleClass","mr-2 vertical-align-middle","formControlName","showInTable"],["for","contentTypeFieldShowInTable",1,"vertical-align-middle"],["inputId","contentTypeFieldShowOnPage","styleClass","mr-2 vertical-align-middle","formControlName","showOnPage"],["for","contentTypeFieldShowOnPage",1,"vertical-align-middle"],["inputId","contentTypeFieldShowInList","styleClass","mr-2 vertical-align-middle","formControlName","showInList"],["for","contentTypeFieldShowInList",1,"vertical-align-middle"],["inputId","contentTypeFieldIsFilter","styleClass","mr-2 vertical-align-middle","formControlName","isFilter"],["for","contentTypeFieldIsFilter",1,"vertical-align-middle"],["styleClass","block w-full text-left mb-3","severity","error",3,"text",4,"ngIf"],[1,"text-right","pt-2"],["pButton","","pRipple","","type","button","icon","pi pi-check",1,"p-button-success","p-button-raised","w-full","md:w-auto","mb-2","md:mb-0","md:ml-2",3,"label","click"],["pButton","","pRipple","","type","button",1,"p-button-secondary","p-button-raised","w-full","md:w-auto","mb-2","md:mb-0","md:ml-2",3,"label","click"],["class","loading-overlay",4,"ngIf"],["propertiesEmptyMessage",""],["class","grid mb-2",4,"ngFor","ngForOf"],[1,"grid","mb-2"],[1,"col-5"],[1,"text-sm",3,"for"],[1,"col-7"],["type","text","pInputText","",1,"p-inputtext-sm","w-full",3,"id","ngModel","ngModelOptions","ngModelChange"],["styleClass","block w-full text-left mb-3","severity","error",3,"text"],[1,"loading-overlay"],[1,"surface-200","border-round","p-3"]],template:function(e,n){if(1&e){const i=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"form",0,1),t.TgZ(3,"div",2),t.TgZ(4,"div",3),t.TgZ(5,"div",4),t.TgZ(6,"label",5),t._uU(7),t.ALo(8,"translate"),t.qZA(),t._UZ(9,"input",6),t.qZA(),t.TgZ(10,"div"),t.TgZ(11,"label",7),t._uU(12),t.ALo(13,"translate"),t.qZA(),t._UZ(14,"input",8),t.qZA(),t.qZA(),t.TgZ(15,"div",3),t.TgZ(16,"div"),t.TgZ(17,"label",9),t._uU(18),t.ALo(19,"translate"),t.qZA(),t._UZ(20,"textarea",10),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"div",2),t.TgZ(22,"div",3),t.TgZ(23,"label",11),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.TgZ(26,"div",12),t.TgZ(27,"p-dropdown",13),t.NdJ("onChange",function(){return n.selectFieldTypeProperties("input")}),t.qZA(),t.TgZ(28,"button",14),t.NdJ("click",function(s){t.CHM(i);const a=t.MAs(31);return n.openBlock(a,null,s)}),t.ALo(29,"translate"),t.qZA(),t.qZA(),t.TgZ(30,"div",15,16),t.TgZ(32,"p-panel",17),t.ALo(33,"translate"),t.YNc(34,ft,2,1,"ng-container",18),t.qZA(),t.qZA(),t.qZA(),t.TgZ(35,"div",3),t.TgZ(36,"label",19),t._uU(37),t.ALo(38,"translate"),t.qZA(),t.TgZ(39,"div",12),t.TgZ(40,"p-dropdown",20),t.NdJ("onChange",function(){return n.selectFieldTypeProperties("output")}),t.qZA(),t.TgZ(41,"button",14),t.NdJ("click",function(s){t.CHM(i);const a=t.MAs(44);return n.openBlock(a,null,s)}),t.ALo(42,"translate"),t.qZA(),t.qZA(),t.TgZ(43,"div",15,21),t.TgZ(45,"p-panel",17),t.ALo(46,"translate"),t.YNc(47,ht,2,1,"ng-container",18),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(48,"div",2),t.TgZ(49,"div",3),t.TgZ(50,"label",22),t._uU(51),t.ALo(52,"translate"),t.qZA(),t.TgZ(53,"div",23),t.TgZ(54,"button",24),t.NdJ("click",function(s){t.CHM(i);const a=t.MAs(60),u=t.MAs(64);return n.openBlock(a,u,s)}),t.ALo(55,"translate"),t.qZA(),t._UZ(56,"p-dropdown",25),t.TgZ(57,"button",26),t.NdJ("click",function(){return n.deleteGroup()}),t.ALo(58,"translate"),t.qZA(),t.qZA(),t.TgZ(59,"div",27,28),t.TgZ(61,"p-panel",17),t.ALo(62,"translate"),t._UZ(63,"input",29,30),t.TgZ(65,"div",31),t.TgZ(66,"button",32),t.NdJ("click",function(s){t.CHM(i);const a=t.MAs(64);return n.addGroup(a,s)}),t.ALo(67,"translate"),t.qZA(),t.TgZ(68,"button",32),t.NdJ("click",function(s){t.CHM(i);const a=t.MAs(60);return n.closeBlock(a,s)}),t.ALo(69,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(70,"div",33),t.TgZ(71,"div",34),t._UZ(72,"p-inputSwitch",35),t.TgZ(73,"label",36),t._uU(74),t.ALo(75,"translate"),t.qZA(),t.qZA(),t.TgZ(76,"div",34),t._UZ(77,"p-inputSwitch",37),t.TgZ(78,"label",38),t._uU(79),t.ALo(80,"translate"),t.qZA(),t.qZA(),t.TgZ(81,"div",34),t._UZ(82,"p-inputSwitch",39),t.TgZ(83,"label",40),t._uU(84),t.ALo(85,"translate"),t.qZA(),t.qZA(),t.TgZ(86,"div",34),t._UZ(87,"p-inputSwitch",41),t.TgZ(88,"label",42),t._uU(89),t.ALo(90,"translate"),t.qZA(),t.qZA(),t.TgZ(91,"div",34),t._UZ(92,"p-inputSwitch",43),t.TgZ(93,"label",44),t._uU(94),t.ALo(95,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(96,Ct,1,1,"p-message",45),t.TgZ(97,"div",46),t.TgZ(98,"button",47),t.NdJ("click",function(s){return n.saveData(!0,s)}),t.ALo(99,"translate"),t.qZA(),t.TgZ(100,"button",48),t.NdJ("click",function(s){return n.dismissModal(s)}),t.ALo(101,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(102,yt,2,0,"div",49),t.YNc(103,At,3,3,"ng-template",null,50,t.W1O)}if(2&e){const i=t.MAs(104);t.xp6(1),t.Q6J("formGroup",n.form),t.xp6(6),t.hij(" ",t.lcZ(8,32,"TITLE")," "),t.xp6(5),t.hij(" ",t.lcZ(13,34,"SYSTEM_NAME")," "),t.xp6(6),t.hij(" ",t.lcZ(19,36,"DESCRIPTION")," "),t.xp6(6),t.hij(" ",t.lcZ(25,38,"INPUT_TYPE")," "),t.xp6(3),t.Q6J("options",n.fieldTypes),t.xp6(1),t.Q6J("pTooltip",t.lcZ(29,40,"OPTIONS")),t.xp6(4),t.Q6J("header",t.lcZ(33,42,"OPTIONS")),t.xp6(2),t.Q6J("ngIf",n.fieldTypeProperties.input.length>0)("ngIfElse",i),t.xp6(3),t.hij(" ",t.lcZ(38,44,"OUTPUT_TYPE")," "),t.xp6(3),t.Q6J("options",n.fieldTypes),t.xp6(1),t.Q6J("pTooltip",t.lcZ(42,46,"OPTIONS")),t.xp6(4),t.Q6J("header",t.lcZ(46,48,"OPTIONS")),t.xp6(2),t.Q6J("ngIf",n.fieldTypeProperties.output.length>0)("ngIfElse",i),t.xp6(4),t.hij(" ",t.lcZ(52,50,"GROUP")," "),t.xp6(3),t.Q6J("pTooltip",t.lcZ(55,52,"ADD_GROUP")),t.xp6(2),t.Q6J("options",n.groups),t.xp6(1),t.Q6J("pTooltip",t.lcZ(58,54,"DELETE")),t.xp6(4),t.Q6J("header",t.lcZ(62,56,"ADD_GROUP")),t.xp6(5),t.Q6J("label",t.lcZ(67,58,"ADD")),t.xp6(2),t.Q6J("label",t.lcZ(69,60,"CANCEL")),t.xp6(6),t.hij(" ",t.lcZ(75,62,"REQUIRED")," "),t.xp6(5),t.hij(" ",t.lcZ(80,64,"SHOW_IN_TABLE")," "),t.xp6(5),t.hij(" ",t.lcZ(85,66,"SHOW_IN_TABLE")," "),t.xp6(5),t.hij(" ",t.lcZ(90,68,"SHOW_IN_LIST")," "),t.xp6(5),t.hij(" ",t.lcZ(95,70,"SHOW_IN_FILTER")," "),t.xp6(2),t.Q6J("ngIf",n.errorMessage),t.xp6(2),t.Q6J("label",t.lcZ(99,72,"SAVE_AND_CLOSE")),t.xp6(2),t.Q6J("label",t.lcZ(101,74,"CLOSE")),t.xp6(2),t.Q6J("ngIf",n.loading)}},directives:[r._Y,r.JL,r.sg,r.Fj,x.o,r.JJ,r.u,P.g,G.Lt,h.Hq,C.H,Q.u,$.s,T.O5,Y.Ql,T.sg,r.On,q.q,w.G],pipes:[g.X$],encapsulation:2}),o})();const bt=["formEl"],vt=["panelAddCollection"];function Mt(o,l){if(1&o&&t._UZ(0,"p-message",42),2&o){const e=t.oxw();t.Q6J("text",e.errorMessageTop)}}function qt(o,l){1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"th"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"th"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"th"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"th"),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.qZA()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,5,"TITLE")),t.xp6(3),t.Oqu(t.lcZ(6,7,"INPUT_TYPE")),t.xp6(3),t.Oqu(t.lcZ(9,9,"GROUP")),t.xp6(3),t.Oqu(t.lcZ(12,11,"REQUIRED")),t.xp6(3),t.Oqu(t.lcZ(15,13,"SHOW_IN_TABLE")))}function wt(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"tr",43),t.TgZ(1,"td"),t._uU(2),t.TgZ(3,"span",44),t._uU(4),t.qZA(),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._UZ(10,"app-render-output",45),t.qZA(),t.TgZ(11,"td"),t._UZ(12,"app-render-output",45),t.TgZ(13,"div",46),t.TgZ(14,"button",47),t.NdJ("click",function(i){const s=t.CHM(e).$implicit;return t.oxw().editField(s,i)}),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"button",48),t.NdJ("click",function(i){const s=t.CHM(e).$implicit;return t.oxw().copyField(s,i)}),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"button",49),t.NdJ("click",function(i){const s=t.CHM(e).$implicit;return t.oxw().deleteField(s,i)}),t.ALo(19,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=l.$implicit;t.Q6J("pEditableRow",e)("pContextMenuRow",e),t.xp6(2),t.hij("",e.title," "),t.xp6(2),t.hij("(",e.name,")"),t.xp6(2),t.Oqu(e.inputType),t.xp6(2),t.Oqu(e.group),t.xp6(2),t.Q6J("value",e.required),t.xp6(2),t.Q6J("value",e.showInTable),t.xp6(2),t.Q6J("pTooltip",t.lcZ(15,11,"EDIT")),t.xp6(2),t.Q6J("pTooltip",t.lcZ(17,13,"CLONE")),t.xp6(2),t.Q6J("pTooltip",t.lcZ(19,15,"DELETE"))}}function It(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",50),t.TgZ(1,"button",51),t.NdJ("click",function(i){return t.CHM(e),t.oxw().addField(i)}),t.ALo(2,"translate"),t.qZA(),t.qZA()}2&o&&(t.xp6(1),t.Q6J("label",t.lcZ(2,1,"ADD")))}function Nt(o,l){if(1&o&&t._UZ(0,"p-message",42),2&o){const e=t.oxw();t.Q6J("text",e.errorMessage)}}function Ft(o,l){1&o&&(t.TgZ(0,"div",52),t._UZ(1,"p-progressSpinner"),t.qZA())}let Lt=(()=>{class o extends M.P{constructor(e,n,i,p,s,a,u){super(e,n,i),this.ref=e,this.config=n,this.dataService=i,this.dialogService=p,this.translateService=s,this.collectionsService=a,this.confirmationService=u,this.model=new j(0,"","","","",[],[],!0),this.form=new r.cw({id:new r.NI("",[]),title:new r.NI("",[r.kI.required]),name:new r.NI("",[r.kI.required,r.kI.pattern("[A-Za-z0-9_-]+")]),description:new r.NI("",[]),collection:new r.NI("",[r.kI.required]),isActive:new r.NI("",[]),isCreateByUsersAllowed:new r.NI("",[])}),this.collections=["products"],this.errorMessageTop=""}ngOnInit(){super.ngOnInit(),this.getCollectionsList(),this.contextMenuItems=[{label:this.getLangString("EDIT"),icon:"pi pi-fw pi-pencil",command:()=>this.editField(this.itemSelected)},{label:this.getLangString("CLONE"),icon:"pi pi-fw pi-clone",command:()=>this.copyField(this.itemSelected)},{label:this.getLangString("DELETE"),icon:"pi pi-fw pi-trash",command:()=>this.deleteField(this.itemSelected)}]}getCollectionsList(){this.collectionsService.getList().subscribe(e=>{e.length>0&&(this.collections=e)})}addCollection(e,n){if(n&&n.preventDefault(),this.errorMessageTop="",!e.value)return void e.focus();const i=e.value;this.collections.indexOf(i)>-1?this.errorMessageTop=this.getLangString("COLLECTION_EXISTS"):(this.collections.push(i),this.form.controls.collection.setValue(i),e.value="",this.panelAddCollection.nativeElement.classList.add("hidden"))}openBlock(e,n,i){i&&i.preventDefault(),-1!==e.className.indexOf("hidden")?(e.classList.remove("hidden"),n&&n.focus(),this.errorMessageTop="",this.errorMessage=""):e.classList.add("hidden")}closeBlock(e,n){n&&n.preventDefault(),e.classList.add("hidden")}deleteCollection(){this.errorMessageTop="",this.confirmationService.confirm({message:this.getLangString("YOU_SURE_YOU_WANT_DELETE"),accept:()=>{const e=this.form.controls.collection.value;this.loading=!0,this.collectionsService.deleteItemByName(e).subscribe({next:()=>{const n=this.collections.indexOf(e);n>-1&&(this.collections.splice(n,1),this.form.controls.collection.setValue(this.collections[0]||"")),this.errorMessageTop="",this.loading=!1},error:n=>{this.errorMessageTop=n.error||"Error.",this.loading=!1}})}})}deleteField(e,n){n&&n.preventDefault();const i=this.model.fields.findIndex(p=>p.name===e.name);-1!==i?this.model.fields.splice(i,1):this.errorMessage=this.getLangString("FIELD_NOR_FOUND")}modalContentTypeField(e){this.dialogService.open(xt,{header:this.getLangString("EDIT_FIELD"),width:"800px",data:e}).onClose.pipe((0,L.R)(this.destroyed$)).subscribe({next:i=>{if(i&&i.name){const p=this.model.fields.findIndex(s=>s.name===i.name);p>-1?Object.assign(this.model.fields[p],i):this.model.fields.push(Object.assign({},i))}}})}editField(e,n){n&&n.preventDefault();const i={field:Object.assign({},e),contentType:this.model};i.field.inputProperties&&(i.field.inputProperties=Object.assign({},e.inputProperties)),i.field.outputProperties&&(i.field.outputProperties=Object.assign({},e.outputProperties)),this.modalContentTypeField(i)}addField(e){e&&e.preventDefault(),this.modalContentTypeField({field:null,contentType:this.model})}copyField(e,n){n&&n.preventDefault(),console.log("copyField",e)}getLangString(e){return this.translateService.store.translations[this.translateService.currentLang]&&this.translateService.store.translations[this.translateService.currentLang][e]||e}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(m.E7),t.Y36(m.S),t.Y36(y.s),t.Y36(m.xA),t.Y36(g.sK),t.Y36(H),t.Y36(_.YP))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-modal-content-type"]],viewQuery:function(e,n){if(1&e&&(t.Gf(bt,5),t.Gf(vt,7)),2&e){let i;t.iGM(i=t.CRH())&&(n.formEl=i.first),t.iGM(i=t.CRH())&&(n.panelAddCollection=i.first)}},features:[t._Bn([H]),t.qOj],decls:71,vars:52,consts:[[3,"formGroup"],["formEl",""],[1,"grid"],[1,"col-12","md:col-6"],[1,"mb-2"],["for","fieldTitle",1,"block","mb-2"],["type","text","id","fieldTitle","pInputText","","formControlName","title",1,"w-full"],["for","fieldSystemName",1,"block","mb-2"],["type","text","id","fieldSystemName","pInputText","","formControlName","name",1,"w-full"],["for","fieldDescription",1,"block","mb-2"],["id","fieldDescription","rows","5","pInputTextarea","","formControlName","description",1,"w-full","mb-2"],[1,"col-12","md:col-6","mb-3"],["for","fieldCollection",1,"block","mb-2"],[1,"p-inputgroup"],["type","button","pButton","","pRipple","","icon","pi pi-plus","styleClass","p-button-info","tooltipPosition","bottom",3,"pTooltip","click"],["styleClass","w-full border-noround","inputId","fieldCollection","formControlName","collection",3,"options"],["type","button","pButton","","pRipple","","icon","pi pi-times","styleClass","p-button-info","tooltipPosition","bottom",3,"pTooltip","click"],[1,"pt-3","hidden"],["panelAddCollection",""],["styleClass","p-panel-sm",3,"header"],["type","text","id","fieldNewCollection","pInputText","",1,"w-full","mb-3"],["newCollectionField",""],[1,"text-right"],["type","button","pButton","","pRipple","",1,"p-button-secondary","p-button-sm","ml-2",3,"label","click"],[1,"grid","mb-3"],["inputId","fieldActive","styleClass","mr-2 vertical-align-middle","formControlName","isActive"],["for","fieldActive",1,"vertical-align-middle"],["inputId","fieldCreateByUsersAllowed","styleClass","mr-2 vertical-align-middle","formControlName","isCreateByUsersAllowed"],["for","fieldCreateByUsersAllowed",1,"vertical-align-middle"],["styleClass","block w-full text-left mb-3","severity","error",3,"text",4,"ngIf"],[1,"mb-3"],["dataKey","name","editMode","row",3,"value","loading","contextMenuSelection","contextMenu","contextMenuSelectionChange"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],[1,"text-right","pt-2"],["pButton","","pRipple","","type","button","icon","pi pi-check",1,"p-button-success","p-button-raised","w-full","md:w-auto","mb-2","md:mb-0","md:ml-2",3,"label","click"],["pButton","","pRipple","","type","button","icon","pi pi-check",1,"p-button-warning","p-button-raised","w-full","md:w-auto","mb-2","md:mb-0","md:ml-2",3,"label","click"],["pButton","","pRipple","","type","button",1,"p-button-secondary","p-button-raised","w-full","md:w-auto","mb-2","md:mb-0","md:ml-2",3,"label","click"],["class","loading-overlay",4,"ngIf"],["appendTo","body",3,"model"],["contextMenu",""],["styleClass","block w-full text-left mb-3","severity","error",3,"text"],[1,"show-on-hover-parent",3,"pEditableRow","pContextMenuRow"],[1,"text-500"],["outputType","boolean",3,"value"],[1,"absolute","show-on-hover","pos-top10","pos-right10"],["pButton","","pRipple","","icon","pi pi-pencil","tooltipPosition","bottom",1,"p-button","p-button-sm","p-button-rounded","p-button-info",3,"pTooltip","click"],["pButton","","pRipple","","icon","pi pi-clone","tooltipPosition","bottom",1,"p-button","p-button-sm","p-button-rounded","p-button-info","ml-2",3,"pTooltip","click"],["pButton","","pRipple","","icon","pi pi-trash","tooltipPosition","bottom",1,"p-button","p-button-sm","p-button-rounded","p-button-danger","ml-2",3,"pTooltip","click"],[1,"text-center"],["type","button","pButton","","pRipple","","icon","pi pi-plus","iconPos","left",1,"p-button-secondary","p-button-sm",3,"label","click"],[1,"loading-overlay"]],template:function(e,n){if(1&e){const i=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"form",0,1),t.TgZ(3,"div",2),t.TgZ(4,"div",3),t.TgZ(5,"div",4),t.TgZ(6,"label",5),t._uU(7),t.ALo(8,"translate"),t.qZA(),t._UZ(9,"input",6),t.qZA(),t.TgZ(10,"div"),t.TgZ(11,"label",7),t._uU(12),t.ALo(13,"translate"),t.qZA(),t._UZ(14,"input",8),t.qZA(),t.qZA(),t.TgZ(15,"div",3),t.TgZ(16,"label",9),t._uU(17),t.ALo(18,"translate"),t.qZA(),t._UZ(19,"textarea",10),t.qZA(),t.qZA(),t.TgZ(20,"div",2),t.TgZ(21,"div",11),t.TgZ(22,"label",12),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"div",13),t.TgZ(26,"button",14),t.NdJ("click",function(s){t.CHM(i);const a=t.MAs(32),u=t.MAs(36);return n.openBlock(a,u,s)}),t.ALo(27,"translate"),t.qZA(),t._UZ(28,"p-dropdown",15),t.TgZ(29,"button",16),t.NdJ("click",function(){return n.deleteCollection()}),t.ALo(30,"translate"),t.qZA(),t.qZA(),t.TgZ(31,"div",17,18),t.TgZ(33,"p-panel",19),t.ALo(34,"translate"),t._UZ(35,"input",20,21),t.TgZ(37,"div",22),t.TgZ(38,"button",23),t.NdJ("click",function(s){t.CHM(i);const a=t.MAs(36);return n.addCollection(a,s)}),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"button",23),t.NdJ("click",function(s){t.CHM(i);const a=t.MAs(32);return n.closeBlock(a,s)}),t.ALo(41,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(42,"div",11),t.qZA(),t.TgZ(43,"div",24),t.TgZ(44,"div",3),t._UZ(45,"p-inputSwitch",25),t.TgZ(46,"label",26),t._uU(47),t.ALo(48,"translate"),t.qZA(),t.qZA(),t.TgZ(49,"div",3),t._UZ(50,"p-inputSwitch",27),t.TgZ(51,"label",28),t._uU(52),t.ALo(53,"translate"),t.qZA(),t.qZA(),t.qZA(),t.YNc(54,Mt,1,1,"p-message",29),t.TgZ(55,"div",30),t.TgZ(56,"p-table",31),t.NdJ("contextMenuSelectionChange",function(s){return n.itemSelected=s}),t.YNc(57,qt,16,15,"ng-template",32),t.YNc(58,wt,20,17,"ng-template",33),t.YNc(59,It,3,3,"ng-template",34),t.qZA(),t.qZA(),t.YNc(60,Nt,1,1,"p-message",29),t.TgZ(61,"div",35),t.TgZ(62,"button",36),t.NdJ("click",function(s){return n.saveData(!0,s)}),t.ALo(63,"translate"),t.qZA(),t.TgZ(64,"button",37),t.NdJ("click",function(s){return n.saveData(!1,s)}),t.ALo(65,"translate"),t.qZA(),t.TgZ(66,"button",38),t.NdJ("click",function(s){return n.dismissModal(s)}),t.ALo(67,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(68,Ft,2,0,"div",39),t._UZ(69,"p-contextMenu",40,41)}if(2&e){const i=t.MAs(70);t.xp6(1),t.Q6J("formGroup",n.form),t.xp6(6),t.hij(" ",t.lcZ(8,24,"TITLE")," "),t.xp6(5),t.hij(" ",t.lcZ(13,26,"SYSTEM_NAME")," "),t.xp6(5),t.hij(" ",t.lcZ(18,28,"DESCRIPTION")," "),t.xp6(6),t.hij(" ",t.lcZ(24,30,"COLLECTION")," "),t.xp6(3),t.Q6J("pTooltip",t.lcZ(27,32,"ADD_COLLECTION")),t.xp6(2),t.Q6J("options",n.collections),t.xp6(1),t.Q6J("pTooltip",t.lcZ(30,34,"DELETE")),t.xp6(4),t.Q6J("header",t.lcZ(34,36,"ADD_COLLECTION")),t.xp6(5),t.Q6J("label",t.lcZ(39,38,"ADD")),t.xp6(2),t.Q6J("label",t.lcZ(41,40,"CANCEL")),t.xp6(7),t.hij(" ",t.lcZ(48,42,"ACTIVE")," "),t.xp6(5),t.hij(" ",t.lcZ(53,44,"CREATE_BY_USERS_ALLOWED")," "),t.xp6(2),t.Q6J("ngIf",n.errorMessageTop),t.xp6(2),t.Q6J("value",n.model.fields)("loading",n.loading)("contextMenuSelection",n.itemSelected)("contextMenu",i),t.xp6(4),t.Q6J("ngIf",n.errorMessage),t.xp6(2),t.Q6J("label",t.lcZ(63,46,"SAVE_AND_CLOSE")),t.xp6(2),t.Q6J("label",t.lcZ(65,48,"SAVE")),t.xp6(2),t.Q6J("label",t.lcZ(67,50,"CLOSE")),t.xp6(2),t.Q6J("ngIf",n.loading),t.xp6(1),t.Q6J("model",n.contextMenuItems)}},directives:[r._Y,r.JL,r.sg,r.Fj,x.o,r.JJ,r.u,P.g,h.Hq,C.H,Q.u,G.Lt,$.s,Y.Ql,T.O5,d.iA,_.jx,I.xV,q.q,d.D$,d.zi,N.g,w.G],pipes:[g.X$],encapsulation:2}),o})();function Ot(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",10),t.TgZ(1,"div",11),t._UZ(2,"i",12),t.TgZ(3,"input",13),t.NdJ("input",function(){return t.CHM(e),t.oxw().onInputSearch()})("ngModelChange",function(i){return t.CHM(e),t.oxw().queryOptions.search_word=i}),t.ALo(4,"translate"),t.qZA(),t.qZA(),t.TgZ(5,"div",14),t.TgZ(6,"button",15),t.NdJ("click",function(i){return t.CHM(e),t.oxw(),t.MAs(8).toggle(i)}),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"button",16),t.NdJ("click",function(i){return t.CHM(e),t.oxw().openModal(null,i)}),t.ALo(9,"translate"),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(3),t.MGl("placeholder","",t.lcZ(4,4,"SEARCH"),"..."),t.Q6J("ngModel",e.queryOptions.search_word),t.xp6(3),t.Q6J("label",t.lcZ(7,6,"ACTIONS")),t.xp6(2),t.Q6J("label",t.lcZ(9,8,"ADD"))}}function St(o,l){if(1&o&&(t.TgZ(0,"th",18),t._uU(1),t.ALo(2,"translate"),t._UZ(3,"p-sortIcon",19),t.qZA()),2&o){const e=l.$implicit;t.Q6J("pSortableColumn",e.field),t.xp6(1),t.hij(" ",t.lcZ(2,3,e.header)," "),t.xp6(2),t.Q6J("field",e.field)}}function Jt(o,l){if(1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"th"),t._UZ(2,"p-tableHeaderCheckbox"),t.qZA(),t.YNc(3,St,4,5,"th",17),t.qZA()),2&o){const e=l.$implicit;t.xp6(3),t.Q6J("ngForOf",e)}}function Ut(o,l){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",25),t.TgZ(2,"button",26),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit;return t.oxw().openModal(i)}),t.qZA(),t.TgZ(3,"button",27),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit;return t.oxw().deleteItem(i)}),t.qZA(),t.qZA(),t.BQk()}}function kt(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"td"),t.TgZ(1,"app-render-output",23),t.NdJ("changeRequest",function(i){return t.CHM(e),t.oxw(2).onOptionUpdate(i)}),t.qZA(),t.YNc(2,Ut,4,0,"ng-container",24),t.qZA()}if(2&o){const e=l.$implicit,n=l.index,i=t.oxw(),p=i.$implicit,s=i.columns;t.xp6(1),t.Q6J("value",p[e.field])("key",e.field)("outputType",e.outputType)("options",e.outputProperties)("object",p),t.xp6(1),t.Q6J("ngIf",s.length==n+1)}}function Et(o,l){if(1&o&&(t.TgZ(0,"tr",20),t.TgZ(1,"td"),t._UZ(2,"p-tableCheckbox",21),t.qZA(),t.YNc(3,kt,3,6,"td",22),t.qZA()),2&o){const e=l.$implicit,n=l.columns;t.Q6J("pContextMenuRow",e),t.xp6(2),t.Q6J("value",e),t.xp6(1),t.Q6J("ngForOf",n)}}function Pt(o,l){1&o&&(t.ynx(0),t._uU(1),t.ALo(2,"translate"),t.BQk()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"NOTHING_FOUND"),". "))}function Qt(o,l){1&o&&(t._uU(0),t.ALo(1,"translate")),2&o&&t.hij(" ",t.lcZ(1,1,"EMPTY"),". ")}function Yt(o,l){if(1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"td",28),t.YNc(2,Pt,3,3,"ng-container",29),t.YNc(3,Qt,2,3,"ng-template",null,30,t.W1O),t.qZA(),t.qZA()),2&o){const e=l.$implicit,n=t.MAs(4),i=t.oxw();t.xp6(1),t.Q6J("colSpan",e.length+1),t.xp6(1),t.Q6J("ngIf",i.queryOptions.search_word)("ngIfElse",n)}}let Dt=(()=>{class o extends O.p{constructor(e,n,i,p,s,a){super(e,n,i,p,s,a),this.dialogService=e,this.contentTypesService=n,this.dataService=i,this.translateService=p,this.messageService=s,this.confirmationService=a,this.queryOptions=new v.J(1,12,"name","desc"),this.items=[],this.cols=[{field:"id",header:"ID",outputType:"text-center",outputProperties:{}},{field:"title",header:"TITLE",outputType:"text",outputProperties:{}},{field:"name",header:"SYSTEM_NAME",outputType:"text",outputProperties:{}},{field:"collection",header:"COLLECTION",outputType:"text",outputProperties:{}},{field:"isActive",header:"STATUS",outputType:"boolean",outputProperties:{}}]}ngOnInit(){super.ngOnInit(),this.menuItems.push({label:this.getLangString("DISABLE_ENABLE"),icon:"pi pi-times-circle",command:()=>{this.blockSelected()}})}getModalComponent(){return Lt}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(m.xA),t.Y36(y.s),t.Y36(y.s),t.Y36(g.sK),t.Y36(_.ez),t.Y36(_.YP))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-catalog-category"]],features:[t._Bn([m.xA,_.YP,y.s]),t.qOj],decls:11,vars:19,consts:[["styleClass","p-datatable-striped","dataKey","id",3,"selection","contextMenuSelection","contextMenu","sortField","sortOrder","lazy","paginator","showJumpToPageDropdown","value","columns","rows","totalRecords","loading","selectionChange","contextMenuSelectionChange","onLazyLoad"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["icon","pi pi-exclamation-triangle",3,"header"],["styleClass","p-menu-nowrap",3,"popup","model"],["menu",""],[3,"model"],["contextMenu",""],[1,"flex","md:justify-content-between","flex-wrap"],[1,"p-input-icon-left","w-full","md:w-auto","mb-2","md:mb-0"],[1,"pi","pi-search"],["pInputText","","type","text",1,"lg:w-auto","w-full",3,"ngModel","placeholder","input","ngModelChange"],[1,"w-full","md:w-auto"],["type","button","pButton","","pRipple","","icon","pi pi-chevron-down","iconPos","left",1,"ml-0","md:ml-2","w-full","md:w-auto","mb-2","md:mb-0",3,"label","click"],["type","button","pButton","","pRipple","","icon","pi pi-plus","iconPos","left",1,"p-button-success","ml-0","md:ml-2","w-full","md:w-auto",3,"label","click"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[1,"show-on-hover-parent",3,"pContextMenuRow"],[3,"value"],[4,"ngFor","ngForOf"],[3,"value","key","outputType","options","object","changeRequest"],[4,"ngIf"],[1,"absolute","show-on-hover","pos-top10","pos-right10"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button","p-button-sm","p-button-rounded","p-button-info",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button","p-button-sm","p-button-rounded","p-button-danger","ml-2",3,"click"],[3,"colSpan"],[4,"ngIf","ngIfElse"],["emptyMessage",""]],template:function(e,n){if(1&e&&(t.TgZ(0,"p-table",0),t.NdJ("selectionChange",function(p){return n.itemsSelected=p})("contextMenuSelectionChange",function(p){return n.itemSelected=p})("onLazyLoad",function(p){return n.getData(p)}),t.YNc(1,Ot,10,10,"ng-template",1),t.YNc(2,Jt,4,1,"ng-template",2),t.YNc(3,Et,4,3,"ng-template",3),t.YNc(4,Yt,5,3,"ng-template",4),t.qZA(),t._UZ(5,"p-confirmDialog",5),t.ALo(6,"translate"),t._UZ(7,"p-menu",6,7),t._UZ(9,"p-contextMenu",8,9)),2&e){const i=t.MAs(10);t.Q6J("selection",n.itemsSelected)("contextMenuSelection",n.itemSelected)("contextMenu",i)("sortField",n.queryOptions.sort_by)("sortOrder","asc"==n.queryOptions.sort_dir?1:-1)("lazy",!0)("paginator",!0)("showJumpToPageDropdown",!0)("value",n.items)("columns",n.cols)("rows",n.queryOptions.limit)("totalRecords",n.itemsTotal)("loading",n.loading),t.xp6(5),t.Q6J("header",t.lcZ(6,17,"CONFIRM")),t.xp6(2),t.Q6J("popup",!0)("model",n.menuItems),t.xp6(2),t.Q6J("model",n.contextMenuItems)}},directives:[d.iA,_.jx,k.Q,E.v2,I.xV,r.Fj,x.o,r.JJ,r.On,h.Hq,C.H,d.Mo,T.sg,d.lQ,d.fz,d.zi,d.UA,N.g,T.O5],pipes:[g.X$],encapsulation:2}),o})();class Rt{constructor(l,e,n,i,p,s,a){this.id=l,this.name=e,this.title=n,this.description=i,this.isActive=p,this.inputProperties=s,this.outputProperties=a}}var V=c(3787);function Bt(o,l){1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"th"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"th"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t._UZ(10,"th"),t.qZA()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,3,"SYSTEM_NAME")),t.xp6(3),t.Oqu(t.lcZ(6,5,"NAME")),t.xp6(3),t.Oqu(t.lcZ(9,7,"DEFAULT_VALUE")))}function jt(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"tr",29),t.TgZ(1,"td"),t._UZ(2,"input",30),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"input",31),t.qZA(),t.TgZ(5,"td"),t._UZ(6,"input",32),t.qZA(),t.TgZ(7,"td"),t.TgZ(8,"button",33),t.NdJ("click",function(){const p=t.CHM(e).rowIndex;return t.oxw().arrayFieldDelete("inputProperties",p)}),t.ALo(9,"translate"),t.qZA(),t.qZA(),t.qZA()}2&o&&(t.Q6J("formGroupName",l.rowIndex+""),t.xp6(8),t.Q6J("pTooltip",t.lcZ(9,2,"DELETE")))}function Ht(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td",34),t.TgZ(2,"button",35),t.NdJ("click",function(){return t.CHM(e),t.oxw().arrayFieldAdd("inputProperties")}),t.ALo(3,"translate"),t.qZA(),t.qZA(),t.qZA()}2&o&&(t.xp6(2),t.Q6J("label",t.lcZ(3,1,"ADD")))}function Gt(o,l){1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"th"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"th"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t._UZ(10,"th"),t.qZA()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,3,"SYSTEM_NAME")),t.xp6(3),t.Oqu(t.lcZ(6,5,"NAME")),t.xp6(3),t.Oqu(t.lcZ(9,7,"DEFAULT_VALUE")))}function $t(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"tr",29),t.TgZ(1,"td"),t._UZ(2,"input",30),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"input",31),t.qZA(),t.TgZ(5,"td"),t._UZ(6,"input",32),t.qZA(),t.TgZ(7,"td"),t.TgZ(8,"button",33),t.NdJ("click",function(){const p=t.CHM(e).rowIndex;return t.oxw().arrayFieldDelete("outputProperties",p)}),t.ALo(9,"translate"),t.qZA(),t.qZA(),t.qZA()}2&o&&(t.Q6J("formGroupName",l.rowIndex+""),t.xp6(8),t.Q6J("pTooltip",t.lcZ(9,2,"DELETE")))}function zt(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td",34),t.TgZ(2,"button",35),t.NdJ("click",function(){return t.CHM(e),t.oxw().arrayFieldAdd("outputProperties")}),t.ALo(3,"translate"),t.qZA(),t.qZA(),t.qZA()}2&o&&(t.xp6(2),t.Q6J("label",t.lcZ(3,1,"ADD")))}function Vt(o,l){if(1&o&&t._UZ(0,"p-message",36),2&o){const e=t.oxw();t.Q6J("text",e.errorMessage)}}function Xt(o,l){1&o&&(t.TgZ(0,"div",37),t._UZ(1,"p-progressSpinner"),t.qZA())}let Wt=(()=>{class o extends M.P{constructor(e,n,i){super(e,n,i),this.ref=e,this.config=n,this.dataService=i,this.model=new Rt(0,"","","",!0,[],[]),this.form=new r.cw({id:new r.NI("",[]),title:new r.NI("",[r.kI.required]),name:new r.NI("",[r.kI.required,r.kI.pattern("[A-Za-z0-9_-]+")]),description:new r.NI("",[]),isActive:new r.NI("",[]),inputProperties:new r.Oe([]),outputProperties:new r.Oe([])}),this.arrayFieldsData={inputProperties:{name:{validators:[r.kI.required]},title:{validators:[r.kI.required]},default_value:{validators:[]}},outputProperties:{name:{validators:[r.kI.required]},title:{validators:[r.kI.required]},default_value:{validators:[]}}}}ngOnInit(){super.ngOnInit(),this.createArrayFieldsProperty("inputProperties"),this.createArrayFieldsProperty("outputProperties")}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(m.E7),t.Y36(m.S),t.Y36(b))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-modal-field-type"]],features:[t._Bn([]),t.qOj],decls:53,vars:32,consts:[[3,"formGroup"],["formEl",""],[1,"grid"],[1,"col-12","md:col-6"],[1,"mb-2"],["for","fieldTitle",1,"block","mb-2"],["type","text","id","fieldTitle","pInputText","","formControlName","title",1,"w-full"],["for","fieldSystemName",1,"block","mb-2"],["type","text","id","fieldSystemName","pInputText","","formControlName","name",1,"w-full","mb-2"],["for","fieldDescription",1,"block","mb-2"],["id","fieldDescription","rows","5","pInputTextarea","","formControlName","description",1,"w-full","mb-2"],[1,"grid","mb-3"],["inputId","fieldActive","styleClass","mr-2 vertical-align-middle","formControlName","isActive"],["for","fieldActive",1,"vertical-align-middle"],[3,"header"],["formArrayName","inputProperties"],["styleClass","p-datatable-sm",3,"value"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],["formArrayName","outputProperties"],["role","separator",1,"p-divider","p-component","p-divider-horizontal","p-divider-solid","p-divider-left"],[1,"p-divider-content"],["styleClass","block w-full text-left mb-3","severity","error",3,"text",4,"ngIf"],[1,"text-right","pt-2"],["pButton","","pRipple","","type","button","icon","pi pi-check",1,"p-button-success","p-button-raised","w-full","md:w-auto","mb-2","md:mb-0","md:ml-2",3,"label","click"],["pButton","","pRipple","","type","button","icon","pi pi-check",1,"p-button-warning","p-button-raised","w-full","md:w-auto","mb-2","md:mb-0","md:ml-2",3,"label","click"],["pButton","","pRipple","","type","button",1,"p-button-secondary","p-button-raised","w-full","md:w-auto","mb-2","md:mb-0","md:ml-2",3,"label","click"],["class","loading-overlay",4,"ngIf"],[3,"formGroupName"],["type","text","pInputText","","formControlName","name",1,"p-inputtext-sm","w-full"],["type","text","pInputText","","formControlName","title",1,"p-inputtext-sm","w-full"],["type","text","pInputText","","formControlName","default_value",1,"p-inputtext-sm","w-full"],["pButton","","pRipple","","type","button","icon","pi pi-times","tooltipPosition","bottom",1,"p-button-raised","p-button-rounded","p-button-secondary","p-button-sm",3,"pTooltip","click"],["colspan","4",1,"text-center"],["type","button","pButton","","pRipple","","icon","pi pi-plus",1,"p-button-secondary","p-button-sm",3,"label","click"],["styleClass","block w-full text-left mb-3","severity","error",3,"text"],[1,"loading-overlay"]],template:function(e,n){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"form",0,1),t.TgZ(3,"div",2),t.TgZ(4,"div",3),t.TgZ(5,"div",4),t.TgZ(6,"label",5),t._uU(7),t.ALo(8,"translate"),t.qZA(),t._UZ(9,"input",6),t.qZA(),t.TgZ(10,"div",4),t.TgZ(11,"label",7),t._uU(12),t.ALo(13,"translate"),t.qZA(),t._UZ(14,"input",8),t.qZA(),t.qZA(),t.TgZ(15,"div",3),t.TgZ(16,"label",9),t._uU(17),t.ALo(18,"translate"),t.qZA(),t._UZ(19,"textarea",10),t.qZA(),t.qZA(),t.TgZ(20,"div",11),t.TgZ(21,"div",3),t.TgZ(22,"div"),t._UZ(23,"p-inputSwitch",12),t.TgZ(24,"label",13),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(27,"p-accordion"),t.TgZ(28,"p-accordionTab",14),t.ALo(29,"translate"),t.TgZ(30,"div",15),t.TgZ(31,"p-table",16),t.YNc(32,Bt,11,9,"ng-template",17),t.YNc(33,jt,10,4,"ng-template",18),t.YNc(34,Ht,4,3,"ng-template",19),t.qZA(),t.qZA(),t.qZA(),t.TgZ(35,"p-accordionTab",14),t.ALo(36,"translate"),t.TgZ(37,"div",20),t.TgZ(38,"p-table",16),t.YNc(39,Gt,11,9,"ng-template",17),t.YNc(40,$t,10,4,"ng-template",18),t.YNc(41,zt,4,3,"ng-template",19),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(42,"div",21),t._UZ(43,"div",22),t.qZA(),t.YNc(44,Vt,1,1,"p-message",23),t.TgZ(45,"div",24),t.TgZ(46,"button",25),t.NdJ("click",function(p){return n.saveData(!0,p)}),t.ALo(47,"translate"),t.qZA(),t.TgZ(48,"button",26),t.NdJ("click",function(p){return n.saveData(!1,p)}),t.ALo(49,"translate"),t.qZA(),t.TgZ(50,"button",27),t.NdJ("click",function(p){return n.dismissModal(p)}),t.ALo(51,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(52,Xt,2,0,"div",28)),2&e&&(t.xp6(1),t.Q6J("formGroup",n.form),t.xp6(6),t.hij(" ",t.lcZ(8,14,"TITLE")," "),t.xp6(5),t.hij(" ",t.lcZ(13,16,"SYSTEM_NAME")," "),t.xp6(5),t.hij(" ",t.lcZ(18,18,"DESCRIPTION")," "),t.xp6(8),t.hij(" ",t.lcZ(26,20,"ACTIVE")," "),t.xp6(3),t.Q6J("header",t.lcZ(29,22,"INPUT_OPTIONS")),t.xp6(3),t.Q6J("value",n.arrayFields.inputProperties.controls),t.xp6(4),t.Q6J("header",t.lcZ(36,24,"OUTPUT_OPTIONS")),t.xp6(3),t.Q6J("value",n.arrayFields.outputProperties.controls),t.xp6(6),t.Q6J("ngIf",n.errorMessage),t.xp6(2),t.Q6J("label",t.lcZ(47,26,"SAVE_AND_CLOSE")),t.xp6(2),t.Q6J("label",t.lcZ(49,28,"SAVE")),t.xp6(2),t.Q6J("label",t.lcZ(51,30,"CLOSE")),t.xp6(2),t.Q6J("ngIf",n.loading))},directives:[r._Y,r.JL,r.sg,r.Fj,x.o,r.JJ,r.u,P.g,Y.Ql,V.UQ,V.US,r.CE,d.iA,_.jx,T.O5,h.Hq,C.H,r.x0,Q.u,q.q,w.G],pipes:[g.X$],encapsulation:2}),o})();function Kt(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",10),t.TgZ(1,"div",11),t._UZ(2,"i",12),t.TgZ(3,"input",13),t.NdJ("input",function(){return t.CHM(e),t.oxw().onInputSearch()})("ngModelChange",function(i){return t.CHM(e),t.oxw().queryOptions.search_word=i}),t.ALo(4,"translate"),t.qZA(),t.qZA(),t.TgZ(5,"div",14),t.TgZ(6,"button",15),t.NdJ("click",function(i){return t.CHM(e),t.oxw(),t.MAs(8).toggle(i)}),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"button",16),t.NdJ("click",function(i){return t.CHM(e),t.oxw().openModal(null,i)}),t.ALo(9,"translate"),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(3),t.MGl("placeholder","",t.lcZ(4,4,"SEARCH"),"..."),t.Q6J("ngModel",e.queryOptions.search_word),t.xp6(3),t.Q6J("label",t.lcZ(7,6,"ACTIONS")),t.xp6(2),t.Q6J("label",t.lcZ(9,8,"ADD"))}}function te(o,l){if(1&o&&(t.TgZ(0,"th",18),t._uU(1),t.ALo(2,"translate"),t._UZ(3,"p-sortIcon",19),t.qZA()),2&o){const e=l.$implicit;t.Q6J("pSortableColumn",e.field),t.xp6(1),t.hij(" ",t.lcZ(2,3,e.header)," "),t.xp6(2),t.Q6J("field",e.field)}}function ee(o,l){if(1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"th"),t._UZ(2,"p-tableHeaderCheckbox"),t.qZA(),t.YNc(3,te,4,5,"th",17),t.qZA()),2&o){const e=l.$implicit;t.xp6(3),t.Q6J("ngForOf",e)}}function ne(o,l){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",25),t.TgZ(2,"button",26),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit;return t.oxw().openModal(i)}),t.qZA(),t.TgZ(3,"button",27),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit;return t.oxw().deleteItem(i)}),t.qZA(),t.qZA(),t.BQk()}}function oe(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"td"),t.TgZ(1,"app-render-output",23),t.NdJ("changeRequest",function(i){return t.CHM(e),t.oxw(2).onOptionUpdate(i)}),t.qZA(),t.YNc(2,ne,4,0,"ng-container",24),t.qZA()}if(2&o){const e=l.$implicit,n=l.index,i=t.oxw(),p=i.$implicit,s=i.columns;t.xp6(1),t.Q6J("value",p[e.field])("key",e.field)("outputType",e.outputType)("options",e.outputProperties)("object",p),t.xp6(1),t.Q6J("ngIf",s.length==n+1)}}function ie(o,l){if(1&o&&(t.TgZ(0,"tr",20),t.TgZ(1,"td"),t._UZ(2,"p-tableCheckbox",21),t.qZA(),t.YNc(3,oe,3,6,"td",22),t.qZA()),2&o){const e=l.$implicit,n=l.columns;t.Q6J("pContextMenuRow",e),t.xp6(2),t.Q6J("value",e),t.xp6(1),t.Q6J("ngForOf",n)}}function le(o,l){1&o&&(t.ynx(0),t._uU(1),t.ALo(2,"translate"),t.BQk()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"NOTHING_FOUND"),". "))}function pe(o,l){1&o&&(t._uU(0),t.ALo(1,"translate")),2&o&&t.hij(" ",t.lcZ(1,1,"EMPTY"),". ")}function re(o,l){if(1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"td",28),t.YNc(2,le,3,3,"ng-container",29),t.YNc(3,pe,2,3,"ng-template",null,30,t.W1O),t.qZA(),t.qZA()),2&o){const e=l.$implicit,n=t.MAs(4),i=t.oxw();t.xp6(1),t.Q6J("colSpan",e.length+1),t.xp6(1),t.Q6J("ngIf",i.queryOptions.search_word)("ngIfElse",n)}}const se=[{path:"",component:W,children:[{path:"",redirectTo:"category/"},{path:"category",redirectTo:"category/"},{path:"category/:categoryId",component:dt},{path:"content_types",component:Dt},{path:"field_types",component:(()=>{class o extends O.p{constructor(e,n,i,p,s,a){super(e,n,i,p,s,a),this.dialogService=e,this.contentTypesService=n,this.dataService=i,this.translateService=p,this.messageService=s,this.confirmationService=a,this.queryOptions=new v.J(1,12,"name","desc"),this.items=[],this.cols=[{field:"id",header:"ID",outputType:"text-center",outputProperties:{}},{field:"title",header:"TITLE",outputType:"text",outputProperties:{}},{field:"name",header:"SYSTEM_NAME",outputType:"text",outputProperties:{}},{field:"isActive",header:"STATUS",outputType:"boolean",outputProperties:{}}]}ngOnInit(){super.ngOnInit(),this.menuItems.push({label:this.getLangString("DISABLE_ENABLE"),icon:"pi pi-times-circle",command:()=>{this.blockSelected()}})}getModalComponent(){return Wt}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(m.xA),t.Y36(y.s),t.Y36(b),t.Y36(g.sK),t.Y36(_.ez),t.Y36(_.YP))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-catalog-category"]],features:[t._Bn([m.xA,_.YP,b]),t.qOj],decls:11,vars:19,consts:[["styleClass","p-datatable-striped","dataKey","id",3,"selection","contextMenuSelection","contextMenu","sortField","sortOrder","lazy","paginator","showJumpToPageDropdown","value","columns","rows","totalRecords","loading","selectionChange","contextMenuSelectionChange","onLazyLoad"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["icon","pi pi-exclamation-triangle",3,"header"],["styleClass","p-menu-nowrap",3,"popup","model"],["menu",""],[3,"model"],["contextMenu",""],[1,"flex","md:justify-content-between","flex-wrap"],[1,"p-input-icon-left","w-full","md:w-auto","mb-2","md:mb-0"],[1,"pi","pi-search"],["pInputText","","type","text",1,"lg:w-auto","w-full",3,"ngModel","placeholder","input","ngModelChange"],[1,"w-full","md:w-auto"],["type","button","pButton","","pRipple","","icon","pi pi-chevron-down","iconPos","left",1,"ml-0","md:ml-2","w-full","md:w-auto","mb-2","md:mb-0",3,"label","click"],["type","button","pButton","","pRipple","","icon","pi pi-plus","iconPos","left",1,"p-button-success","ml-0","md:ml-2","w-full","md:w-auto",3,"label","click"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[1,"show-on-hover-parent",3,"pContextMenuRow"],[3,"value"],[4,"ngFor","ngForOf"],[3,"value","key","outputType","options","object","changeRequest"],[4,"ngIf"],[1,"absolute","show-on-hover","pos-top10","pos-right10"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button","p-button-sm","p-button-rounded","p-button-info",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button","p-button-sm","p-button-rounded","p-button-danger","ml-2",3,"click"],[3,"colSpan"],[4,"ngIf","ngIfElse"],["emptyMessage",""]],template:function(e,n){if(1&e&&(t.TgZ(0,"p-table",0),t.NdJ("selectionChange",function(p){return n.itemsSelected=p})("contextMenuSelectionChange",function(p){return n.itemSelected=p})("onLazyLoad",function(p){return n.getData(p)}),t.YNc(1,Kt,10,10,"ng-template",1),t.YNc(2,ee,4,1,"ng-template",2),t.YNc(3,ie,4,3,"ng-template",3),t.YNc(4,re,5,3,"ng-template",4),t.qZA(),t._UZ(5,"p-confirmDialog",5),t.ALo(6,"translate"),t._UZ(7,"p-menu",6,7),t._UZ(9,"p-contextMenu",8,9)),2&e){const i=t.MAs(10);t.Q6J("selection",n.itemsSelected)("contextMenuSelection",n.itemSelected)("contextMenu",i)("sortField",n.queryOptions.sort_by)("sortOrder","asc"==n.queryOptions.sort_dir?1:-1)("lazy",!0)("paginator",!0)("showJumpToPageDropdown",!0)("value",n.items)("columns",n.cols)("rows",n.queryOptions.limit)("totalRecords",n.itemsTotal)("loading",n.loading),t.xp6(5),t.Q6J("header",t.lcZ(6,17,"CONFIRM")),t.xp6(2),t.Q6J("popup",!0)("model",n.menuItems),t.xp6(2),t.Q6J("model",n.contextMenuItems)}},directives:[d.iA,_.jx,k.Q,E.v2,I.xV,r.Fj,x.o,r.JJ,r.On,h.Hq,C.H,d.Mo,T.sg,d.lQ,d.fz,d.zi,d.UA,N.g,T.O5],pipes:[g.X$],encapsulation:2}),o})()}]}];let ae=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[Z.Bz.forChild(se)],Z.Bz]}),o})(),ce=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[],imports:[[T.ez,X.m,ae]]}),o})()}}]);