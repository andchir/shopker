"use strict";(self.webpackChunkadmin2=self.webpackChunkadmin2||[]).push([[245],{2245:(de,Q,s)=>{s.r(Q),s.d(Q,{CatalogModule:()=>oe});var g=s(9808),$=s(1113),f=s(7854),t=s(7587),_=s(2466);let G=(()=>{class o{navBarToggle(){window.document.querySelector(".layout-sidebar").classList.toggle("active"),window.document.querySelector(".layout-mask").classList.toggle("layout-mask-active")}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-catalog"]],features:[t._Bn([])],decls:24,vars:12,consts:[[1,"layout-topbar","justify-content-between"],["type","button",1,"menu-button",3,"click"],[1,"pi","pi-bars"],[1,"layout-topbar-header","text-3xl","text-600"],[1,"fi","fi-br-cube","vertical-align-middle","mr-3"],[1,"vertical-align-middle"],[1,"topbar-menu"],["routerLinkActive","active"],["routerLink","category"],["routerLink","content_types"],["routerLink","field_types"],[1,"layout-content"],[1,"content-section","min-height400","bg-white"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"button",1),t.NdJ("click",function(){return n.navBarToggle()}),t._UZ(2,"i",2),t.qZA(),t.TgZ(3,"span",3),t._UZ(4,"i",4),t.TgZ(5,"span",5),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.qZA(),t.TgZ(8,"ul",6),t.TgZ(9,"li",7),t.TgZ(10,"a",8),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.qZA(),t.TgZ(13,"li",7),t.TgZ(14,"a",9),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.qZA(),t.TgZ(17,"li",7),t.TgZ(18,"a",10),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"div",11),t.TgZ(22,"div",12),t._UZ(23,"router-outlet"),t.qZA(),t.qZA()),2&e&&(t.xp6(6),t.Oqu(t.lcZ(7,4,"CATALOG")),t.xp6(5),t.Oqu(t.lcZ(12,6,"CATALOG")),t.xp6(4),t.Oqu(t.lcZ(16,8,"CONTENT_TYPES")),t.xp6(4),t.Oqu(t.lcZ(20,10,"FIELD_TYPES")))},directives:[f.Od,f.yS,f.lC],pipes:[_.X$],encapsulation:2}),o})();var Y=s(2722),d=s(5330),m=s(9783),I=s(6421),N=s(608),y=s(520);let M=(()=>{class o extends N.D{constructor(e){super(e),this.setRequestUrl("/admin/products")}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(y.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})();var L=s(511),r=s(3075),x=s(846),Z=s(845),h=s(5787),v=s(3724),q=s(6198);function z(o,l){if(1&o&&t._UZ(0,"p-message",10),2&o){const e=t.oxw();t.Q6J("text",e.errorMessage)}}function X(o,l){1&o&&(t.TgZ(0,"div",11),t._UZ(1,"p-progressSpinner"),t.qZA())}let V=(()=>{class o extends x.P{constructor(e,n,i){super(e,n,i),this.ref=e,this.config=n,this.dataService=i,this.model={id:0,parentId:0},this.form=new r.cw({id:new r.NI("",[])})}ngOnInit(){super.ngOnInit()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(d.E7),t.Y36(d.S),t.Y36(M))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-modal-product"]],features:[t._Bn([]),t.qOj],decls:14,vars:12,consts:[[3,"formGroup"],["formEl",""],["role","separator",1,"p-divider","p-component","p-divider-horizontal","p-divider-solid","p-divider-left"],[1,"p-divider-content"],["styleClass","block w-full text-left mb-3","severity","error",3,"text",4,"ngIf"],[1,"text-right","pt-2"],["pButton","","pRipple","","type","button","icon","pi pi-check",1,"p-button-success","p-button-raised","w-full","md:w-auto","mb-2","md:mb-0","md:ml-2",3,"label","click"],["pButton","","pRipple","","type","button","icon","pi pi-check",1,"p-button-warning","p-button-raised","w-full","md:w-auto","mb-2","md:mb-0","md:ml-2",3,"label","click"],["pButton","","pRipple","","type","button",1,"p-button-secondary","p-button-raised","w-full","md:w-auto","mb-2","md:mb-0","md:ml-2",3,"label","click"],["class","loading-overlay",4,"ngIf"],["styleClass","block w-full text-left mb-3","severity","error",3,"text"],[1,"loading-overlay"]],template:function(e,n){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"form",0,1),t.TgZ(3,"div",2),t._UZ(4,"div",3),t.qZA(),t.YNc(5,z,1,1,"p-message",4),t.TgZ(6,"div",5),t.TgZ(7,"button",6),t.NdJ("click",function(p){return n.saveData(!0,p)}),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"button",7),t.NdJ("click",function(p){return n.saveData(!1,p)}),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"button",8),t.NdJ("click",function(p){return n.dismissModal(p)}),t.ALo(12,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(13,X,2,0,"div",9)),2&e&&(t.xp6(1),t.Q6J("formGroup",n.form),t.xp6(4),t.Q6J("ngIf",n.errorMessage),t.xp6(2),t.Q6J("label",t.lcZ(8,6,"SAVE_AND_CLOSE")),t.xp6(2),t.Q6J("label",t.lcZ(10,8,"SAVE")),t.xp6(2),t.Q6J("label",t.lcZ(12,10,"CLOSE")),t.xp6(2),t.Q6J("ngIf",n.loading))},directives:[r._Y,r.JL,r.sg,g.O5,Z.Hq,h.H,v.q,q.G],pipes:[_.X$],encapsulation:2}),o})();var C=s(889),F=s(262);let K=(()=>{class o extends N.D{constructor(e){super(e),this.setRequestUrl("/admin/categories")}getTree(e=0,n=!0){let i=new y.LE;return i=i.append("expanded",n?"1":"0"),this.http.get(this.getRequestUrl()+`/tree/${e}`,{params:i}).pipe((0,F.K)(this.handleError()))}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(y.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var u=s(4851),J=s(9114),O=s(1874),A=s(1424),w=s(6572);function W(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",8),t.TgZ(1,"div",9),t._UZ(2,"i",10),t.TgZ(3,"input",11),t.NdJ("input",function(){return t.CHM(e),t.oxw().onInputSearch()})("ngModelChange",function(i){return t.CHM(e),t.oxw().queryOptions.search_word=i}),t.ALo(4,"translate"),t.qZA(),t.qZA(),t.TgZ(5,"div",12),t.TgZ(6,"button",13),t.NdJ("click",function(i){return t.CHM(e),t.oxw(),t.MAs(8).toggle(i)}),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"button",14),t.NdJ("click",function(i){return t.CHM(e),t.oxw().openModal(null,i)}),t.ALo(9,"translate"),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(3),t.MGl("placeholder","",t.lcZ(4,4,"SEARCH"),"..."),t.Q6J("ngModel",e.queryOptions.search_word),t.xp6(3),t.Q6J("label",t.lcZ(7,6,"ACTIONS")),t.xp6(2),t.Q6J("label",t.lcZ(9,8,"ADD"))}}function tt(o,l){if(1&o&&(t.TgZ(0,"th",16),t._uU(1),t.ALo(2,"translate"),t._UZ(3,"p-sortIcon",17),t.qZA()),2&o){const e=l.$implicit;t.Q6J("pSortableColumn",e.field),t.xp6(1),t.hij(" ",t.lcZ(2,3,e.header)," "),t.xp6(2),t.Q6J("field",e.field)}}function et(o,l){if(1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"th"),t._UZ(2,"p-tableHeaderCheckbox"),t.qZA(),t.YNc(3,tt,4,5,"th",15),t.qZA()),2&o){const e=l.$implicit;t.xp6(3),t.Q6J("ngForOf",e)}}function ot(o,l){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",23),t.TgZ(2,"button",24),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit;return t.oxw().openModal(i)}),t.qZA(),t.TgZ(3,"button",25),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit;return t.oxw().deleteItem(i)}),t.qZA(),t.qZA(),t.BQk()}}function nt(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"td"),t.TgZ(1,"app-render-output",21),t.NdJ("changeRequest",function(i){return t.CHM(e),t.oxw(2).onOptionUpdate(i)}),t.qZA(),t.YNc(2,ot,4,0,"ng-container",22),t.qZA()}if(2&o){const e=l.$implicit,n=l.index,i=t.oxw(),p=i.$implicit,a=i.columns;t.xp6(1),t.Q6J("value",p[e.field])("key",e.field)("outputType",e.outputType)("options",e.outputProperties)("object",p),t.xp6(1),t.Q6J("ngIf",a.length==n+1)}}function it(o,l){if(1&o&&(t.TgZ(0,"tr",18),t.TgZ(1,"td"),t._UZ(2,"p-tableCheckbox",19),t.qZA(),t.YNc(3,nt,3,6,"td",20),t.qZA()),2&o){const e=l.$implicit,n=l.columns;t.xp6(2),t.Q6J("value",e),t.xp6(1),t.Q6J("ngForOf",n)}}function lt(o,l){1&o&&(t.ynx(0),t._uU(1),t.ALo(2,"translate"),t.BQk()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"NOTHING_FOUND"),". "))}function pt(o,l){1&o&&(t._uU(0),t.ALo(1,"translate")),2&o&&t.hij(" ",t.lcZ(1,1,"EMPTY"),". ")}function rt(o,l){if(1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"td",26),t.YNc(2,lt,3,3,"ng-container",27),t.YNc(3,pt,2,3,"ng-template",null,28,t.W1O),t.qZA(),t.qZA()),2&o){const e=l.$implicit,n=t.MAs(4),i=t.oxw();t.xp6(1),t.Q6J("colSpan",e.length+1),t.xp6(1),t.Q6J("ngIf",i.queryOptions.search_word)("ngIfElse",n)}}let at=(()=>{class o extends I.p{constructor(e,n,i,p,a,c,T,b,S){super(e,n,i,p,a,c),this.dialogService=e,this.contentTypesService=n,this.dataService=i,this.translateService=p,this.messageService=a,this.confirmationService=c,this.categoriesService=T,this.router=b,this.route=S,this.queryOptions=new L.J(1,12,"id","desc"),this.items=[],this.cols=[]}ngOnInit(){super.ngOnInit(),this.menuItems.push({label:this.getLangString("DISABLE_ENABLE"),icon:"pi pi-times-circle",command:()=>{this.blockSelected()}}),this.route.paramMap.pipe((0,Y.R)(this.destroyed$)).subscribe(e=>{this.categoryId=e.get("categoryId")?parseInt(e.get("categoryId"),10):0,this.openCategory()})}getContentType(){return this.contentTypesService.getItemByName(this.currentCategory.contentTypeName)}openCategory(){this.dataService.setRequestUrl(`/admin/products/${this.categoryId}`),this.categoriesService.getItem(this.categoryId).subscribe({next:e=>{this.currentCategory=e,this.currentContentType=e.contentType,this.updateTableConfig(),this.getData()},error:()=>{this.loading=!1}})}getData(e){!this.currentContentType||super.getData()}getModalComponent(){return V}updateTableConfig(){!this.currentContentType||(this.cols=[],this.currentContentType.fields.forEach(e=>{this.cols.push({field:e.name,header:e.title,outputType:e.outputType,outputProperties:e.outputProperties})}),this.cols.unshift({field:"id",header:"ID",outputType:"text-center",outputProperties:{}}),this.cols.push({field:"isActive",header:"STATUS",outputType:"boolean",outputProperties:{}}))}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(d.xA),t.Y36(C.s),t.Y36(M),t.Y36(_.sK),t.Y36(m.ez),t.Y36(m.YP),t.Y36(K),t.Y36(f.F0),t.Y36(f.gz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-catalog-category"]],features:[t._Bn([d.xA,m.YP,M]),t.qOj],decls:9,vars:16,consts:[["styleClass","p-datatable-striped","dataKey","id",3,"selection","sortField","sortOrder","lazy","paginator","showJumpToPageDropdown","value","columns","rows","totalRecords","loading","selectionChange","onLazyLoad"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["icon","pi pi-exclamation-triangle",3,"header"],["styleClass","p-menu-nowrap",3,"popup","model"],["menu",""],[1,"flex","md:justify-content-between","flex-wrap"],[1,"p-input-icon-left","w-full","md:w-auto","mb-2","md:mb-0"],[1,"pi","pi-search"],["pInputText","","type","text",1,"lg:w-auto","w-full",3,"ngModel","placeholder","input","ngModelChange"],[1,"w-full","md:w-auto"],["type","button","pButton","","pRipple","","icon","pi pi-chevron-down","iconPos","left",1,"ml-0","md:ml-2","w-full","md:w-auto","mb-2","md:mb-0",3,"label","click"],["type","button","pButton","","pRipple","","icon","pi pi-plus","iconPos","left",1,"p-button-success","ml-0","md:ml-2","w-full","md:w-auto",3,"label","click"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[1,"show-on-hover-parent"],[3,"value"],[4,"ngFor","ngForOf"],[3,"value","key","outputType","options","object","changeRequest"],[4,"ngIf"],[1,"absolute","show-on-hover","pos-top10","pos-right10"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button","p-button-sm","p-button-rounded","p-button-info",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button","p-button-sm","p-button-rounded","p-button-danger","ml-2",3,"click"],[3,"colSpan"],[4,"ngIf","ngIfElse"],["emptyMessage",""]],template:function(e,n){1&e&&(t.TgZ(0,"p-table",0),t.NdJ("selectionChange",function(p){return n.itemsSelected=p})("onLazyLoad",function(p){return n.getData(p)}),t.YNc(1,W,10,10,"ng-template",1),t.YNc(2,et,4,1,"ng-template",2),t.YNc(3,it,4,2,"ng-template",3),t.YNc(4,rt,5,3,"ng-template",4),t.qZA(),t._UZ(5,"p-confirmDialog",5),t.ALo(6,"translate"),t._UZ(7,"p-menu",6,7)),2&e&&(t.Q6J("selection",n.itemsSelected)("sortField",n.queryOptions.sort_by)("sortOrder","asc"==n.queryOptions.sort_dir?1:-1)("lazy",!0)("paginator",!0)("showJumpToPageDropdown",!0)("value",n.items)("columns",n.cols)("rows",n.queryOptions.limit)("totalRecords",n.itemsTotal)("loading",n.loading),t.xp6(5),t.Q6J("header",t.lcZ(6,14,"CONFIRM")),t.xp6(2),t.Q6J("popup",!0)("model",n.menuItems))},directives:[u.iA,m.jx,J.Q,O.v2,r.Fj,A.o,r.JJ,r.On,Z.Hq,h.H,u.Mo,g.sg,u.lQ,u.fz,u.UA,w.g,g.O5],pipes:[_.X$],encapsulation:2}),o})();var P=s(7489);class D{constructor(l,e,n,i,p,a,c,T,b){this.id=l,this.name=e,this.title=n,this.description=i,this.collection=p,this.fields=a,this.groups=c,this.isActive=T,this.isCreateByUsersAllowed=b,this.isCreateByUsersAllowed||(this.isCreateByUsersAllowed=!1)}static getSystemFieldName(l){const e=(0,P.findIndex)(l.fields,{inputType:"system_name"});return e>-1?l.fields[e].name:"name"}static getFieldByName(l,e){const n=(0,P.findIndex)(l.fields,{name:e});return n>-1?l.fields[n]:null}}var st=s(9646);let R=(()=>{class o{constructor(e){this.http=e,this.headers=new y.WM({"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}),this.requestUrl="/admin/collections"}setRequestUrl(e){this.requestUrl=e}getRequestUrl(){return this.requestUrl}getList(){return this.http.get(this.getRequestUrl()).pipe((0,F.K)(this.handleError()))}deleteItemByName(e){const n=`${this.getRequestUrl()}/${e}`;return this.http.delete(n,{headers:this.headers}).pipe((0,F.K)(this.handleError()))}handleError(e="operation",n){return i=>{if(i.error)throw i.error;return(0,st.of)(n)}}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(y.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})();class U{constructor(l,e,n,i,p,a,c,T,b,S,ne,ie,le,pe,re,ae,se,ce,ue){this.id=l,this.name=e,this.title=n,this.description=i,this.inputType=p,this.inputProperties=a,this.outputType=c,this.outputProperties=T,this.group=b,this.required=S,this.isFilter=ne,this.showInTable=ie,this.showOnPage=le,this.showInList=pe,this.options=re,this.inputTypeMain=ae,this.filterOrder=se,this.listOrder=ce,this.pageOrder=ue,void 0===this.filterOrder&&(this.filterOrder=0),void 0===this.listOrder&&(this.listOrder=0),void 0===this.required&&(this.required=!1),void 0===this.isFilter&&(this.isFilter=!1),void 0===this.showInTable&&(this.showInTable=!0),void 0===this.showOnPage&&(this.showOnPage=!0),void 0===this.showInList&&(this.showInList=!1),void 0===this.options&&(this.options=[])}static getFieldBaseName(l){if(l.indexOf("__")>-1){const e=l.split("__");isNaN(e[1])||(l=e[0])}return l}static getFieldIndexData(l,e){let n=-1,i=0;const p=U.getFieldBaseName(e);return l.forEach((a,c)=>{a.name===e&&(n=c),a.name.indexOf(`${p}__`)>-1&&i++}),{index:n,additFieldsCount:i}}}var k=s(3407);const ct=["formEl"];function ut(o,l){if(1&o&&t._UZ(0,"p-message",17),2&o){const e=t.oxw();t.Q6J("text",e.errorMessage)}}function dt(o,l){1&o&&(t.TgZ(0,"div",18),t._UZ(1,"p-progressSpinner"),t.qZA())}let mt=(()=>{class o extends x.P{constructor(e,n,i){super(e,n,i),this.ref=e,this.config=n,this.dataService=i,this.model=new D(0,"","","","",[],[],!0),this.fieldModel=new U(0,"","","","",{},"",{},""),this.form=new r.cw({id:new r.NI("",[]),title:new r.NI("",[r.kI.required]),name:new r.NI("",[r.kI.required,r.kI.pattern("[A-Za-z0-9_-]+")]),description:new r.NI("",[]),inputType:new r.NI("",[r.kI.required]),outputType:new r.NI("",[r.kI.required]),group:new r.NI("",[r.kI.required]),required:new r.NI(!1,[]),showInTable:new r.NI(!1,[]),showOnPage:new r.NI(!1,[]),showInList:new r.NI(!1,[]),isFilter:new r.NI(!1,[])})}ngOnInit(){this.fieldModel=this.config.data,super.ngOnInit()}updateControls(){const e=this.form.controls;Object.keys(e).forEach(n=>{void 0!==this.fieldModel[n]&&(Array.isArray(this.fieldModel[n])&&this.arrayFields[n]?this.fieldModel[n].forEach((i,p)=>{this.arrayFieldAdd(n,i)}):e[n].setValue(this.fieldModel[n]))})}saveData(e=!1,n){if(n&&n.preventDefault(),this.errorMessage="",!this.form.valid)return this.formGroupMarkTouched(this.form),void this.focusFormError();console.log(this.form.value)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(d.E7),t.Y36(d.S),t.Y36(C.s))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-modal-content-type-field"]],viewQuery:function(e,n){if(1&e&&t.Gf(ct,5),2&e){let i;t.iGM(i=t.CRH())&&(n.formEl=i.first)}},features:[t._Bn([]),t.qOj],decls:28,vars:18,consts:[[3,"formGroup"],["formEl",""],[1,"grid"],[1,"col-12","md:col-6"],[1,"mb-2"],["for","contentTypeFieldTitle",1,"block","mb-2"],["type","text","id","contentTypeFieldTitle","pInputText","","formControlName","title",1,"w-full"],["for","contentTypeFieldName",1,"block","mb-2"],["type","text","id","contentTypeFieldName","pInputText","","formControlName","name",1,"w-full"],[1,"mb-3"],["for","contentTypeFieldDescription",1,"block","mb-2"],["id","contentTypeFieldDescription","rows","5","pInputTextarea","","formControlName","description",1,"w-full","mb-2"],["styleClass","block w-full text-left mb-3","severity","error",3,"text",4,"ngIf"],[1,"text-right","pt-2"],["pButton","","pRipple","","type","button","icon","pi pi-check",1,"p-button-success","p-button-raised","w-full","md:w-auto","mb-2","md:mb-0","md:ml-2",3,"label","click"],["pButton","","pRipple","","type","button",1,"p-button-secondary","p-button-raised","w-full","md:w-auto","mb-2","md:mb-0","md:ml-2",3,"label","click"],["class","loading-overlay",4,"ngIf"],["styleClass","block w-full text-left mb-3","severity","error",3,"text"],[1,"loading-overlay"]],template:function(e,n){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"form",0,1),t.TgZ(3,"div",2),t.TgZ(4,"div",3),t.TgZ(5,"div",4),t.TgZ(6,"label",5),t._uU(7),t.ALo(8,"translate"),t.qZA(),t._UZ(9,"input",6),t.qZA(),t.TgZ(10,"div"),t.TgZ(11,"label",7),t._uU(12),t.ALo(13,"translate"),t.qZA(),t._UZ(14,"input",8),t.qZA(),t.qZA(),t.TgZ(15,"div",3),t.TgZ(16,"div",9),t.TgZ(17,"label",10),t._uU(18),t.ALo(19,"translate"),t.qZA(),t._UZ(20,"textarea",11),t.qZA(),t.qZA(),t.qZA(),t.YNc(21,ut,1,1,"p-message",12),t.TgZ(22,"div",13),t.TgZ(23,"button",14),t.NdJ("click",function(p){return n.saveData(!0,p)}),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"button",15),t.NdJ("click",function(p){return n.dismissModal(p)}),t.ALo(26,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(27,dt,2,0,"div",16)),2&e&&(t.xp6(1),t.Q6J("formGroup",n.form),t.xp6(6),t.hij(" ",t.lcZ(8,8,"TITLE")," "),t.xp6(5),t.hij(" ",t.lcZ(13,10,"SYSTEM_NAME")," "),t.xp6(6),t.hij(" ",t.lcZ(19,12,"DESCRIPTION")," "),t.xp6(3),t.Q6J("ngIf",n.errorMessage),t.xp6(2),t.Q6J("label",t.lcZ(24,14,"SAVE_AND_CLOSE")),t.xp6(2),t.Q6J("label",t.lcZ(26,16,"CLOSE")),t.xp6(2),t.Q6J("ngIf",n.loading))},directives:[r._Y,r.JL,r.sg,r.Fj,A.o,r.JJ,r.u,k.g,g.O5,Z.Hq,h.H,v.q,q.G],pipes:[_.X$],encapsulation:2}),o})();var B=s(4119),_t=s(4036),gt=s(8061),j=s(242);const Tt=["panelAddCollection"],ft=["panelAddGroup"];function Zt(o,l){if(1&o&&t._UZ(0,"p-message",40),2&o){const e=t.oxw();t.Q6J("text",e.errorMessageTop)}}function ht(o,l){1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"th"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"th"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"th"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"th"),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.qZA()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,5,"TITLE")),t.xp6(3),t.Oqu(t.lcZ(6,7,"INPUT_TYPE")),t.xp6(3),t.Oqu(t.lcZ(9,9,"GROUP")),t.xp6(3),t.Oqu(t.lcZ(12,11,"REQUIRED")),t.xp6(3),t.Oqu(t.lcZ(15,13,"SHOW_IN_TABLE")))}function Ct(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"tr",41),t.TgZ(1,"td"),t._uU(2),t.TgZ(3,"span",42),t._uU(4),t.qZA(),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._UZ(10,"app-render-output",43),t.qZA(),t.TgZ(11,"td"),t._UZ(12,"app-render-output",43),t.TgZ(13,"div",44),t.TgZ(14,"button",45),t.NdJ("click",function(i){const a=t.CHM(e).$implicit;return t.oxw().editField(a,i)}),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"button",46),t.NdJ("click",function(i){const a=t.CHM(e).$implicit;return t.oxw().copyField(a,i)}),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"button",47),t.NdJ("click",function(i){const a=t.CHM(e).$implicit;return t.oxw().deleteField(a,i)}),t.ALo(19,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=l.$implicit;t.Q6J("pEditableRow",e),t.xp6(2),t.hij("",e.title," "),t.xp6(2),t.hij("(",e.name,")"),t.xp6(2),t.Oqu(e.inputType),t.xp6(2),t.Oqu(e.group),t.xp6(2),t.Q6J("value",e.required),t.xp6(2),t.Q6J("value",e.showInTable),t.xp6(2),t.Q6J("pTooltip",t.lcZ(15,10,"EDIT")),t.xp6(2),t.Q6J("pTooltip",t.lcZ(17,12,"COPY")),t.xp6(2),t.Q6J("pTooltip",t.lcZ(19,14,"DELETE"))}}function yt(o,l){1&o&&(t.TgZ(0,"div",48),t._UZ(1,"button",49),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.Q6J("label",t.lcZ(2,1,"ADD")))}function At(o,l){if(1&o&&t._UZ(0,"p-message",40),2&o){const e=t.oxw();t.Q6J("text",e.errorMessage)}}function bt(o,l){1&o&&(t.TgZ(0,"div",50),t._UZ(1,"p-progressSpinner"),t.qZA())}let xt=(()=>{class o extends x.P{constructor(e,n,i,p,a,c,T){super(e,n,i),this.ref=e,this.config=n,this.dataService=i,this.dialogService=p,this.translateService=a,this.collectionsService=c,this.confirmationService=T,this.model=new D(0,"","","","",[],[],!0),this.form=new r.cw({id:new r.NI("",[]),title:new r.NI("",[r.kI.required]),name:new r.NI("",[r.kI.required,r.kI.pattern("[A-Za-z0-9_-]+")]),description:new r.NI("",[]),collection:new r.NI("",[r.kI.required]),isActive:new r.NI("",[]),isCreateByUsersAllowed:new r.NI("",[])}),this.collections=["products"],this.errorMessageTop=""}ngOnInit(){super.ngOnInit(),this.getCollectionsList()}getCollectionsList(){this.collectionsService.getList().subscribe(e=>{e.length>0&&(this.collections=e)})}addCollection(e,n){if(n&&n.preventDefault(),this.errorMessageTop="",!e.value)return void e.focus();const i=e.value;this.collections.indexOf(i)>-1?this.errorMessageTop=this.getLangString("COLLECTION_EXISTS"):(this.collections.push(i),this.form.controls.collection.setValue(i),e.value="",this.panelAddCollection.nativeElement.classList.add("hidden"))}openBlock(e,n,i){i&&i.preventDefault(),e.classList.remove("hidden"),n&&n.focus(),this.errorMessageTop="",this.errorMessage=""}closeBlock(e,n){n&&n.preventDefault(),e.classList.add("hidden")}deleteCollection(){this.errorMessageTop="",this.confirmationService.confirm({message:this.getLangString("YOU_SURE_YOU_WANT_DELETE"),accept:()=>{const e=this.form.controls.collection.value;this.loading=!0,this.collectionsService.deleteItemByName(e).subscribe({next:()=>{const n=this.collections.indexOf(e);n>-1&&(this.collections.splice(n,1),this.form.controls.collection.setValue(this.collections[0]||"")),this.errorMessageTop="",this.loading=!1},error:n=>{this.errorMessageTop=n.error||"Error.",this.loading=!1}})}})}deleteField(e,n){n&&n.preventDefault();const i=this.model.fields.findIndex(p=>p.name===e.name);-1!==i?this.model.fields.splice(i,1):this.errorMessage=this.getLangString("FIELD_NOR_FOUND")}modalContentTypeField(e){this.dialogService.open(mt,{header:this.getLangString("EDIT_FIELD"),width:"600px",data:e}).onClose.pipe((0,Y.R)(this.destroyed$)).subscribe({next:()=>{console.log("CLOSED")}})}editField(e,n){n&&n.preventDefault(),console.log("editField",e);const i=Object.assign({},e);i.inputProperties&&(i.inputProperties=Object.assign({},e.inputProperties)),i.outputProperties&&(i.outputProperties=Object.assign({},e.outputProperties)),this.modalContentTypeField(i)}copyField(e,n){n&&n.preventDefault(),console.log("copyField",e)}getLangString(e){return this.translateService.store.translations[this.translateService.currentLang]&&this.translateService.store.translations[this.translateService.currentLang][e]||e}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(d.E7),t.Y36(d.S),t.Y36(C.s),t.Y36(d.xA),t.Y36(_.sK),t.Y36(R),t.Y36(m.YP))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-modal-content-type"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Tt,7),t.Gf(ft,7)),2&e){let i;t.iGM(i=t.CRH())&&(n.panelAddCollection=i.first),t.iGM(i=t.CRH())&&(n.panelAddGroup=i.first)}},features:[t._Bn([R]),t.qOj],decls:69,vars:49,consts:[[3,"formGroup"],["formEl",""],[1,"grid"],[1,"col-12","md:col-6"],[1,"mb-2"],["for","fieldTitle",1,"block","mb-2"],["type","text","id","fieldTitle","pInputText","","formControlName","title",1,"w-full"],["for","fieldSystemName",1,"block","mb-2"],["type","text","id","fieldSystemName","pInputText","","formControlName","name",1,"w-full"],["for","fieldDescription",1,"block","mb-2"],["id","fieldDescription","rows","5","pInputTextarea","","formControlName","description",1,"w-full","mb-2"],[1,"col-12","md:col-6","mb-3"],["for","fieldCollection",1,"block","mb-2"],[1,"p-inputgroup"],["type","button","pButton","","pRipple","","icon","pi pi-plus","styleClass","p-button-info","tooltipPosition","bottom",3,"pTooltip","click"],["styleClass","w-full border-noround","inputId","fieldCollection","formControlName","collection",3,"options"],["type","button","pButton","","pRipple","","icon","pi pi-times","styleClass","p-button-info","tooltipPosition","bottom",3,"pTooltip","click"],[1,"pt-3","hidden"],["panelAddCollection",""],[3,"header"],["type","text","id","fieldNewCollection","pInputText","",1,"w-full","mb-2"],["newCollectionField",""],[1,"text-right"],["type","button","pButton","","pRipple","",1,"p-button-secondary","p-button-sm","ml-2",3,"label","click"],[1,"grid","mb-3"],["inputId","fieldActive","styleClass","mr-2 vertical-align-middle","formControlName","isActive"],["for","fieldActive",1,"vertical-align-middle"],["inputId","fieldCreateByUsersAllowed","styleClass","mr-2 vertical-align-middle","formControlName","isCreateByUsersAllowed"],["for","fieldCreateByUsersAllowed",1,"vertical-align-middle"],["styleClass","block w-full text-left mb-3","severity","error",3,"text",4,"ngIf"],[1,"mb-3"],["dataKey","name","editMode","row",3,"value","loading"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],[1,"text-right","pt-2"],["pButton","","pRipple","","type","button","icon","pi pi-check",1,"p-button-success","p-button-raised","w-full","md:w-auto","mb-2","md:mb-0","md:ml-2",3,"label","click"],["pButton","","pRipple","","type","button","icon","pi pi-check",1,"p-button-warning","p-button-raised","w-full","md:w-auto","mb-2","md:mb-0","md:ml-2",3,"label","click"],["pButton","","pRipple","","type","button",1,"p-button-secondary","p-button-raised","w-full","md:w-auto","mb-2","md:mb-0","md:ml-2",3,"label","click"],["class","loading-overlay",4,"ngIf"],["styleClass","block w-full text-left mb-3","severity","error",3,"text"],[1,"show-on-hover-parent",3,"pEditableRow"],[1,"text-500"],["outputType","boolean",3,"value"],[1,"absolute","show-on-hover","pos-top10","pos-right10"],["pButton","","pRipple","","icon","pi pi-pencil","tooltipPosition","bottom",1,"p-button","p-button-sm","p-button-rounded","p-button-info",3,"pTooltip","click"],["pButton","","pRipple","","icon","pi pi-clone","tooltipPosition","bottom",1,"p-button","p-button-sm","p-button-rounded","p-button-info","ml-2",3,"pTooltip","click"],["pButton","","pRipple","","icon","pi pi-trash","tooltipPosition","bottom",1,"p-button","p-button-sm","p-button-rounded","p-button-danger","ml-2",3,"pTooltip","click"],[1,"text-center"],["type","button","pButton","","pRipple","","icon","pi pi-plus","iconPos","left",1,"p-button-secondary","p-button-sm",3,"label"],[1,"loading-overlay"]],template:function(e,n){if(1&e){const i=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"form",0,1),t.TgZ(3,"div",2),t.TgZ(4,"div",3),t.TgZ(5,"div",4),t.TgZ(6,"label",5),t._uU(7),t.ALo(8,"translate"),t.qZA(),t._UZ(9,"input",6),t.qZA(),t.TgZ(10,"div"),t.TgZ(11,"label",7),t._uU(12),t.ALo(13,"translate"),t.qZA(),t._UZ(14,"input",8),t.qZA(),t.qZA(),t.TgZ(15,"div",3),t.TgZ(16,"label",9),t._uU(17),t.ALo(18,"translate"),t.qZA(),t._UZ(19,"textarea",10),t.qZA(),t.qZA(),t.TgZ(20,"div",2),t.TgZ(21,"div",11),t.TgZ(22,"label",12),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"div",13),t.TgZ(26,"button",14),t.NdJ("click",function(a){t.CHM(i);const c=t.MAs(32),T=t.MAs(36);return n.openBlock(c,T,a)}),t.ALo(27,"translate"),t.qZA(),t._UZ(28,"p-dropdown",15),t.TgZ(29,"button",16),t.NdJ("click",function(){return n.deleteCollection()}),t.ALo(30,"translate"),t.qZA(),t.qZA(),t.TgZ(31,"div",17,18),t.TgZ(33,"p-panel",19),t.ALo(34,"translate"),t._UZ(35,"input",20,21),t.TgZ(37,"div",22),t.TgZ(38,"button",23),t.NdJ("click",function(a){t.CHM(i);const c=t.MAs(36);return n.addCollection(c,a)}),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"button",23),t.NdJ("click",function(a){t.CHM(i);const c=t.MAs(32);return n.closeBlock(c,a)}),t.ALo(41,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(42,"div",11),t.qZA(),t.TgZ(43,"div",24),t.TgZ(44,"div",3),t._UZ(45,"p-inputSwitch",25),t.TgZ(46,"label",26),t._uU(47),t.ALo(48,"translate"),t.qZA(),t.qZA(),t.TgZ(49,"div",3),t._UZ(50,"p-inputSwitch",27),t.TgZ(51,"label",28),t._uU(52),t.ALo(53,"translate"),t.qZA(),t.qZA(),t.qZA(),t.YNc(54,Zt,1,1,"p-message",29),t.TgZ(55,"div",30),t.TgZ(56,"p-table",31),t.YNc(57,ht,16,15,"ng-template",32),t.YNc(58,Ct,20,16,"ng-template",33),t.YNc(59,yt,3,3,"ng-template",34),t.qZA(),t.qZA(),t.YNc(60,At,1,1,"p-message",29),t.TgZ(61,"div",35),t.TgZ(62,"button",36),t.NdJ("click",function(a){return n.saveData(!0,a)}),t.ALo(63,"translate"),t.qZA(),t.TgZ(64,"button",37),t.NdJ("click",function(a){return n.saveData(!1,a)}),t.ALo(65,"translate"),t.qZA(),t.TgZ(66,"button",38),t.NdJ("click",function(a){return n.dismissModal(a)}),t.ALo(67,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(68,bt,2,0,"div",39)}2&e&&(t.xp6(1),t.Q6J("formGroup",n.form),t.xp6(6),t.hij(" ",t.lcZ(8,21,"TITLE")," "),t.xp6(5),t.hij(" ",t.lcZ(13,23,"SYSTEM_NAME")," "),t.xp6(5),t.hij(" ",t.lcZ(18,25,"DESCRIPTION")," "),t.xp6(6),t.hij(" ",t.lcZ(24,27,"COLLECTION")," "),t.xp6(3),t.Q6J("pTooltip",t.lcZ(27,29,"ADD_COLLECTION")),t.xp6(2),t.Q6J("options",n.collections),t.xp6(1),t.Q6J("pTooltip",t.lcZ(30,31,"DELETE")),t.xp6(4),t.Q6J("header",t.lcZ(34,33,"ADD_COLLECTION")),t.xp6(5),t.Q6J("label",t.lcZ(39,35,"ADD")),t.xp6(2),t.Q6J("label",t.lcZ(41,37,"CANCEL")),t.xp6(7),t.hij(" ",t.lcZ(48,39,"ACTIVE")," "),t.xp6(5),t.hij(" ",t.lcZ(53,41,"CREATE_BY_USERS_ALLOWED")," "),t.xp6(2),t.Q6J("ngIf",n.errorMessageTop),t.xp6(2),t.Q6J("value",n.model.fields)("loading",n.loading),t.xp6(4),t.Q6J("ngIf",n.errorMessage),t.xp6(2),t.Q6J("label",t.lcZ(63,43,"SAVE_AND_CLOSE")),t.xp6(2),t.Q6J("label",t.lcZ(65,45,"SAVE")),t.xp6(2),t.Q6J("label",t.lcZ(67,47,"CLOSE")),t.xp6(2),t.Q6J("ngIf",n.loading))},directives:[r._Y,r.JL,r.sg,r.Fj,A.o,r.JJ,r.u,k.g,Z.Hq,h.H,B.u,_t.Lt,gt.s,j.Ql,g.O5,u.iA,m.jx,v.q,u.D$,w.g,q.G],pipes:[_.X$],encapsulation:2}),o})();function vt(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",8),t.TgZ(1,"div",9),t._UZ(2,"i",10),t.TgZ(3,"input",11),t.NdJ("input",function(){return t.CHM(e),t.oxw().onInputSearch()})("ngModelChange",function(i){return t.CHM(e),t.oxw().queryOptions.search_word=i}),t.ALo(4,"translate"),t.qZA(),t.qZA(),t.TgZ(5,"div",12),t.TgZ(6,"button",13),t.NdJ("click",function(i){return t.CHM(e),t.oxw(),t.MAs(8).toggle(i)}),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"button",14),t.NdJ("click",function(i){return t.CHM(e),t.oxw().openModal(null,i)}),t.ALo(9,"translate"),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(3),t.MGl("placeholder","",t.lcZ(4,4,"SEARCH"),"..."),t.Q6J("ngModel",e.queryOptions.search_word),t.xp6(3),t.Q6J("label",t.lcZ(7,6,"ACTIONS")),t.xp6(2),t.Q6J("label",t.lcZ(9,8,"ADD"))}}function qt(o,l){if(1&o&&(t.TgZ(0,"th",16),t._uU(1),t.ALo(2,"translate"),t._UZ(3,"p-sortIcon",17),t.qZA()),2&o){const e=l.$implicit;t.Q6J("pSortableColumn",e.field),t.xp6(1),t.hij(" ",t.lcZ(2,3,e.header)," "),t.xp6(2),t.Q6J("field",e.field)}}function wt(o,l){if(1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"th"),t._UZ(2,"p-tableHeaderCheckbox"),t.qZA(),t.YNc(3,qt,4,5,"th",15),t.qZA()),2&o){const e=l.$implicit;t.xp6(3),t.Q6J("ngForOf",e)}}function It(o,l){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",23),t.TgZ(2,"button",24),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit;return t.oxw().openModal(i)}),t.qZA(),t.TgZ(3,"button",25),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit;return t.oxw().deleteItem(i)}),t.qZA(),t.qZA(),t.BQk()}}function Nt(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"td"),t.TgZ(1,"app-render-output",21),t.NdJ("changeRequest",function(i){return t.CHM(e),t.oxw(2).onOptionUpdate(i)}),t.qZA(),t.YNc(2,It,4,0,"ng-container",22),t.qZA()}if(2&o){const e=l.$implicit,n=l.index,i=t.oxw(),p=i.$implicit,a=i.columns;t.xp6(1),t.Q6J("value",p[e.field])("key",e.field)("outputType",e.outputType)("options",e.outputProperties)("object",p),t.xp6(1),t.Q6J("ngIf",a.length==n+1)}}function Mt(o,l){if(1&o&&(t.TgZ(0,"tr",18),t.TgZ(1,"td"),t._UZ(2,"p-tableCheckbox",19),t.qZA(),t.YNc(3,Nt,3,6,"td",20),t.qZA()),2&o){const e=l.$implicit,n=l.columns;t.xp6(2),t.Q6J("value",e),t.xp6(1),t.Q6J("ngForOf",n)}}function Lt(o,l){1&o&&(t.ynx(0),t._uU(1),t.ALo(2,"translate"),t.BQk()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"NOTHING_FOUND"),". "))}function Ft(o,l){1&o&&(t._uU(0),t.ALo(1,"translate")),2&o&&t.hij(" ",t.lcZ(1,1,"EMPTY"),". ")}function Jt(o,l){if(1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"td",26),t.YNc(2,Lt,3,3,"ng-container",27),t.YNc(3,Ft,2,3,"ng-template",null,28,t.W1O),t.qZA(),t.qZA()),2&o){const e=l.$implicit,n=t.MAs(4),i=t.oxw();t.xp6(1),t.Q6J("colSpan",e.length+1),t.xp6(1),t.Q6J("ngIf",i.queryOptions.search_word)("ngIfElse",n)}}let Ot=(()=>{class o extends I.p{constructor(e,n,i,p,a,c){super(e,n,i,p,a,c),this.dialogService=e,this.contentTypesService=n,this.dataService=i,this.translateService=p,this.messageService=a,this.confirmationService=c,this.queryOptions=new L.J(1,12,"name","desc"),this.items=[],this.cols=[{field:"id",header:"ID",outputType:"text-center",outputProperties:{}},{field:"title",header:"TITLE",outputType:"text",outputProperties:{}},{field:"name",header:"SYSTEM_NAME",outputType:"text",outputProperties:{}},{field:"collection",header:"COLLECTION",outputType:"text",outputProperties:{}},{field:"isActive",header:"STATUS",outputType:"boolean",outputProperties:{}}]}ngOnInit(){super.ngOnInit(),this.menuItems.push({label:this.getLangString("DISABLE_ENABLE"),icon:"pi pi-times-circle",command:()=>{this.blockSelected()}})}getModalComponent(){return xt}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(d.xA),t.Y36(C.s),t.Y36(C.s),t.Y36(_.sK),t.Y36(m.ez),t.Y36(m.YP))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-catalog-category"]],features:[t._Bn([d.xA,m.YP,C.s]),t.qOj],decls:9,vars:16,consts:[["styleClass","p-datatable-striped","dataKey","id",3,"selection","sortField","sortOrder","lazy","paginator","showJumpToPageDropdown","value","columns","rows","totalRecords","loading","selectionChange","onLazyLoad"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["icon","pi pi-exclamation-triangle",3,"header"],["styleClass","p-menu-nowrap",3,"popup","model"],["menu",""],[1,"flex","md:justify-content-between","flex-wrap"],[1,"p-input-icon-left","w-full","md:w-auto","mb-2","md:mb-0"],[1,"pi","pi-search"],["pInputText","","type","text",1,"lg:w-auto","w-full",3,"ngModel","placeholder","input","ngModelChange"],[1,"w-full","md:w-auto"],["type","button","pButton","","pRipple","","icon","pi pi-chevron-down","iconPos","left",1,"ml-0","md:ml-2","w-full","md:w-auto","mb-2","md:mb-0",3,"label","click"],["type","button","pButton","","pRipple","","icon","pi pi-plus","iconPos","left",1,"p-button-success","ml-0","md:ml-2","w-full","md:w-auto",3,"label","click"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[1,"show-on-hover-parent"],[3,"value"],[4,"ngFor","ngForOf"],[3,"value","key","outputType","options","object","changeRequest"],[4,"ngIf"],[1,"absolute","show-on-hover","pos-top10","pos-right10"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button","p-button-sm","p-button-rounded","p-button-info",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button","p-button-sm","p-button-rounded","p-button-danger","ml-2",3,"click"],[3,"colSpan"],[4,"ngIf","ngIfElse"],["emptyMessage",""]],template:function(e,n){1&e&&(t.TgZ(0,"p-table",0),t.NdJ("selectionChange",function(p){return n.itemsSelected=p})("onLazyLoad",function(p){return n.getData(p)}),t.YNc(1,vt,10,10,"ng-template",1),t.YNc(2,wt,4,1,"ng-template",2),t.YNc(3,Mt,4,2,"ng-template",3),t.YNc(4,Jt,5,3,"ng-template",4),t.qZA(),t._UZ(5,"p-confirmDialog",5),t.ALo(6,"translate"),t._UZ(7,"p-menu",6,7)),2&e&&(t.Q6J("selection",n.itemsSelected)("sortField",n.queryOptions.sort_by)("sortOrder","asc"==n.queryOptions.sort_dir?1:-1)("lazy",!0)("paginator",!0)("showJumpToPageDropdown",!0)("value",n.items)("columns",n.cols)("rows",n.queryOptions.limit)("totalRecords",n.itemsTotal)("loading",n.loading),t.xp6(5),t.Q6J("header",t.lcZ(6,14,"CONFIRM")),t.xp6(2),t.Q6J("popup",!0)("model",n.menuItems))},directives:[u.iA,m.jx,J.Q,O.v2,r.Fj,A.o,r.JJ,r.On,Z.Hq,h.H,u.Mo,g.sg,u.lQ,u.fz,u.UA,w.g,g.O5],pipes:[_.X$],encapsulation:2}),o})(),E=(()=>{class o extends N.D{constructor(e){super(e),this.setRequestUrl("/admin/field_types")}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(y.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})();class Ut{constructor(l,e,n,i,p,a,c){this.id=l,this.name=e,this.title=n,this.description=i,this.isActive=p,this.inputProperties=a,this.outputProperties=c}}var H=s(3787);function kt(o,l){1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"th"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"th"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t._UZ(10,"th"),t.qZA()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,3,"SYSTEM_NAME")),t.xp6(3),t.Oqu(t.lcZ(6,5,"NAME")),t.xp6(3),t.Oqu(t.lcZ(9,7,"DEFAULT_VALUE")))}function Et(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"tr",29),t.TgZ(1,"td"),t._UZ(2,"input",30),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"input",31),t.qZA(),t.TgZ(5,"td"),t._UZ(6,"input",32),t.qZA(),t.TgZ(7,"td"),t.TgZ(8,"button",33),t.NdJ("click",function(){const p=t.CHM(e).rowIndex;return t.oxw().arrayFieldDelete("inputProperties",p)}),t.ALo(9,"translate"),t.qZA(),t.qZA(),t.qZA()}2&o&&(t.Q6J("formGroupName",l.rowIndex+""),t.xp6(8),t.Q6J("pTooltip",t.lcZ(9,2,"DELETE")))}function St(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td",34),t.TgZ(2,"button",35),t.NdJ("click",function(){return t.CHM(e),t.oxw().arrayFieldAdd("inputProperties")}),t.ALo(3,"translate"),t.qZA(),t.qZA(),t.qZA()}2&o&&(t.xp6(2),t.Q6J("label",t.lcZ(3,1,"ADD")))}function Qt(o,l){1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"th"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"th"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t._UZ(10,"th"),t.qZA()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,3,"SYSTEM_NAME")),t.xp6(3),t.Oqu(t.lcZ(6,5,"NAME")),t.xp6(3),t.Oqu(t.lcZ(9,7,"DEFAULT_VALUE")))}function Yt(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"tr",29),t.TgZ(1,"td"),t._UZ(2,"input",30),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"input",31),t.qZA(),t.TgZ(5,"td"),t._UZ(6,"input",32),t.qZA(),t.TgZ(7,"td"),t.TgZ(8,"button",33),t.NdJ("click",function(){const p=t.CHM(e).rowIndex;return t.oxw().arrayFieldDelete("outputProperties",p)}),t.ALo(9,"translate"),t.qZA(),t.qZA(),t.qZA()}2&o&&(t.Q6J("formGroupName",l.rowIndex+""),t.xp6(8),t.Q6J("pTooltip",t.lcZ(9,2,"DELETE")))}function Pt(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td",34),t.TgZ(2,"button",35),t.NdJ("click",function(){return t.CHM(e),t.oxw().arrayFieldAdd("outputProperties")}),t.ALo(3,"translate"),t.qZA(),t.qZA(),t.qZA()}2&o&&(t.xp6(2),t.Q6J("label",t.lcZ(3,1,"ADD")))}function Dt(o,l){if(1&o&&t._UZ(0,"p-message",36),2&o){const e=t.oxw();t.Q6J("text",e.errorMessage)}}function Rt(o,l){1&o&&(t.TgZ(0,"div",37),t._UZ(1,"p-progressSpinner"),t.qZA())}let Bt=(()=>{class o extends x.P{constructor(e,n,i){super(e,n,i),this.ref=e,this.config=n,this.dataService=i,this.model=new Ut(0,"","","",!0,[],[]),this.form=new r.cw({id:new r.NI("",[]),title:new r.NI("",[r.kI.required]),name:new r.NI("",[r.kI.required,r.kI.pattern("[A-Za-z0-9_-]+")]),description:new r.NI("",[]),isActive:new r.NI("",[]),inputProperties:new r.Oe([]),outputProperties:new r.Oe([])}),this.arrayFieldsData={inputProperties:{name:{validators:[r.kI.required]},title:{validators:[r.kI.required]},default_value:{validators:[]}},outputProperties:{name:{validators:[r.kI.required]},title:{validators:[r.kI.required]},default_value:{validators:[]}}}}ngOnInit(){super.ngOnInit(),this.createArrayFieldsProperty("inputProperties"),this.createArrayFieldsProperty("outputProperties")}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(d.E7),t.Y36(d.S),t.Y36(E))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-modal-field-type"]],features:[t._Bn([]),t.qOj],decls:53,vars:32,consts:[[3,"formGroup"],["formEl",""],[1,"grid"],[1,"col-12","md:col-6"],[1,"mb-2"],["for","fieldTitle",1,"block","mb-2"],["type","text","id","fieldTitle","pInputText","","formControlName","title",1,"w-full"],["for","fieldSystemName",1,"block","mb-2"],["type","text","id","fieldSystemName","pInputText","","formControlName","name",1,"w-full","mb-2"],["for","fieldDescription",1,"block","mb-2"],["id","fieldDescription","rows","5","pInputTextarea","","formControlName","description",1,"w-full","mb-2"],[1,"grid","mb-3"],["inputId","fieldActive","styleClass","mr-2 vertical-align-middle","formControlName","isActive"],["for","fieldActive",1,"vertical-align-middle"],[3,"header"],["formArrayName","inputProperties"],["styleClass","p-datatable-sm",3,"value"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],["formArrayName","outputProperties"],["role","separator",1,"p-divider","p-component","p-divider-horizontal","p-divider-solid","p-divider-left"],[1,"p-divider-content"],["styleClass","block w-full text-left mb-3","severity","error",3,"text",4,"ngIf"],[1,"text-right","pt-2"],["pButton","","pRipple","","type","button","icon","pi pi-check",1,"p-button-success","p-button-raised","w-full","md:w-auto","mb-2","md:mb-0","md:ml-2",3,"label","click"],["pButton","","pRipple","","type","button","icon","pi pi-check",1,"p-button-warning","p-button-raised","w-full","md:w-auto","mb-2","md:mb-0","md:ml-2",3,"label","click"],["pButton","","pRipple","","type","button",1,"p-button-secondary","p-button-raised","w-full","md:w-auto","mb-2","md:mb-0","md:ml-2",3,"label","click"],["class","loading-overlay",4,"ngIf"],[3,"formGroupName"],["type","text","pInputText","","formControlName","name",1,"p-inputtext-sm","w-full"],["type","text","pInputText","","formControlName","title",1,"p-inputtext-sm","w-full"],["type","text","pInputText","","formControlName","default_value",1,"p-inputtext-sm","w-full"],["pButton","","pRipple","","type","button","icon","pi pi-times","tooltipPosition","bottom",1,"p-button-raised","p-button-rounded","p-button-secondary","p-button-sm",3,"pTooltip","click"],["colspan","4",1,"text-center"],["type","button","pButton","","pRipple","","icon","pi pi-plus",1,"p-button-secondary","p-button-sm",3,"label","click"],["styleClass","block w-full text-left mb-3","severity","error",3,"text"],[1,"loading-overlay"]],template:function(e,n){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"form",0,1),t.TgZ(3,"div",2),t.TgZ(4,"div",3),t.TgZ(5,"div",4),t.TgZ(6,"label",5),t._uU(7),t.ALo(8,"translate"),t.qZA(),t._UZ(9,"input",6),t.qZA(),t.TgZ(10,"div",4),t.TgZ(11,"label",7),t._uU(12),t.ALo(13,"translate"),t.qZA(),t._UZ(14,"input",8),t.qZA(),t.qZA(),t.TgZ(15,"div",3),t.TgZ(16,"label",9),t._uU(17),t.ALo(18,"translate"),t.qZA(),t._UZ(19,"textarea",10),t.qZA(),t.qZA(),t.TgZ(20,"div",11),t.TgZ(21,"div",3),t.TgZ(22,"div"),t._UZ(23,"p-inputSwitch",12),t.TgZ(24,"label",13),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(27,"p-accordion"),t.TgZ(28,"p-accordionTab",14),t.ALo(29,"translate"),t.TgZ(30,"div",15),t.TgZ(31,"p-table",16),t.YNc(32,kt,11,9,"ng-template",17),t.YNc(33,Et,10,4,"ng-template",18),t.YNc(34,St,4,3,"ng-template",19),t.qZA(),t.qZA(),t.qZA(),t.TgZ(35,"p-accordionTab",14),t.ALo(36,"translate"),t.TgZ(37,"div",20),t.TgZ(38,"p-table",16),t.YNc(39,Qt,11,9,"ng-template",17),t.YNc(40,Yt,10,4,"ng-template",18),t.YNc(41,Pt,4,3,"ng-template",19),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(42,"div",21),t._UZ(43,"div",22),t.qZA(),t.YNc(44,Dt,1,1,"p-message",23),t.TgZ(45,"div",24),t.TgZ(46,"button",25),t.NdJ("click",function(p){return n.saveData(!0,p)}),t.ALo(47,"translate"),t.qZA(),t.TgZ(48,"button",26),t.NdJ("click",function(p){return n.saveData(!1,p)}),t.ALo(49,"translate"),t.qZA(),t.TgZ(50,"button",27),t.NdJ("click",function(p){return n.dismissModal(p)}),t.ALo(51,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(52,Rt,2,0,"div",28)),2&e&&(t.xp6(1),t.Q6J("formGroup",n.form),t.xp6(6),t.hij(" ",t.lcZ(8,14,"TITLE")," "),t.xp6(5),t.hij(" ",t.lcZ(13,16,"SYSTEM_NAME")," "),t.xp6(5),t.hij(" ",t.lcZ(18,18,"DESCRIPTION")," "),t.xp6(8),t.hij(" ",t.lcZ(26,20,"ACTIVE")," "),t.xp6(3),t.Q6J("header",t.lcZ(29,22,"INPUT_OPTIONS")),t.xp6(3),t.Q6J("value",n.arrayFields.inputProperties.controls),t.xp6(4),t.Q6J("header",t.lcZ(36,24,"OUTPUT_OPTIONS")),t.xp6(3),t.Q6J("value",n.arrayFields.outputProperties.controls),t.xp6(6),t.Q6J("ngIf",n.errorMessage),t.xp6(2),t.Q6J("label",t.lcZ(47,26,"SAVE_AND_CLOSE")),t.xp6(2),t.Q6J("label",t.lcZ(49,28,"SAVE")),t.xp6(2),t.Q6J("label",t.lcZ(51,30,"CLOSE")),t.xp6(2),t.Q6J("ngIf",n.loading))},directives:[r._Y,r.JL,r.sg,r.Fj,A.o,r.JJ,r.u,k.g,j.Ql,H.UQ,H.US,r.CE,u.iA,m.jx,g.O5,Z.Hq,h.H,r.x0,B.u,v.q,q.G],pipes:[_.X$],encapsulation:2}),o})();function jt(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",8),t.TgZ(1,"div",9),t._UZ(2,"i",10),t.TgZ(3,"input",11),t.NdJ("input",function(){return t.CHM(e),t.oxw().onInputSearch()})("ngModelChange",function(i){return t.CHM(e),t.oxw().queryOptions.search_word=i}),t.ALo(4,"translate"),t.qZA(),t.qZA(),t.TgZ(5,"div",12),t.TgZ(6,"button",13),t.NdJ("click",function(i){return t.CHM(e),t.oxw(),t.MAs(8).toggle(i)}),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"button",14),t.NdJ("click",function(i){return t.CHM(e),t.oxw().openModal(null,i)}),t.ALo(9,"translate"),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(3),t.MGl("placeholder","",t.lcZ(4,4,"SEARCH"),"..."),t.Q6J("ngModel",e.queryOptions.search_word),t.xp6(3),t.Q6J("label",t.lcZ(7,6,"ACTIONS")),t.xp6(2),t.Q6J("label",t.lcZ(9,8,"ADD"))}}function Ht(o,l){if(1&o&&(t.TgZ(0,"th",16),t._uU(1),t.ALo(2,"translate"),t._UZ(3,"p-sortIcon",17),t.qZA()),2&o){const e=l.$implicit;t.Q6J("pSortableColumn",e.field),t.xp6(1),t.hij(" ",t.lcZ(2,3,e.header)," "),t.xp6(2),t.Q6J("field",e.field)}}function $t(o,l){if(1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"th"),t._UZ(2,"p-tableHeaderCheckbox"),t.qZA(),t.YNc(3,Ht,4,5,"th",15),t.qZA()),2&o){const e=l.$implicit;t.xp6(3),t.Q6J("ngForOf",e)}}function Gt(o,l){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",23),t.TgZ(2,"button",24),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit;return t.oxw().openModal(i)}),t.qZA(),t.TgZ(3,"button",25),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit;return t.oxw().deleteItem(i)}),t.qZA(),t.qZA(),t.BQk()}}function zt(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"td"),t.TgZ(1,"app-render-output",21),t.NdJ("changeRequest",function(i){return t.CHM(e),t.oxw(2).onOptionUpdate(i)}),t.qZA(),t.YNc(2,Gt,4,0,"ng-container",22),t.qZA()}if(2&o){const e=l.$implicit,n=l.index,i=t.oxw(),p=i.$implicit,a=i.columns;t.xp6(1),t.Q6J("value",p[e.field])("key",e.field)("outputType",e.outputType)("options",e.outputProperties)("object",p),t.xp6(1),t.Q6J("ngIf",a.length==n+1)}}function Xt(o,l){if(1&o&&(t.TgZ(0,"tr",18),t.TgZ(1,"td"),t._UZ(2,"p-tableCheckbox",19),t.qZA(),t.YNc(3,zt,3,6,"td",20),t.qZA()),2&o){const e=l.$implicit,n=l.columns;t.xp6(2),t.Q6J("value",e),t.xp6(1),t.Q6J("ngForOf",n)}}function Vt(o,l){1&o&&(t.ynx(0),t._uU(1),t.ALo(2,"translate"),t.BQk()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"NOTHING_FOUND"),". "))}function Kt(o,l){1&o&&(t._uU(0),t.ALo(1,"translate")),2&o&&t.hij(" ",t.lcZ(1,1,"EMPTY"),". ")}function Wt(o,l){if(1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"td",26),t.YNc(2,Vt,3,3,"ng-container",27),t.YNc(3,Kt,2,3,"ng-template",null,28,t.W1O),t.qZA(),t.qZA()),2&o){const e=l.$implicit,n=t.MAs(4),i=t.oxw();t.xp6(1),t.Q6J("colSpan",e.length+1),t.xp6(1),t.Q6J("ngIf",i.queryOptions.search_word)("ngIfElse",n)}}const te=[{path:"",component:G,children:[{path:"",redirectTo:"category/"},{path:"category",redirectTo:"category/"},{path:"category/:categoryId",component:at},{path:"content_types",component:Ot},{path:"field_types",component:(()=>{class o extends I.p{constructor(e,n,i,p,a,c){super(e,n,i,p,a,c),this.dialogService=e,this.contentTypesService=n,this.dataService=i,this.translateService=p,this.messageService=a,this.confirmationService=c,this.queryOptions=new L.J(1,12,"name","desc"),this.items=[],this.cols=[{field:"id",header:"ID",outputType:"text-center",outputProperties:{}},{field:"title",header:"TITLE",outputType:"text",outputProperties:{}},{field:"name",header:"SYSTEM_NAME",outputType:"text",outputProperties:{}},{field:"isActive",header:"STATUS",outputType:"boolean",outputProperties:{}}]}ngOnInit(){super.ngOnInit(),this.menuItems.push({label:this.getLangString("DISABLE_ENABLE"),icon:"pi pi-times-circle",command:()=>{this.blockSelected()}})}getModalComponent(){return Bt}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(d.xA),t.Y36(C.s),t.Y36(E),t.Y36(_.sK),t.Y36(m.ez),t.Y36(m.YP))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-catalog-category"]],features:[t._Bn([d.xA,m.YP,E]),t.qOj],decls:9,vars:16,consts:[["styleClass","p-datatable-striped","dataKey","id",3,"selection","sortField","sortOrder","lazy","paginator","showJumpToPageDropdown","value","columns","rows","totalRecords","loading","selectionChange","onLazyLoad"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["icon","pi pi-exclamation-triangle",3,"header"],["styleClass","p-menu-nowrap",3,"popup","model"],["menu",""],[1,"flex","md:justify-content-between","flex-wrap"],[1,"p-input-icon-left","w-full","md:w-auto","mb-2","md:mb-0"],[1,"pi","pi-search"],["pInputText","","type","text",1,"lg:w-auto","w-full",3,"ngModel","placeholder","input","ngModelChange"],[1,"w-full","md:w-auto"],["type","button","pButton","","pRipple","","icon","pi pi-chevron-down","iconPos","left",1,"ml-0","md:ml-2","w-full","md:w-auto","mb-2","md:mb-0",3,"label","click"],["type","button","pButton","","pRipple","","icon","pi pi-plus","iconPos","left",1,"p-button-success","ml-0","md:ml-2","w-full","md:w-auto",3,"label","click"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[1,"show-on-hover-parent"],[3,"value"],[4,"ngFor","ngForOf"],[3,"value","key","outputType","options","object","changeRequest"],[4,"ngIf"],[1,"absolute","show-on-hover","pos-top10","pos-right10"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button","p-button-sm","p-button-rounded","p-button-info",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button","p-button-sm","p-button-rounded","p-button-danger","ml-2",3,"click"],[3,"colSpan"],[4,"ngIf","ngIfElse"],["emptyMessage",""]],template:function(e,n){1&e&&(t.TgZ(0,"p-table",0),t.NdJ("selectionChange",function(p){return n.itemsSelected=p})("onLazyLoad",function(p){return n.getData(p)}),t.YNc(1,jt,10,10,"ng-template",1),t.YNc(2,$t,4,1,"ng-template",2),t.YNc(3,Xt,4,2,"ng-template",3),t.YNc(4,Wt,5,3,"ng-template",4),t.qZA(),t._UZ(5,"p-confirmDialog",5),t.ALo(6,"translate"),t._UZ(7,"p-menu",6,7)),2&e&&(t.Q6J("selection",n.itemsSelected)("sortField",n.queryOptions.sort_by)("sortOrder","asc"==n.queryOptions.sort_dir?1:-1)("lazy",!0)("paginator",!0)("showJumpToPageDropdown",!0)("value",n.items)("columns",n.cols)("rows",n.queryOptions.limit)("totalRecords",n.itemsTotal)("loading",n.loading),t.xp6(5),t.Q6J("header",t.lcZ(6,14,"CONFIRM")),t.xp6(2),t.Q6J("popup",!0)("model",n.menuItems))},directives:[u.iA,m.jx,J.Q,O.v2,r.Fj,A.o,r.JJ,r.On,Z.Hq,h.H,u.Mo,g.sg,u.lQ,u.fz,u.UA,w.g,g.O5],pipes:[_.X$],encapsulation:2}),o})()}]}];let ee=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[f.Bz.forChild(te)],f.Bz]}),o})(),oe=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[],imports:[[g.ez,$.m,ee]]}),o})()}}]);